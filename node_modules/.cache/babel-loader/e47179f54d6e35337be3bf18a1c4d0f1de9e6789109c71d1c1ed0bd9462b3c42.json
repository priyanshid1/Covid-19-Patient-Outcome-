{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n  return object;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nimport { HandsontableEditor } from \"../handsontableEditor/index.mjs\";\nimport { arrayMap, pivot } from \"../../helpers/array.mjs\";\nimport { addClass, getCaretPosition, getScrollbarWidth, getSelectionEndPosition, getTrimmingContainer, offset, outerHeight, outerWidth, setCaretPosition } from \"../../helpers/dom/element.mjs\";\nimport { isDefined, stringify } from \"../../helpers/mixed.mjs\";\nimport { stripTags } from \"../../helpers/string.mjs\";\nimport { KEY_CODES, isPrintableChar } from \"../../helpers/unicode.mjs\";\nimport { textRenderer } from \"../../renderers/textRenderer/index.mjs\";\nvar privatePool = new WeakMap();\nexport var EDITOR_TYPE = 'autocomplete';\n/**\n * @private\n * @class AutocompleteEditor\n */\n\nexport var AutocompleteEditor = /*#__PURE__*/function (_HandsontableEditor) {\n  _inherits(AutocompleteEditor, _HandsontableEditor);\n  var _super = _createSuper(AutocompleteEditor);\n  function AutocompleteEditor(instance) {\n    var _this;\n    _classCallCheck(this, AutocompleteEditor);\n    _this = _super.call(this, instance);\n    /**\n     * Query string to turn available values over.\n     *\n     * @type {string}\n     */\n\n    _defineProperty(_assertThisInitialized(_this), \"sortByRelevance\", function (value, choices, caseSensitive) {\n      var choicesRelevance = [];\n      var result = [];\n      var valueLength = value.length;\n      var choicesCount = choices.length;\n      var charsLeft;\n      var currentItem;\n      var i;\n      var valueIndex;\n      if (valueLength === 0) {\n        for (i = 0; i < choicesCount; i++) {\n          result.push(i);\n        }\n        return result;\n      }\n      for (i = 0; i < choicesCount; i++) {\n        currentItem = stripTags(stringify(choices[i]));\n        if (caseSensitive) {\n          valueIndex = currentItem.indexOf(value);\n        } else {\n          var locale = this.cellProperties.locale;\n          valueIndex = currentItem.toLocaleLowerCase(locale).indexOf(value.toLocaleLowerCase(locale));\n        }\n        if (valueIndex !== -1) {\n          charsLeft = currentItem.length - valueIndex - valueLength;\n          choicesRelevance.push({\n            baseIndex: i,\n            index: valueIndex,\n            charsLeft: charsLeft,\n            value: currentItem\n          });\n        }\n      }\n      choicesRelevance.sort(function (a, b) {\n        if (b.index === -1) {\n          return -1;\n        }\n        if (a.index === -1) {\n          return 1;\n        }\n        if (a.index < b.index) {\n          return -1;\n        } else if (b.index < a.index) {\n          return 1;\n        } else if (a.index === b.index) {\n          if (a.charsLeft < b.charsLeft) {\n            return -1;\n          } else if (a.charsLeft > b.charsLeft) {\n            return 1;\n          }\n        }\n        return 0;\n      });\n      for (i = 0, choicesCount = choicesRelevance.length; i < choicesCount; i++) {\n        result.push(choicesRelevance[i].baseIndex);\n      }\n      return result;\n    });\n    _this.query = null;\n    /**\n     * Contains stripped choices.\n     *\n     * @type {string[]}\n     */\n\n    _this.strippedChoices = [];\n    /**\n     * Contains raw choices.\n     *\n     * @type {Array}\n     */\n\n    _this.rawChoices = [];\n    privatePool.set(_assertThisInitialized(_this), {\n      skipOne: false,\n      isMacOS: _this.hot.rootWindow.navigator.platform.indexOf('Mac') > -1\n    });\n    return _this;\n  }\n  /**\n   * Gets current value from editable element.\n   *\n   * @returns {string}\n   */\n\n  _createClass(AutocompleteEditor, [{\n    key: \"getValue\",\n    value: function getValue() {\n      var _this2 = this;\n      var selectedValue = this.rawChoices.find(function (value) {\n        var strippedValue = _this2.stripValueIfNeeded(value);\n        return strippedValue === _this2.TEXTAREA.value;\n      });\n      if (isDefined(selectedValue)) {\n        return selectedValue;\n      }\n      return this.TEXTAREA.value;\n    }\n    /**\n     * Creates an editor's elements and adds necessary CSS classnames.\n     */\n  }, {\n    key: \"createElements\",\n    value: function createElements() {\n      _get(_getPrototypeOf(AutocompleteEditor.prototype), \"createElements\", this).call(this);\n      addClass(this.htContainer, 'autocompleteEditor');\n      addClass(this.htContainer, this.hot.rootWindow.navigator.platform.indexOf('Mac') === -1 ? '' : 'htMacScroll');\n    }\n    /**\n     * Opens the editor and adjust its size and internal Handsontable's instance.\n     */\n  }, {\n    key: \"open\",\n    value: function open() {\n      var _this3 = this;\n      var priv = privatePool.get(this);\n      _get(_getPrototypeOf(AutocompleteEditor.prototype), \"open\", this).call(this);\n      var choicesListHot = this.htEditor.getInstance();\n      var trimDropdown = this.cellProperties.trimDropdown === void 0 ? true : this.cellProperties.trimDropdown;\n      this.showEditableElement();\n      this.focus();\n      var scrollbarWidth = getScrollbarWidth();\n      if (scrollbarWidth === 0 && priv.isMacOS) {\n        scrollbarWidth += 15; // default scroll bar width if scroll bars are visible only when scrolling\n      }\n      choicesListHot.updateSettings({\n        colWidths: trimDropdown ? [outerWidth(this.TEXTAREA) - 2] : void 0,\n        width: trimDropdown ? outerWidth(this.TEXTAREA) + scrollbarWidth : void 0,\n        renderer: function renderer(instance, TD, row, col, prop, value, cellProperties) {\n          textRenderer(instance, TD, row, col, prop, value, cellProperties);\n          var _this3$cellProperties = _this3.cellProperties,\n            filteringCaseSensitive = _this3$cellProperties.filteringCaseSensitive,\n            allowHtml = _this3$cellProperties.allowHtml,\n            locale = _this3$cellProperties.locale;\n          var query = _this3.query;\n          var cellValue = stringify(value);\n          var indexOfMatch;\n          var match;\n          if (cellValue && !allowHtml) {\n            indexOfMatch = filteringCaseSensitive === true ? cellValue.indexOf(query) : cellValue.toLocaleLowerCase(locale).indexOf(query.toLocaleLowerCase(locale));\n            if (indexOfMatch !== -1) {\n              match = cellValue.substr(indexOfMatch, query.length);\n              cellValue = cellValue.replace(match, \"<strong>\".concat(match, \"</strong>\"));\n            }\n          }\n          TD.innerHTML = cellValue;\n        },\n        autoColumnSize: true\n      });\n      if (priv.skipOne) {\n        priv.skipOne = false;\n      }\n      this.hot._registerTimeout(function () {\n        _this3.queryChoices(_this3.TEXTAREA.value);\n      });\n    }\n    /**\n     * Closes the editor.\n     */\n  }, {\n    key: \"close\",\n    value: function close() {\n      this.removeHooksByKey('beforeKeyDown');\n      _get(_getPrototypeOf(AutocompleteEditor.prototype), \"close\", this).call(this);\n    }\n    /**\n     * Verifies result of validation or closes editor if user's cancelled changes.\n     *\n     * @param {boolean|undefined} result If `false` and the cell using allowInvalid option,\n     *                                   then an editor won't be closed until validation is passed.\n     */\n  }, {\n    key: \"discardEditor\",\n    value: function discardEditor(result) {\n      _get(_getPrototypeOf(AutocompleteEditor.prototype), \"discardEditor\", this).call(this, result);\n      this.hot.view.render();\n    }\n    /**\n     * Prepares choices list based on applied argument.\n     *\n     * @private\n     * @param {string} query The query.\n     */\n  }, {\n    key: \"queryChoices\",\n    value: function queryChoices(query) {\n      var _this4 = this;\n      var source = this.cellProperties.source;\n      this.query = query;\n      if (typeof source === 'function') {\n        source.call(this.cellProperties, query, function (choices) {\n          _this4.rawChoices = choices;\n          _this4.updateChoicesList(_this4.stripValuesIfNeeded(choices));\n        });\n      } else if (Array.isArray(source)) {\n        this.rawChoices = source;\n        this.updateChoicesList(this.stripValuesIfNeeded(source));\n      } else {\n        this.updateChoicesList([]);\n      }\n    }\n    /**\n     * Updates list of the possible completions to choose.\n     *\n     * @private\n     * @param {Array} choicesList The choices list to process.\n     */\n  }, {\n    key: \"updateChoicesList\",\n    value: function updateChoicesList(choicesList) {\n      var pos = getCaretPosition(this.TEXTAREA);\n      var endPos = getSelectionEndPosition(this.TEXTAREA);\n      var sortByRelevanceSetting = this.cellProperties.sortByRelevance;\n      var filterSetting = this.cellProperties.filter;\n      var orderByRelevance = null;\n      var highlightIndex = null;\n      var choices = choicesList;\n      if (sortByRelevanceSetting) {\n        orderByRelevance = this.sortByRelevance(this.stripValueIfNeeded(this.getValue()), choices, this.cellProperties.filteringCaseSensitive);\n      }\n      var orderByRelevanceLength = Array.isArray(orderByRelevance) ? orderByRelevance.length : 0;\n      if (filterSetting === false) {\n        if (orderByRelevanceLength) {\n          highlightIndex = orderByRelevance[0];\n        }\n      } else {\n        var sorted = [];\n        for (var i = 0, choicesCount = choices.length; i < choicesCount; i++) {\n          if (sortByRelevanceSetting && orderByRelevanceLength <= i) {\n            break;\n          }\n          if (orderByRelevanceLength) {\n            sorted.push(choices[orderByRelevance[i]]);\n          } else {\n            sorted.push(choices[i]);\n          }\n        }\n        highlightIndex = 0;\n        choices = sorted;\n      }\n      this.strippedChoices = choices;\n      this.htEditor.loadData(pivot([choices]));\n      this.updateDropdownHeight();\n      this.flipDropdownIfNeeded();\n      if (this.cellProperties.strict === true) {\n        this.highlightBestMatchingChoice(highlightIndex);\n      }\n      this.hot.listen();\n      setCaretPosition(this.TEXTAREA, pos, pos === endPos ? void 0 : endPos);\n    }\n    /**\n     * Checks where is enough place to open editor.\n     *\n     * @private\n     * @returns {boolean}\n     */\n  }, {\n    key: \"flipDropdownIfNeeded\",\n    value: function flipDropdownIfNeeded() {\n      var textareaOffset = offset(this.TEXTAREA);\n      var textareaHeight = outerHeight(this.TEXTAREA);\n      var dropdownHeight = this.getDropdownHeight();\n      var trimmingContainer = getTrimmingContainer(this.hot.view.wt.wtTable.TABLE);\n      var trimmingContainerScrollTop = trimmingContainer.scrollTop;\n      var headersHeight = outerHeight(this.hot.view.wt.wtTable.THEAD);\n      var containerOffset = {\n        row: 0,\n        col: 0\n      };\n      if (trimmingContainer !== this.hot.rootWindow) {\n        containerOffset = offset(trimmingContainer);\n      }\n      var spaceAbove = textareaOffset.top - containerOffset.top - headersHeight + trimmingContainerScrollTop;\n      var spaceBelow = trimmingContainer.scrollHeight - spaceAbove - headersHeight - textareaHeight;\n      var flipNeeded = dropdownHeight > spaceBelow && spaceAbove > spaceBelow;\n      if (flipNeeded) {\n        this.flipDropdown(dropdownHeight);\n      } else {\n        this.unflipDropdown();\n      }\n      this.limitDropdownIfNeeded(flipNeeded ? spaceAbove : spaceBelow, dropdownHeight);\n      return flipNeeded;\n    }\n    /**\n     * Checks if the internal table should generate scrollbar or could be rendered without it.\n     *\n     * @private\n     * @param {number} spaceAvailable The free space as height definded in px available for dropdown list.\n     * @param {number} dropdownHeight The dropdown height.\n     */\n  }, {\n    key: \"limitDropdownIfNeeded\",\n    value: function limitDropdownIfNeeded(spaceAvailable, dropdownHeight) {\n      if (dropdownHeight > spaceAvailable) {\n        var tempHeight = 0;\n        var i = 0;\n        var lastRowHeight = 0;\n        var height = null;\n        do {\n          lastRowHeight = this.htEditor.getRowHeight(i) || this.htEditor.view.wt.wtSettings.settings.defaultRowHeight;\n          tempHeight += lastRowHeight;\n          i += 1;\n        } while (tempHeight < spaceAvailable);\n        height = tempHeight - lastRowHeight;\n        if (this.htEditor.flipped) {\n          this.htEditor.rootElement.style.top = \"\".concat(parseInt(this.htEditor.rootElement.style.top, 10) + dropdownHeight - height, \"px\"); // eslint-disable-line max-len\n        }\n        this.setDropdownHeight(tempHeight - lastRowHeight);\n      }\n    }\n    /**\n     * Configures editor to open it at the top.\n     *\n     * @private\n     * @param {number} dropdownHeight The dropdown height.\n     */\n  }, {\n    key: \"flipDropdown\",\n    value: function flipDropdown(dropdownHeight) {\n      var dropdownStyle = this.htEditor.rootElement.style;\n      dropdownStyle.position = 'absolute';\n      dropdownStyle.top = \"\".concat(-dropdownHeight, \"px\");\n      this.htEditor.flipped = true;\n    }\n    /**\n     * Configures editor to open it at the bottom.\n     *\n     * @private\n     */\n  }, {\n    key: \"unflipDropdown\",\n    value: function unflipDropdown() {\n      var dropdownStyle = this.htEditor.rootElement.style;\n      if (dropdownStyle.position === 'absolute') {\n        dropdownStyle.position = '';\n        dropdownStyle.top = '';\n      }\n      this.htEditor.flipped = void 0;\n    }\n    /**\n     * Updates width and height of the internal Handsontable's instance.\n     *\n     * @private\n     */\n  }, {\n    key: \"updateDropdownHeight\",\n    value: function updateDropdownHeight() {\n      var currentDropdownWidth = this.htEditor.getColWidth(0) + getScrollbarWidth(this.hot.rootDocument) + 2;\n      var trimDropdown = this.cellProperties.trimDropdown;\n      this.htEditor.updateSettings({\n        height: this.getDropdownHeight(),\n        width: trimDropdown ? void 0 : currentDropdownWidth\n      });\n      this.htEditor.view.wt.wtTable.alignOverlaysWithTrimmingContainer();\n    }\n    /**\n     * Sets new height of the internal Handsontable's instance.\n     *\n     * @private\n     * @param {number} height The new dropdown height.\n     */\n  }, {\n    key: \"setDropdownHeight\",\n    value: function setDropdownHeight(height) {\n      this.htEditor.updateSettings({\n        height: height\n      });\n    }\n    /**\n     * Creates new selection on specified row index, or deselects selected cells.\n     *\n     * @private\n     * @param {number|undefined} index The visual row index.\n     */\n  }, {\n    key: \"highlightBestMatchingChoice\",\n    value: function highlightBestMatchingChoice(index) {\n      if (typeof index === 'number') {\n        this.htEditor.selectCell(index, 0, void 0, void 0, void 0, false);\n      } else {\n        this.htEditor.deselectCell();\n      }\n    }\n    /**\n     * Calculates and return the internal Handsontable's height.\n     *\n     * @private\n     * @returns {number}\n     */\n  }, {\n    key: \"getDropdownHeight\",\n    value: function getDropdownHeight() {\n      var firstRowHeight = this.htEditor.getInstance().getRowHeight(0) || 23;\n      var visibleRows = this.cellProperties.visibleRows;\n      return this.strippedChoices.length >= visibleRows ? visibleRows * firstRowHeight : this.strippedChoices.length * firstRowHeight + 8; // eslint-disable-line max-len\n    }\n    /**\n     * Sanitizes value from potential dangerous tags.\n     *\n     * @private\n     * @param {string} value The value to sanitize.\n     * @returns {string}\n     */\n  }, {\n    key: \"stripValueIfNeeded\",\n    value: function stripValueIfNeeded(value) {\n      return this.stripValuesIfNeeded([value])[0];\n    }\n    /**\n     * Sanitizes an array of the values from potential dangerous tags.\n     *\n     * @private\n     * @param {string[]} values The value to sanitize.\n     * @returns {string[]}\n     */\n  }, {\n    key: \"stripValuesIfNeeded\",\n    value: function stripValuesIfNeeded(values) {\n      var allowHtml = this.cellProperties.allowHtml;\n      var stringifiedValues = arrayMap(values, function (value) {\n        return stringify(value);\n      });\n      var strippedValues = arrayMap(stringifiedValues, function (value) {\n        return allowHtml ? value : stripTags(value);\n      });\n      return strippedValues;\n    }\n    /**\n     * Captures use of arrow down and up to control their behaviour.\n     *\n     * @private\n     * @param {number} keyCode The keyboard keycode.\n     * @returns {boolean}\n     */\n  }, {\n    key: \"allowKeyEventPropagation\",\n    value: function allowKeyEventPropagation(keyCode) {\n      var selectedRange = this.htEditor.getSelectedRangeLast();\n      var selected = {\n        row: selectedRange ? selectedRange.from.row : -1\n      };\n      var allowed = false;\n      if (keyCode === KEY_CODES.ARROW_DOWN && selected.row > 0 && selected.row < this.htEditor.countRows() - 1) {\n        allowed = true;\n      }\n      if (keyCode === KEY_CODES.ARROW_UP && selected.row > -1) {\n        allowed = true;\n      }\n      return allowed;\n    }\n    /**\n     * OnBeforeKeyDown callback.\n     *\n     * @private\n     * @param {KeyboardEvent} event The keyboard event object.\n     */\n  }, {\n    key: \"onBeforeKeyDown\",\n    value: function onBeforeKeyDown(event) {\n      var _this5 = this;\n      var priv = privatePool.get(this);\n      priv.skipOne = false;\n      if (isPrintableChar(event.keyCode) || event.keyCode === KEY_CODES.BACKSPACE || event.keyCode === KEY_CODES.DELETE || event.keyCode === KEY_CODES.INSERT) {\n        // for Windows 10 + FF86 there is need to add delay to make sure that the value taken from\n        // the textarea is the freshest value. Otherwise the list of choices does not update correctly (see #7570).\n        // On the more modern version of the FF (~ >=91) it seems that the issue is not present or it is\n        // more difficult to induce.\n        var timeOffset = 10; // on ctl+c / cmd+c don't update suggestion list\n\n        if (event.keyCode === KEY_CODES.C && (event.ctrlKey || event.metaKey)) {\n          return;\n        }\n        if (!this.isOpened()) {\n          timeOffset += 10;\n        }\n        if (this.htEditor) {\n          this.hot._registerTimeout(function () {\n            _this5.queryChoices(_this5.TEXTAREA.value);\n            priv.skipOne = true;\n          }, timeOffset);\n        }\n      }\n      _get(_getPrototypeOf(AutocompleteEditor.prototype), \"onBeforeKeyDown\", this).call(this, event);\n    }\n    /**\n     * Filters and sorts by relevance.\n     *\n     * @param {*} value The selected value.\n     * @param {string[]} choices The list of available choices.\n     * @param {boolean} caseSensitive Indicates if it's sorted by case.\n     * @returns {number[]} Array of indexes in original choices array.\n     */\n  }], [{\n    key: \"EDITOR_TYPE\",\n    get: function get() {\n      return EDITOR_TYPE;\n    }\n  }]);\n  return AutocompleteEditor;\n}(HandsontableEditor);","map":{"version":3,"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_get","Reflect","get","property","receiver","base","_superPropBase","desc","getOwnPropertyDescriptor","call","arguments","value","apply","object","hasOwnProperty","_getPrototypeOf","_inherits","subClass","superClass","create","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","_defineProperty","HandsontableEditor","arrayMap","pivot","addClass","getCaretPosition","getScrollbarWidth","getSelectionEndPosition","getTrimmingContainer","offset","outerHeight","outerWidth","setCaretPosition","isDefined","stringify","stripTags","KEY_CODES","isPrintableChar","textRenderer","privatePool","WeakMap","EDITOR_TYPE","AutocompleteEditor","_HandsontableEditor","_super","_this","choices","caseSensitive","choicesRelevance","valueLength","choicesCount","charsLeft","currentItem","valueIndex","push","indexOf","locale","cellProperties","toLocaleLowerCase","baseIndex","index","sort","a","b","query","strippedChoices","rawChoices","set","skipOne","isMacOS","hot","rootWindow","navigator","platform","getValue","_this2","selectedValue","find","strippedValue","stripValueIfNeeded","TEXTAREA","createElements","htContainer","open","_this3","priv","choicesListHot","htEditor","getInstance","trimDropdown","showEditableElement","focus","scrollbarWidth","updateSettings","colWidths","width","renderer","TD","row","col","prop","_this3$cellProperties","filteringCaseSensitive","allowHtml","cellValue","indexOfMatch","match","substr","replace","concat","innerHTML","autoColumnSize","_registerTimeout","queryChoices","close","removeHooksByKey","discardEditor","view","render","_this4","source","updateChoicesList","stripValuesIfNeeded","Array","isArray","choicesList","pos","endPos","sortByRelevanceSetting","sortByRelevance","filterSetting","filter","orderByRelevance","highlightIndex","orderByRelevanceLength","sorted","loadData","updateDropdownHeight","flipDropdownIfNeeded","strict","highlightBestMatchingChoice","listen","textareaOffset","textareaHeight","dropdownHeight","getDropdownHeight","trimmingContainer","wt","wtTable","TABLE","trimmingContainerScrollTop","scrollTop","headersHeight","THEAD","containerOffset","spaceAbove","top","spaceBelow","scrollHeight","flipNeeded","flipDropdown","unflipDropdown","limitDropdownIfNeeded","spaceAvailable","tempHeight","lastRowHeight","height","getRowHeight","wtSettings","settings","defaultRowHeight","flipped","rootElement","style","parseInt","setDropdownHeight","dropdownStyle","position","currentDropdownWidth","getColWidth","rootDocument","alignOverlaysWithTrimmingContainer","selectCell","deselectCell","firstRowHeight","visibleRows","values","stringifiedValues","strippedValues","allowKeyEventPropagation","keyCode","selectedRange","getSelectedRangeLast","selected","from","allowed","ARROW_DOWN","countRows","ARROW_UP","onBeforeKeyDown","event","_this5","BACKSPACE","DELETE","INSERT","timeOffset","C","ctrlKey","metaKey","isOpened"],"sources":["/Users/priyadeliwala/Desktop/sales-dashboard/node_modules/handsontable/editors/autocompleteEditor/autocompleteEditor.mjs"],"sourcesContent":["function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/es.weak-map.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.set-prototype-of.js\";\nimport \"core-js/modules/es.object.get-prototype-of.js\";\nimport \"core-js/modules/es.reflect.construct.js\";\nimport \"core-js/modules/es.reflect.get.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.symbol.iterator.js\";\nimport { HandsontableEditor } from \"../handsontableEditor/index.mjs\";\nimport { arrayMap, pivot } from \"../../helpers/array.mjs\";\nimport { addClass, getCaretPosition, getScrollbarWidth, getSelectionEndPosition, getTrimmingContainer, offset, outerHeight, outerWidth, setCaretPosition } from \"../../helpers/dom/element.mjs\";\nimport { isDefined, stringify } from \"../../helpers/mixed.mjs\";\nimport { stripTags } from \"../../helpers/string.mjs\";\nimport { KEY_CODES, isPrintableChar } from \"../../helpers/unicode.mjs\";\nimport { textRenderer } from \"../../renderers/textRenderer/index.mjs\";\nvar privatePool = new WeakMap();\nexport var EDITOR_TYPE = 'autocomplete';\n/**\n * @private\n * @class AutocompleteEditor\n */\n\nexport var AutocompleteEditor = /*#__PURE__*/function (_HandsontableEditor) {\n  _inherits(AutocompleteEditor, _HandsontableEditor);\n\n  var _super = _createSuper(AutocompleteEditor);\n\n  function AutocompleteEditor(instance) {\n    var _this;\n\n    _classCallCheck(this, AutocompleteEditor);\n\n    _this = _super.call(this, instance);\n    /**\n     * Query string to turn available values over.\n     *\n     * @type {string}\n     */\n\n    _defineProperty(_assertThisInitialized(_this), \"sortByRelevance\", function (value, choices, caseSensitive) {\n      var choicesRelevance = [];\n      var result = [];\n      var valueLength = value.length;\n      var choicesCount = choices.length;\n      var charsLeft;\n      var currentItem;\n      var i;\n      var valueIndex;\n\n      if (valueLength === 0) {\n        for (i = 0; i < choicesCount; i++) {\n          result.push(i);\n        }\n\n        return result;\n      }\n\n      for (i = 0; i < choicesCount; i++) {\n        currentItem = stripTags(stringify(choices[i]));\n\n        if (caseSensitive) {\n          valueIndex = currentItem.indexOf(value);\n        } else {\n          var locale = this.cellProperties.locale;\n          valueIndex = currentItem.toLocaleLowerCase(locale).indexOf(value.toLocaleLowerCase(locale));\n        }\n\n        if (valueIndex !== -1) {\n          charsLeft = currentItem.length - valueIndex - valueLength;\n          choicesRelevance.push({\n            baseIndex: i,\n            index: valueIndex,\n            charsLeft: charsLeft,\n            value: currentItem\n          });\n        }\n      }\n\n      choicesRelevance.sort(function (a, b) {\n        if (b.index === -1) {\n          return -1;\n        }\n\n        if (a.index === -1) {\n          return 1;\n        }\n\n        if (a.index < b.index) {\n          return -1;\n        } else if (b.index < a.index) {\n          return 1;\n        } else if (a.index === b.index) {\n          if (a.charsLeft < b.charsLeft) {\n            return -1;\n          } else if (a.charsLeft > b.charsLeft) {\n            return 1;\n          }\n        }\n\n        return 0;\n      });\n\n      for (i = 0, choicesCount = choicesRelevance.length; i < choicesCount; i++) {\n        result.push(choicesRelevance[i].baseIndex);\n      }\n\n      return result;\n    });\n\n    _this.query = null;\n    /**\n     * Contains stripped choices.\n     *\n     * @type {string[]}\n     */\n\n    _this.strippedChoices = [];\n    /**\n     * Contains raw choices.\n     *\n     * @type {Array}\n     */\n\n    _this.rawChoices = [];\n    privatePool.set(_assertThisInitialized(_this), {\n      skipOne: false,\n      isMacOS: _this.hot.rootWindow.navigator.platform.indexOf('Mac') > -1\n    });\n    return _this;\n  }\n  /**\n   * Gets current value from editable element.\n   *\n   * @returns {string}\n   */\n\n\n  _createClass(AutocompleteEditor, [{\n    key: \"getValue\",\n    value: function getValue() {\n      var _this2 = this;\n\n      var selectedValue = this.rawChoices.find(function (value) {\n        var strippedValue = _this2.stripValueIfNeeded(value);\n\n        return strippedValue === _this2.TEXTAREA.value;\n      });\n\n      if (isDefined(selectedValue)) {\n        return selectedValue;\n      }\n\n      return this.TEXTAREA.value;\n    }\n    /**\n     * Creates an editor's elements and adds necessary CSS classnames.\n     */\n\n  }, {\n    key: \"createElements\",\n    value: function createElements() {\n      _get(_getPrototypeOf(AutocompleteEditor.prototype), \"createElements\", this).call(this);\n\n      addClass(this.htContainer, 'autocompleteEditor');\n      addClass(this.htContainer, this.hot.rootWindow.navigator.platform.indexOf('Mac') === -1 ? '' : 'htMacScroll');\n    }\n    /**\n     * Opens the editor and adjust its size and internal Handsontable's instance.\n     */\n\n  }, {\n    key: \"open\",\n    value: function open() {\n      var _this3 = this;\n\n      var priv = privatePool.get(this);\n\n      _get(_getPrototypeOf(AutocompleteEditor.prototype), \"open\", this).call(this);\n\n      var choicesListHot = this.htEditor.getInstance();\n      var trimDropdown = this.cellProperties.trimDropdown === void 0 ? true : this.cellProperties.trimDropdown;\n      this.showEditableElement();\n      this.focus();\n      var scrollbarWidth = getScrollbarWidth();\n\n      if (scrollbarWidth === 0 && priv.isMacOS) {\n        scrollbarWidth += 15; // default scroll bar width if scroll bars are visible only when scrolling\n      }\n\n      choicesListHot.updateSettings({\n        colWidths: trimDropdown ? [outerWidth(this.TEXTAREA) - 2] : void 0,\n        width: trimDropdown ? outerWidth(this.TEXTAREA) + scrollbarWidth : void 0,\n        renderer: function renderer(instance, TD, row, col, prop, value, cellProperties) {\n          textRenderer(instance, TD, row, col, prop, value, cellProperties);\n          var _this3$cellProperties = _this3.cellProperties,\n              filteringCaseSensitive = _this3$cellProperties.filteringCaseSensitive,\n              allowHtml = _this3$cellProperties.allowHtml,\n              locale = _this3$cellProperties.locale;\n          var query = _this3.query;\n          var cellValue = stringify(value);\n          var indexOfMatch;\n          var match;\n\n          if (cellValue && !allowHtml) {\n            indexOfMatch = filteringCaseSensitive === true ? cellValue.indexOf(query) : cellValue.toLocaleLowerCase(locale).indexOf(query.toLocaleLowerCase(locale));\n\n            if (indexOfMatch !== -1) {\n              match = cellValue.substr(indexOfMatch, query.length);\n              cellValue = cellValue.replace(match, \"<strong>\".concat(match, \"</strong>\"));\n            }\n          }\n\n          TD.innerHTML = cellValue;\n        },\n        autoColumnSize: true\n      });\n\n      if (priv.skipOne) {\n        priv.skipOne = false;\n      }\n\n      this.hot._registerTimeout(function () {\n        _this3.queryChoices(_this3.TEXTAREA.value);\n      });\n    }\n    /**\n     * Closes the editor.\n     */\n\n  }, {\n    key: \"close\",\n    value: function close() {\n      this.removeHooksByKey('beforeKeyDown');\n\n      _get(_getPrototypeOf(AutocompleteEditor.prototype), \"close\", this).call(this);\n    }\n    /**\n     * Verifies result of validation or closes editor if user's cancelled changes.\n     *\n     * @param {boolean|undefined} result If `false` and the cell using allowInvalid option,\n     *                                   then an editor won't be closed until validation is passed.\n     */\n\n  }, {\n    key: \"discardEditor\",\n    value: function discardEditor(result) {\n      _get(_getPrototypeOf(AutocompleteEditor.prototype), \"discardEditor\", this).call(this, result);\n\n      this.hot.view.render();\n    }\n    /**\n     * Prepares choices list based on applied argument.\n     *\n     * @private\n     * @param {string} query The query.\n     */\n\n  }, {\n    key: \"queryChoices\",\n    value: function queryChoices(query) {\n      var _this4 = this;\n\n      var source = this.cellProperties.source;\n      this.query = query;\n\n      if (typeof source === 'function') {\n        source.call(this.cellProperties, query, function (choices) {\n          _this4.rawChoices = choices;\n\n          _this4.updateChoicesList(_this4.stripValuesIfNeeded(choices));\n        });\n      } else if (Array.isArray(source)) {\n        this.rawChoices = source;\n        this.updateChoicesList(this.stripValuesIfNeeded(source));\n      } else {\n        this.updateChoicesList([]);\n      }\n    }\n    /**\n     * Updates list of the possible completions to choose.\n     *\n     * @private\n     * @param {Array} choicesList The choices list to process.\n     */\n\n  }, {\n    key: \"updateChoicesList\",\n    value: function updateChoicesList(choicesList) {\n      var pos = getCaretPosition(this.TEXTAREA);\n      var endPos = getSelectionEndPosition(this.TEXTAREA);\n      var sortByRelevanceSetting = this.cellProperties.sortByRelevance;\n      var filterSetting = this.cellProperties.filter;\n      var orderByRelevance = null;\n      var highlightIndex = null;\n      var choices = choicesList;\n\n      if (sortByRelevanceSetting) {\n        orderByRelevance = this.sortByRelevance(this.stripValueIfNeeded(this.getValue()), choices, this.cellProperties.filteringCaseSensitive);\n      }\n\n      var orderByRelevanceLength = Array.isArray(orderByRelevance) ? orderByRelevance.length : 0;\n\n      if (filterSetting === false) {\n        if (orderByRelevanceLength) {\n          highlightIndex = orderByRelevance[0];\n        }\n      } else {\n        var sorted = [];\n\n        for (var i = 0, choicesCount = choices.length; i < choicesCount; i++) {\n          if (sortByRelevanceSetting && orderByRelevanceLength <= i) {\n            break;\n          }\n\n          if (orderByRelevanceLength) {\n            sorted.push(choices[orderByRelevance[i]]);\n          } else {\n            sorted.push(choices[i]);\n          }\n        }\n\n        highlightIndex = 0;\n        choices = sorted;\n      }\n\n      this.strippedChoices = choices;\n      this.htEditor.loadData(pivot([choices]));\n      this.updateDropdownHeight();\n      this.flipDropdownIfNeeded();\n\n      if (this.cellProperties.strict === true) {\n        this.highlightBestMatchingChoice(highlightIndex);\n      }\n\n      this.hot.listen();\n      setCaretPosition(this.TEXTAREA, pos, pos === endPos ? void 0 : endPos);\n    }\n    /**\n     * Checks where is enough place to open editor.\n     *\n     * @private\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"flipDropdownIfNeeded\",\n    value: function flipDropdownIfNeeded() {\n      var textareaOffset = offset(this.TEXTAREA);\n      var textareaHeight = outerHeight(this.TEXTAREA);\n      var dropdownHeight = this.getDropdownHeight();\n      var trimmingContainer = getTrimmingContainer(this.hot.view.wt.wtTable.TABLE);\n      var trimmingContainerScrollTop = trimmingContainer.scrollTop;\n      var headersHeight = outerHeight(this.hot.view.wt.wtTable.THEAD);\n      var containerOffset = {\n        row: 0,\n        col: 0\n      };\n\n      if (trimmingContainer !== this.hot.rootWindow) {\n        containerOffset = offset(trimmingContainer);\n      }\n\n      var spaceAbove = textareaOffset.top - containerOffset.top - headersHeight + trimmingContainerScrollTop;\n      var spaceBelow = trimmingContainer.scrollHeight - spaceAbove - headersHeight - textareaHeight;\n      var flipNeeded = dropdownHeight > spaceBelow && spaceAbove > spaceBelow;\n\n      if (flipNeeded) {\n        this.flipDropdown(dropdownHeight);\n      } else {\n        this.unflipDropdown();\n      }\n\n      this.limitDropdownIfNeeded(flipNeeded ? spaceAbove : spaceBelow, dropdownHeight);\n      return flipNeeded;\n    }\n    /**\n     * Checks if the internal table should generate scrollbar or could be rendered without it.\n     *\n     * @private\n     * @param {number} spaceAvailable The free space as height definded in px available for dropdown list.\n     * @param {number} dropdownHeight The dropdown height.\n     */\n\n  }, {\n    key: \"limitDropdownIfNeeded\",\n    value: function limitDropdownIfNeeded(spaceAvailable, dropdownHeight) {\n      if (dropdownHeight > spaceAvailable) {\n        var tempHeight = 0;\n        var i = 0;\n        var lastRowHeight = 0;\n        var height = null;\n\n        do {\n          lastRowHeight = this.htEditor.getRowHeight(i) || this.htEditor.view.wt.wtSettings.settings.defaultRowHeight;\n          tempHeight += lastRowHeight;\n          i += 1;\n        } while (tempHeight < spaceAvailable);\n\n        height = tempHeight - lastRowHeight;\n\n        if (this.htEditor.flipped) {\n          this.htEditor.rootElement.style.top = \"\".concat(parseInt(this.htEditor.rootElement.style.top, 10) + dropdownHeight - height, \"px\"); // eslint-disable-line max-len\n        }\n\n        this.setDropdownHeight(tempHeight - lastRowHeight);\n      }\n    }\n    /**\n     * Configures editor to open it at the top.\n     *\n     * @private\n     * @param {number} dropdownHeight The dropdown height.\n     */\n\n  }, {\n    key: \"flipDropdown\",\n    value: function flipDropdown(dropdownHeight) {\n      var dropdownStyle = this.htEditor.rootElement.style;\n      dropdownStyle.position = 'absolute';\n      dropdownStyle.top = \"\".concat(-dropdownHeight, \"px\");\n      this.htEditor.flipped = true;\n    }\n    /**\n     * Configures editor to open it at the bottom.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"unflipDropdown\",\n    value: function unflipDropdown() {\n      var dropdownStyle = this.htEditor.rootElement.style;\n\n      if (dropdownStyle.position === 'absolute') {\n        dropdownStyle.position = '';\n        dropdownStyle.top = '';\n      }\n\n      this.htEditor.flipped = void 0;\n    }\n    /**\n     * Updates width and height of the internal Handsontable's instance.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"updateDropdownHeight\",\n    value: function updateDropdownHeight() {\n      var currentDropdownWidth = this.htEditor.getColWidth(0) + getScrollbarWidth(this.hot.rootDocument) + 2;\n      var trimDropdown = this.cellProperties.trimDropdown;\n      this.htEditor.updateSettings({\n        height: this.getDropdownHeight(),\n        width: trimDropdown ? void 0 : currentDropdownWidth\n      });\n      this.htEditor.view.wt.wtTable.alignOverlaysWithTrimmingContainer();\n    }\n    /**\n     * Sets new height of the internal Handsontable's instance.\n     *\n     * @private\n     * @param {number} height The new dropdown height.\n     */\n\n  }, {\n    key: \"setDropdownHeight\",\n    value: function setDropdownHeight(height) {\n      this.htEditor.updateSettings({\n        height: height\n      });\n    }\n    /**\n     * Creates new selection on specified row index, or deselects selected cells.\n     *\n     * @private\n     * @param {number|undefined} index The visual row index.\n     */\n\n  }, {\n    key: \"highlightBestMatchingChoice\",\n    value: function highlightBestMatchingChoice(index) {\n      if (typeof index === 'number') {\n        this.htEditor.selectCell(index, 0, void 0, void 0, void 0, false);\n      } else {\n        this.htEditor.deselectCell();\n      }\n    }\n    /**\n     * Calculates and return the internal Handsontable's height.\n     *\n     * @private\n     * @returns {number}\n     */\n\n  }, {\n    key: \"getDropdownHeight\",\n    value: function getDropdownHeight() {\n      var firstRowHeight = this.htEditor.getInstance().getRowHeight(0) || 23;\n      var visibleRows = this.cellProperties.visibleRows;\n      return this.strippedChoices.length >= visibleRows ? visibleRows * firstRowHeight : this.strippedChoices.length * firstRowHeight + 8; // eslint-disable-line max-len\n    }\n    /**\n     * Sanitizes value from potential dangerous tags.\n     *\n     * @private\n     * @param {string} value The value to sanitize.\n     * @returns {string}\n     */\n\n  }, {\n    key: \"stripValueIfNeeded\",\n    value: function stripValueIfNeeded(value) {\n      return this.stripValuesIfNeeded([value])[0];\n    }\n    /**\n     * Sanitizes an array of the values from potential dangerous tags.\n     *\n     * @private\n     * @param {string[]} values The value to sanitize.\n     * @returns {string[]}\n     */\n\n  }, {\n    key: \"stripValuesIfNeeded\",\n    value: function stripValuesIfNeeded(values) {\n      var allowHtml = this.cellProperties.allowHtml;\n      var stringifiedValues = arrayMap(values, function (value) {\n        return stringify(value);\n      });\n      var strippedValues = arrayMap(stringifiedValues, function (value) {\n        return allowHtml ? value : stripTags(value);\n      });\n      return strippedValues;\n    }\n    /**\n     * Captures use of arrow down and up to control their behaviour.\n     *\n     * @private\n     * @param {number} keyCode The keyboard keycode.\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"allowKeyEventPropagation\",\n    value: function allowKeyEventPropagation(keyCode) {\n      var selectedRange = this.htEditor.getSelectedRangeLast();\n      var selected = {\n        row: selectedRange ? selectedRange.from.row : -1\n      };\n      var allowed = false;\n\n      if (keyCode === KEY_CODES.ARROW_DOWN && selected.row > 0 && selected.row < this.htEditor.countRows() - 1) {\n        allowed = true;\n      }\n\n      if (keyCode === KEY_CODES.ARROW_UP && selected.row > -1) {\n        allowed = true;\n      }\n\n      return allowed;\n    }\n    /**\n     * OnBeforeKeyDown callback.\n     *\n     * @private\n     * @param {KeyboardEvent} event The keyboard event object.\n     */\n\n  }, {\n    key: \"onBeforeKeyDown\",\n    value: function onBeforeKeyDown(event) {\n      var _this5 = this;\n\n      var priv = privatePool.get(this);\n      priv.skipOne = false;\n\n      if (isPrintableChar(event.keyCode) || event.keyCode === KEY_CODES.BACKSPACE || event.keyCode === KEY_CODES.DELETE || event.keyCode === KEY_CODES.INSERT) {\n        // for Windows 10 + FF86 there is need to add delay to make sure that the value taken from\n        // the textarea is the freshest value. Otherwise the list of choices does not update correctly (see #7570).\n        // On the more modern version of the FF (~ >=91) it seems that the issue is not present or it is\n        // more difficult to induce.\n        var timeOffset = 10; // on ctl+c / cmd+c don't update suggestion list\n\n        if (event.keyCode === KEY_CODES.C && (event.ctrlKey || event.metaKey)) {\n          return;\n        }\n\n        if (!this.isOpened()) {\n          timeOffset += 10;\n        }\n\n        if (this.htEditor) {\n          this.hot._registerTimeout(function () {\n            _this5.queryChoices(_this5.TEXTAREA.value);\n\n            priv.skipOne = true;\n          }, timeOffset);\n        }\n      }\n\n      _get(_getPrototypeOf(AutocompleteEditor.prototype), \"onBeforeKeyDown\", this).call(this, event);\n    }\n    /**\n     * Filters and sorts by relevance.\n     *\n     * @param {*} value The selected value.\n     * @param {string[]} choices The list of available choices.\n     * @param {boolean} caseSensitive Indicates if it's sorted by case.\n     * @returns {number[]} Array of indexes in original choices array.\n     */\n\n  }], [{\n    key: \"EDITOR_TYPE\",\n    get: function get() {\n      return EDITOR_TYPE;\n    }\n  }]);\n\n  return AutocompleteEditor;\n}(HandsontableEditor);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}