{"ast":null,"code":"function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nimport Cursor from \"./cursor.mjs\";\nimport { SEPARATOR, NO_ITEMS, predefinedItems } from \"./predefinedItems.mjs\";\nimport { filterSeparators, hasSubMenu, isDisabled, isItemHidden, isSeparator, isSelectionDisabled, normalizeSelection } from \"./utils.mjs\";\nimport Core from \"../../core.mjs\";\nimport EventManager from \"../../eventManager.mjs\";\nimport { arrayEach, arrayFilter, arrayReduce } from \"../../helpers/array.mjs\";\nimport { isWindowsOS, isMobileBrowser, isIpadOS } from \"../../helpers/browser.mjs\";\nimport { addClass, empty, fastInnerHTML, getScrollbarWidth, isChildOf, isInput, removeClass, getParentWindow, hasClass } from \"../../helpers/dom/element.mjs\";\nimport { stopImmediatePropagation, isRightClick } from \"../../helpers/dom/event.mjs\";\nimport { debounce, isFunction } from \"../../helpers/function.mjs\";\nimport { isUndefined, isDefined } from \"../../helpers/mixed.mjs\";\nimport { mixin, hasOwnProperty } from \"../../helpers/object.mjs\";\nimport { KEY_CODES } from \"../../helpers/unicode.mjs\";\nimport localHooks from \"../../mixins/localHooks.mjs\";\nvar MIN_WIDTH = 215;\n/**\n * @private\n * @class Menu\n */\n\nvar Menu = /*#__PURE__*/function () {\n  function Menu(hotInstance, options) {\n    _classCallCheck(this, Menu);\n    this.hot = hotInstance;\n    this.options = options || {\n      parent: null,\n      name: null,\n      className: '',\n      keepInViewport: true,\n      standalone: false,\n      minWidth: MIN_WIDTH,\n      container: this.hot.rootDocument.documentElement\n    };\n    this.eventManager = new EventManager(this);\n    this.container = this.createContainer(this.options.name);\n    this.hotMenu = null;\n    this.hotSubMenus = {};\n    this.parentMenu = this.options.parent || null;\n    this.menuItems = null;\n    this.origOutsideClickDeselects = null;\n    this.keyEvent = false;\n    this.offset = {\n      above: 0,\n      below: 0,\n      left: 0,\n      right: 0\n    };\n    this._afterScrollCallback = null;\n    this.registerEvents();\n  }\n  /**\n   * Register event listeners.\n   *\n   * @private\n   */\n\n  _createClass(Menu, [{\n    key: \"registerEvents\",\n    value: function registerEvents() {\n      var _this = this;\n      var frame = this.hot.rootWindow;\n      while (frame) {\n        this.eventManager.addEventListener(frame.document, 'mousedown', function (event) {\n          return _this.onDocumentMouseDown(event);\n        });\n        this.eventManager.addEventListener(frame.document, 'contextmenu', function (event) {\n          return _this.onDocumentContextMenu(event);\n        });\n        frame = getParentWindow(frame);\n      }\n    }\n    /**\n     * Set array of objects which defines menu items.\n     *\n     * @param {Array} menuItems Menu items to display.\n     */\n  }, {\n    key: \"setMenuItems\",\n    value: function setMenuItems(menuItems) {\n      this.menuItems = menuItems;\n    }\n    /**\n     * Returns currently selected menu item. Returns `null` if no item was selected.\n     *\n     * @returns {object|null}\n     */\n  }, {\n    key: \"getSelectedItem\",\n    value: function getSelectedItem() {\n      return this.hasSelectedItem() ? this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelectedLast()[0]) : null;\n    }\n    /**\n     * Checks if the menu has selected (highlighted) any item from the menu list.\n     *\n     * @returns {boolean}\n     */\n  }, {\n    key: \"hasSelectedItem\",\n    value: function hasSelectedItem() {\n      return Array.isArray(this.hotMenu.getSelectedLast());\n    }\n    /**\n     * Set offset menu position for specified area (`above`, `below`, `left` or `right`).\n     *\n     * @param {string} area Specified area name (`above`, `below`, `left` or `right`).\n     * @param {number} offset Offset value.\n     */\n  }, {\n    key: \"setOffset\",\n    value: function setOffset(area) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      this.offset[area] = offset;\n    }\n    /**\n     * Check if menu is using as sub-menu.\n     *\n     * @returns {boolean}\n     */\n  }, {\n    key: \"isSubMenu\",\n    value: function isSubMenu() {\n      return this.parentMenu !== null;\n    }\n    /**\n     * Open menu.\n     *\n     * @fires Hooks#beforeContextMenuShow\n     * @fires Hooks#afterContextMenuShow\n     */\n  }, {\n    key: \"open\",\n    value: function open() {\n      var _this2 = this;\n      this.runLocalHooks('beforeOpen');\n      this.container.removeAttribute('style');\n      this.container.style.display = 'block';\n      var delayedOpenSubMenu = debounce(function (row) {\n        return _this2.openSubMenu(row);\n      }, 300);\n      var minWidthOfMenu = this.options.minWidth || MIN_WIDTH;\n      var noItemsDefined = false;\n      var filteredItems = arrayFilter(this.menuItems, function (item) {\n        if (item.key === NO_ITEMS) {\n          noItemsDefined = true;\n        }\n        return isItemHidden(item, _this2.hot);\n      });\n      if (filteredItems.length < 1 && !noItemsDefined) {\n        filteredItems.push(predefinedItems()[NO_ITEMS]);\n      } else if (filteredItems.length === 0) {\n        return;\n      }\n      filteredItems = filterSeparators(filteredItems, SEPARATOR);\n      var shouldAutoCloseMenu = false;\n      var settings = {\n        data: filteredItems,\n        colHeaders: false,\n        autoColumnSize: true,\n        autoWrapRow: false,\n        modifyColWidth: function modifyColWidth(width) {\n          if (isDefined(width) && width < minWidthOfMenu) {\n            return minWidthOfMenu;\n          }\n          return width;\n        },\n        autoRowSize: false,\n        readOnly: true,\n        editor: false,\n        copyPaste: false,\n        maxCols: 1,\n        columns: [{\n          data: 'name',\n          renderer: function renderer(hot, TD, row, col, prop, value) {\n            return _this2.menuItemRenderer(hot, TD, row, col, prop, value);\n          }\n        }],\n        renderAllRows: true,\n        fragmentSelection: false,\n        outsideClickDeselects: false,\n        disableVisualSelection: 'area',\n        beforeKeyDown: function beforeKeyDown(event) {\n          return _this2.onBeforeKeyDown(event);\n        },\n        afterOnCellMouseOver: function afterOnCellMouseOver(event, coords) {\n          if (_this2.isAllSubMenusClosed()) {\n            delayedOpenSubMenu(coords.row);\n          } else {\n            _this2.openSubMenu(coords.row);\n          }\n        },\n        rowHeights: function rowHeights(row) {\n          return filteredItems[row].name === SEPARATOR ? 1 : 23;\n        },\n        afterOnCellContextMenu: function afterOnCellContextMenu(event) {\n          event.preventDefault(); // On the Windows platform, the \"contextmenu\" is triggered after the \"mouseup\" so that's\n          // why the closing menu is here. (#6507#issuecomment-582392301).\n\n          if (isWindowsOS() && shouldAutoCloseMenu && _this2.hasSelectedItem()) {\n            _this2.close(true);\n          }\n        },\n        beforeOnCellMouseUp: function beforeOnCellMouseUp(event) {\n          if (_this2.hasSelectedItem()) {\n            shouldAutoCloseMenu = !_this2.isCommandPassive(_this2.getSelectedItem());\n            _this2.executeCommand(event);\n          }\n        },\n        afterOnCellMouseUp: function afterOnCellMouseUp(event) {\n          // If the code runs on the other platform than Windows, the \"mouseup\" is triggered\n          // after the \"contextmenu\". So then \"mouseup\" closes the menu. Otherwise, the closing\n          // menu responsibility is forwarded to \"afterOnCellContextMenu\" callback (#6507#issuecomment-582392301).\n          if ((!isWindowsOS() || !isRightClick(event)) && shouldAutoCloseMenu && _this2.hasSelectedItem()) {\n            // The timeout is necessary only for mobile devices. For desktop, the click event that is fired\n            // right after the mouseup event gets the event element target the same as the mouseup event.\n            // For mobile devices, the click event is triggered with native delay (~300ms), so when the mouseup\n            // event hides the tapped element, the click event grabs the element below. As a result, the filter\n            // by condition menu is closed and immediately open on tapping the \"None\" item.\n            if (isMobileBrowser() || isIpadOS()) {\n              setTimeout(function () {\n                return _this2.close(true);\n              }, 325);\n            } else {\n              _this2.close(true);\n            }\n          }\n        },\n        afterUnlisten: function afterUnlisten() {\n          // Restore menu focus, fix for `this.instance.unlisten();` call in the tableView.js@260 file.\n          // This prevents losing table responsiveness for keyboard events when filter select menu is closed (#6497).\n          if (!_this2.hasSelectedItem() && _this2.isOpened()) {\n            _this2.hotMenu.listen();\n          }\n        }\n      };\n      this.origOutsideClickDeselects = this.hot.getSettings().outsideClickDeselects;\n      this.hot.getSettings().outsideClickDeselects = false;\n      this.hotMenu = new Core(this.container, settings);\n      this.hotMenu.addHook('afterInit', function () {\n        return _this2.onAfterInit();\n      });\n      this.hotMenu.addHook('afterSelection', function () {\n        return _this2.onAfterSelection.apply(_this2, arguments);\n      });\n      this.hotMenu.init();\n      this.hotMenu.listen();\n      this.blockMainTableCallbacks();\n      this.runLocalHooks('afterOpen');\n    }\n    /**\n     * Close menu.\n     *\n     * @param {boolean} [closeParent=false] If `true` try to close parent menu if exists.\n     */\n  }, {\n    key: \"close\",\n    value: function close() {\n      var closeParent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      if (!this.isOpened()) {\n        return;\n      }\n      if (closeParent && this.parentMenu) {\n        this.parentMenu.close();\n      } else {\n        this.closeAllSubMenus();\n        this.container.style.display = 'none';\n        this.releaseMainTableCallbacks();\n        this.hotMenu.destroy();\n        this.hotMenu = null;\n        this.hot.getSettings().outsideClickDeselects = this.origOutsideClickDeselects;\n        this.runLocalHooks('afterClose');\n        if (this.parentMenu) {\n          this.parentMenu.hotMenu.listen();\n        }\n      }\n    }\n    /**\n     * Open sub menu at the provided row index.\n     *\n     * @param {number} row Row index.\n     * @returns {Menu|boolean} Returns created menu or `false` if no one menu was created.\n     */\n  }, {\n    key: \"openSubMenu\",\n    value: function openSubMenu(row) {\n      if (!this.hotMenu) {\n        return false;\n      }\n      var cell = this.hotMenu.getCell(row, 0);\n      this.closeAllSubMenus();\n      if (!cell || !hasSubMenu(cell)) {\n        return false;\n      }\n      var dataItem = this.hotMenu.getSourceDataAtRow(row);\n      var subMenu = new Menu(this.hot, {\n        parent: this,\n        name: dataItem.name,\n        className: this.options.className,\n        keepInViewport: true,\n        container: this.options.container\n      });\n      subMenu.setMenuItems(dataItem.submenu.items);\n      subMenu.open();\n      subMenu.setPosition(cell.getBoundingClientRect());\n      this.hotSubMenus[dataItem.key] = subMenu;\n      return subMenu;\n    }\n    /**\n     * Close sub menu at row index.\n     *\n     * @param {number} row Row index.\n     */\n  }, {\n    key: \"closeSubMenu\",\n    value: function closeSubMenu(row) {\n      var dataItem = this.hotMenu.getSourceDataAtRow(row);\n      var menus = this.hotSubMenus[dataItem.key];\n      if (menus) {\n        menus.destroy();\n        delete this.hotSubMenus[dataItem.key];\n      }\n    }\n    /**\n     * Close all opened sub menus.\n     */\n  }, {\n    key: \"closeAllSubMenus\",\n    value: function closeAllSubMenus() {\n      var _this3 = this;\n      arrayEach(this.hotMenu.getData(), function (value, row) {\n        return _this3.closeSubMenu(row);\n      });\n    }\n    /**\n     * Checks if all created and opened sub menus are closed.\n     *\n     * @returns {boolean}\n     */\n  }, {\n    key: \"isAllSubMenusClosed\",\n    value: function isAllSubMenusClosed() {\n      return Object.keys(this.hotSubMenus).length === 0;\n    }\n    /**\n     * Destroy instance.\n     */\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var menuContainerParentElement = this.container.parentNode;\n      this.clearLocalHooks();\n      this.close();\n      this.parentMenu = null;\n      this.eventManager.destroy();\n      if (menuContainerParentElement) {\n        menuContainerParentElement.removeChild(this.container);\n      }\n    }\n    /**\n     * Checks if menu was opened.\n     *\n     * @returns {boolean} Returns `true` if menu was opened.\n     */\n  }, {\n    key: \"isOpened\",\n    value: function isOpened() {\n      return this.hotMenu !== null;\n    }\n    /**\n     * Execute menu command.\n     *\n     * @param {Event} [event] The mouse event object.\n     */\n  }, {\n    key: \"executeCommand\",\n    value: function executeCommand(event) {\n      if (!this.isOpened() || !this.hasSelectedItem()) {\n        return;\n      }\n      var selectedItem = this.getSelectedItem();\n      this.runLocalHooks('select', selectedItem, event);\n      if (this.isCommandPassive(selectedItem)) {\n        return;\n      }\n      var selRanges = this.hot.getSelectedRange();\n      var normalizedSelection = selRanges ? normalizeSelection(selRanges) : [];\n      this.runLocalHooks('executeCommand', selectedItem.key, normalizedSelection, event);\n      if (this.isSubMenu()) {\n        this.parentMenu.runLocalHooks('executeCommand', selectedItem.key, normalizedSelection, event);\n      }\n    }\n    /**\n     * Checks if the passed command is passive or not. The command is passive when it's marked as\n     * disabled, the descriptor object contains `isCommand` property set to `false`, command\n     * is a separator, or the item is recognized as submenu. For passive items the menu is not\n     * closed automatically after the user trigger the command through the UI.\n     *\n     * @param {object} commandDescriptor Selected menu item from the menu data source.\n     * @returns {boolean}\n     */\n  }, {\n    key: \"isCommandPassive\",\n    value: function isCommandPassive(commandDescriptor) {\n      var isCommand = commandDescriptor.isCommand,\n        commandName = commandDescriptor.name,\n        disabled = commandDescriptor.disabled,\n        submenu = commandDescriptor.submenu;\n      var isItemDisabled = disabled === true || typeof disabled === 'function' && disabled.call(this.hot) === true;\n      return isCommand === false || commandName === SEPARATOR || isItemDisabled === true || submenu;\n    }\n    /**\n     * Set menu position based on dom event or based on literal object.\n     *\n     * @param {Event|object} coords Event or literal Object with coordinates.\n     */\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(coords) {\n      var cursor = new Cursor(coords, this.container.ownerDocument.defaultView);\n      if (this.options.keepInViewport) {\n        if (cursor.fitsBelow(this.container)) {\n          this.setPositionBelowCursor(cursor);\n        } else if (cursor.fitsAbove(this.container)) {\n          this.setPositionAboveCursor(cursor);\n        } else {\n          this.setPositionBelowCursor(cursor);\n        }\n        if (cursor.fitsOnRight(this.container)) {\n          this.setPositionOnRightOfCursor(cursor);\n        } else {\n          this.setPositionOnLeftOfCursor(cursor);\n        }\n      } else {\n        this.setPositionBelowCursor(cursor);\n        this.setPositionOnRightOfCursor(cursor);\n      }\n    }\n    /**\n     * Set menu position above cursor object.\n     *\n     * @param {Cursor} cursor `Cursor` object.\n     */\n  }, {\n    key: \"setPositionAboveCursor\",\n    value: function setPositionAboveCursor(cursor) {\n      var top = this.offset.above + cursor.top - this.container.offsetHeight;\n      if (this.isSubMenu()) {\n        top = cursor.top + cursor.cellHeight - this.container.offsetHeight + 3;\n      }\n      this.container.style.top = \"\".concat(top, \"px\");\n    }\n    /**\n     * Set menu position below cursor object.\n     *\n     * @param {Cursor} cursor `Cursor` object.\n     */\n  }, {\n    key: \"setPositionBelowCursor\",\n    value: function setPositionBelowCursor(cursor) {\n      var top = this.offset.below + cursor.top + 1;\n      if (this.isSubMenu()) {\n        top = cursor.top - 1;\n      }\n      this.container.style.top = \"\".concat(top, \"px\");\n    }\n    /**\n     * Set menu position on the right of cursor object.\n     *\n     * @param {Cursor} cursor `Cursor` object.\n     */\n  }, {\n    key: \"setPositionOnRightOfCursor\",\n    value: function setPositionOnRightOfCursor(cursor) {\n      var left;\n      if (this.isSubMenu()) {\n        left = 1 + cursor.left + cursor.cellWidth;\n      } else {\n        left = this.offset.right + 1 + cursor.left;\n      }\n      this.container.style.left = \"\".concat(left, \"px\");\n    }\n    /**\n     * Set menu position on the left of cursor object.\n     *\n     * @param {Cursor} cursor `Cursor` object.\n     */\n  }, {\n    key: \"setPositionOnLeftOfCursor\",\n    value: function setPositionOnLeftOfCursor(cursor) {\n      var scrollbarWidth = getScrollbarWidth(this.hot.rootDocument);\n      var left = this.offset.left + cursor.left - this.container.offsetWidth + scrollbarWidth + 4;\n      this.container.style.left = \"\".concat(left, \"px\");\n    }\n    /**\n     * Select first cell in opened menu.\n     */\n  }, {\n    key: \"selectFirstCell\",\n    value: function selectFirstCell() {\n      var cell = this.hotMenu.getCell(0, 0);\n      if (isSeparator(cell) || isDisabled(cell) || isSelectionDisabled(cell)) {\n        this.selectNextCell(0, 0);\n      } else {\n        this.hotMenu.selectCell(0, 0);\n      }\n    }\n    /**\n     * Select last cell in opened menu.\n     */\n  }, {\n    key: \"selectLastCell\",\n    value: function selectLastCell() {\n      var lastRow = this.hotMenu.countRows() - 1;\n      var cell = this.hotMenu.getCell(lastRow, 0);\n      if (isSeparator(cell) || isDisabled(cell) || isSelectionDisabled(cell)) {\n        this.selectPrevCell(lastRow, 0);\n      } else {\n        this.hotMenu.selectCell(lastRow, 0);\n      }\n    }\n    /**\n     * Select next cell in opened menu.\n     *\n     * @param {number} row Row index.\n     * @param {number} col Column index.\n     */\n  }, {\n    key: \"selectNextCell\",\n    value: function selectNextCell(row, col) {\n      var nextRow = row + 1;\n      var cell = nextRow < this.hotMenu.countRows() ? this.hotMenu.getCell(nextRow, col) : null;\n      if (!cell) {\n        return;\n      }\n      if (isSeparator(cell) || isDisabled(cell) || isSelectionDisabled(cell)) {\n        this.selectNextCell(nextRow, col);\n      } else {\n        this.hotMenu.selectCell(nextRow, col);\n      }\n    }\n    /**\n     * Select previous cell in opened menu.\n     *\n     * @param {number} row Row index.\n     * @param {number} col Column index.\n     */\n  }, {\n    key: \"selectPrevCell\",\n    value: function selectPrevCell(row, col) {\n      var prevRow = row - 1;\n      var cell = prevRow >= 0 ? this.hotMenu.getCell(prevRow, col) : null;\n      if (!cell) {\n        return;\n      }\n      if (isSeparator(cell) || isDisabled(cell) || isSelectionDisabled(cell)) {\n        this.selectPrevCell(prevRow, col);\n      } else {\n        this.hotMenu.selectCell(prevRow, col);\n      }\n    }\n    /**\n     * Menu item renderer.\n     *\n     * @private\n     * @param {Core} hot The Handsontable instance.\n     * @param {HTMLCellElement} TD The rendered cell element.\n     * @param {number} row The visual index.\n     * @param {number} col The visual index.\n     * @param {string} prop The column property if used.\n     * @param {string} value The cell value.\n     */\n  }, {\n    key: \"menuItemRenderer\",\n    value: function menuItemRenderer(hot, TD, row, col, prop, value) {\n      var _this4 = this;\n      var item = hot.getSourceDataAtRow(row);\n      var wrapper = this.hot.rootDocument.createElement('div');\n      var isSubMenu = function isSubMenu(itemToTest) {\n        return hasOwnProperty(itemToTest, 'submenu');\n      };\n      var itemIsSeparator = function itemIsSeparator(itemToTest) {\n        return new RegExp(SEPARATOR, 'i').test(itemToTest.name);\n      };\n      var itemIsDisabled = function itemIsDisabled(itemToTest) {\n        return itemToTest.disabled === true || typeof itemToTest.disabled === 'function' && itemToTest.disabled.call(_this4.hot) === true;\n      };\n      var itemIsSelectionDisabled = function itemIsSelectionDisabled(itemToTest) {\n        return itemToTest.disableSelection;\n      };\n      var itemValue = value;\n      if (typeof itemValue === 'function') {\n        itemValue = itemValue.call(this.hot);\n      }\n      empty(TD);\n      addClass(wrapper, 'htItemWrapper');\n      TD.appendChild(wrapper);\n      if (itemIsSeparator(item)) {\n        addClass(TD, 'htSeparator');\n      } else if (typeof item.renderer === 'function') {\n        addClass(TD, 'htCustomMenuRenderer');\n        TD.appendChild(item.renderer(hot, wrapper, row, col, prop, itemValue));\n      } else {\n        fastInnerHTML(wrapper, itemValue);\n      }\n      if (itemIsDisabled(item)) {\n        addClass(TD, 'htDisabled');\n        this.eventManager.addEventListener(TD, 'mouseenter', function () {\n          return hot.deselectCell();\n        });\n      } else if (itemIsSelectionDisabled(item)) {\n        addClass(TD, 'htSelectionDisabled');\n        this.eventManager.addEventListener(TD, 'mouseenter', function () {\n          return hot.deselectCell();\n        });\n      } else if (isSubMenu(item)) {\n        addClass(TD, 'htSubmenu');\n        if (itemIsSelectionDisabled(item)) {\n          this.eventManager.addEventListener(TD, 'mouseenter', function () {\n            return hot.deselectCell();\n          });\n        } else {\n          this.eventManager.addEventListener(TD, 'mouseenter', function () {\n            return hot.selectCell(row, col, void 0, void 0, false, false);\n          });\n        }\n      } else {\n        removeClass(TD, ['htSubmenu', 'htDisabled']);\n        if (itemIsSelectionDisabled(item)) {\n          this.eventManager.addEventListener(TD, 'mouseenter', function () {\n            return hot.deselectCell();\n          });\n        } else {\n          this.eventManager.addEventListener(TD, 'mouseenter', function () {\n            return hot.selectCell(row, col, void 0, void 0, false, false);\n          });\n        }\n      }\n    }\n    /**\n     * Create container/wrapper for handsontable.\n     *\n     * @private\n     * @param {string} [name] Class name.\n     * @returns {HTMLElement}\n     */\n  }, {\n    key: \"createContainer\",\n    value: function createContainer() {\n      var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var doc = this.options.container.ownerDocument;\n      var className = name;\n      var container;\n      if (className) {\n        if (isFunction(className)) {\n          className = className.call(this.hot);\n          if (className === null || isUndefined(className)) {\n            className = '';\n          } else {\n            className = className.toString();\n          }\n        }\n        className = className.replace(/[^A-z0-9]/g, '_');\n        className = \"\".concat(this.options.className, \"Sub_\").concat(className);\n        container = doc.querySelector(\".\".concat(this.options.className, \".\").concat(className));\n      }\n      if (!container) {\n        container = doc.createElement('div');\n        addClass(container, \"htMenu \".concat(this.options.className));\n        if (className) {\n          addClass(container, className);\n        }\n        this.options.container.appendChild(container);\n      }\n      return container;\n    }\n    /**\n     * @private\n     */\n  }, {\n    key: \"blockMainTableCallbacks\",\n    value: function blockMainTableCallbacks() {\n      this._afterScrollCallback = function () {};\n      this.hot.addHook('afterScrollVertically', this._afterScrollCallback);\n      this.hot.addHook('afterScrollHorizontally', this._afterScrollCallback);\n    }\n    /**\n     * @private\n     */\n  }, {\n    key: \"releaseMainTableCallbacks\",\n    value: function releaseMainTableCallbacks() {\n      if (this._afterScrollCallback) {\n        this.hot.removeHook('afterScrollVertically', this._afterScrollCallback);\n        this.hot.removeHook('afterScrollHorizontally', this._afterScrollCallback);\n        this._afterScrollCallback = null;\n      }\n    }\n    /**\n     * On before key down listener.\n     *\n     * @private\n     * @param {Event} event The keyaboard event object.\n     */\n  }, {\n    key: \"onBeforeKeyDown\",\n    value: function onBeforeKeyDown(event) {\n      // For input elements, prevent event propagation. It allows entering text into an input\n      // element freely - without steeling the key events from the menu module (#6506, #6549).\n      if (isInput(event.target) && this.container.contains(event.target)) {\n        stopImmediatePropagation(event);\n        return;\n      }\n      var selection = this.hotMenu.getSelectedLast();\n      var stopEvent = false;\n      this.keyEvent = true;\n      switch (event.keyCode) {\n        case KEY_CODES.ESCAPE:\n          this.close();\n          stopEvent = true;\n          break;\n        case KEY_CODES.ENTER:\n          if (selection) {\n            if (this.hotMenu.getSourceDataAtRow(selection[0]).submenu) {\n              stopEvent = true;\n            } else {\n              this.executeCommand(event);\n              this.close(true);\n            }\n          }\n          break;\n        case KEY_CODES.ARROW_DOWN:\n          if (selection) {\n            this.selectNextCell(selection[0], selection[1]);\n          } else {\n            this.selectFirstCell();\n          }\n          stopEvent = true;\n          break;\n        case KEY_CODES.ARROW_UP:\n          if (selection) {\n            this.selectPrevCell(selection[0], selection[1]);\n          } else {\n            this.selectLastCell();\n          }\n          stopEvent = true;\n          break;\n        case KEY_CODES.ARROW_RIGHT:\n          if (selection) {\n            var menu = this.openSubMenu(selection[0]);\n            if (menu) {\n              menu.selectFirstCell();\n            }\n          }\n          stopEvent = true;\n          break;\n        case KEY_CODES.ARROW_LEFT:\n          if (selection && this.isSubMenu()) {\n            this.close();\n            if (this.parentMenu) {\n              this.parentMenu.hotMenu.listen();\n            }\n            stopEvent = true;\n          }\n          break;\n        default:\n          break;\n      }\n      if (stopEvent) {\n        event.preventDefault();\n        stopImmediatePropagation(event);\n      }\n      this.keyEvent = false;\n    }\n    /**\n     * On after init listener.\n     *\n     * @private\n     */\n  }, {\n    key: \"onAfterInit\",\n    value: function onAfterInit() {\n      var wtTable = this.hotMenu.view.wt.wtTable;\n      var data = this.hotMenu.getSettings().data;\n      var hiderStyle = wtTable.hider.style;\n      var holderStyle = wtTable.holder.style;\n      var currentHiderWidth = parseInt(hiderStyle.width, 10);\n      var realHeight = arrayReduce(data, function (accumulator, value) {\n        return accumulator + (value.name === SEPARATOR ? 1 : 26);\n      }, 0); // Additional 3px to menu's size because of additional border around its `table.htCore`.\n\n      holderStyle.width = \"\".concat(currentHiderWidth + 3, \"px\");\n      holderStyle.height = \"\".concat(realHeight + 3, \"px\");\n      hiderStyle.height = holderStyle.height;\n    }\n    /**\n     * On after selection listener.\n     *\n     * @param {number} r Selection start row index.\n     * @param {number} c Selection start column index.\n     * @param {number} r2 Selection end row index.\n     * @param {number} c2 Selection end column index.\n     * @param {object} preventScrolling Object with `value` property where its value change will be observed.\n     */\n  }, {\n    key: \"onAfterSelection\",\n    value: function onAfterSelection(r, c, r2, c2, preventScrolling) {\n      if (this.keyEvent === false) {\n        preventScrolling.value = true;\n      }\n    }\n    /**\n     * Document mouse down listener.\n     *\n     * @private\n     * @param {Event} event The mouse event object.\n     */\n  }, {\n    key: \"onDocumentMouseDown\",\n    value: function onDocumentMouseDown(event) {\n      if (!this.isOpened()) {\n        return;\n      } // Close menu when clicked element is not belongs to menu itself\n\n      if (this.options.standalone && this.hotMenu && !isChildOf(event.target, this.hotMenu.rootElement)) {\n        this.close(true); // Automatically close menu when clicked element is not belongs to menu or submenu (not necessarily to itself)\n      } else if ((this.isAllSubMenusClosed() || this.isSubMenu()) && !isChildOf(event.target, '.htMenu')) {\n        this.close(true);\n      }\n    }\n    /**\n     * Document's contextmenu listener.\n     *\n     * @private\n     * @param {MouseEvent} event The mouse event object.\n     */\n  }, {\n    key: \"onDocumentContextMenu\",\n    value: function onDocumentContextMenu(event) {\n      if (!this.isOpened()) {\n        return;\n      }\n      if (hasClass(event.target, 'htCore') && isChildOf(event.target, this.hotMenu.rootElement)) {\n        event.preventDefault();\n      }\n    }\n  }]);\n  return Menu;\n}();\nmixin(Menu, localHooks);\nexport default Menu;","map":{"version":3,"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","Cursor","SEPARATOR","NO_ITEMS","predefinedItems","filterSeparators","hasSubMenu","isDisabled","isItemHidden","isSeparator","isSelectionDisabled","normalizeSelection","Core","EventManager","arrayEach","arrayFilter","arrayReduce","isWindowsOS","isMobileBrowser","isIpadOS","addClass","empty","fastInnerHTML","getScrollbarWidth","isChildOf","isInput","removeClass","getParentWindow","hasClass","stopImmediatePropagation","isRightClick","debounce","isFunction","isUndefined","isDefined","mixin","hasOwnProperty","KEY_CODES","localHooks","MIN_WIDTH","Menu","hotInstance","options","hot","parent","name","className","keepInViewport","standalone","minWidth","container","rootDocument","documentElement","eventManager","createContainer","hotMenu","hotSubMenus","parentMenu","menuItems","origOutsideClickDeselects","keyEvent","offset","above","below","left","right","_afterScrollCallback","registerEvents","value","_this","frame","rootWindow","addEventListener","document","event","onDocumentMouseDown","onDocumentContextMenu","setMenuItems","getSelectedItem","hasSelectedItem","getSourceDataAtRow","getSelectedLast","Array","isArray","setOffset","area","arguments","undefined","isSubMenu","open","_this2","runLocalHooks","removeAttribute","style","display","delayedOpenSubMenu","row","openSubMenu","minWidthOfMenu","noItemsDefined","filteredItems","item","push","shouldAutoCloseMenu","settings","data","colHeaders","autoColumnSize","autoWrapRow","modifyColWidth","width","autoRowSize","readOnly","editor","copyPaste","maxCols","columns","renderer","TD","col","prop","menuItemRenderer","renderAllRows","fragmentSelection","outsideClickDeselects","disableVisualSelection","beforeKeyDown","onBeforeKeyDown","afterOnCellMouseOver","coords","isAllSubMenusClosed","rowHeights","afterOnCellContextMenu","preventDefault","close","beforeOnCellMouseUp","isCommandPassive","executeCommand","afterOnCellMouseUp","setTimeout","afterUnlisten","isOpened","listen","getSettings","addHook","onAfterInit","onAfterSelection","apply","init","blockMainTableCallbacks","closeParent","closeAllSubMenus","releaseMainTableCallbacks","destroy","cell","getCell","dataItem","subMenu","submenu","items","setPosition","getBoundingClientRect","closeSubMenu","menus","_this3","getData","keys","menuContainerParentElement","parentNode","clearLocalHooks","removeChild","selectedItem","selRanges","getSelectedRange","normalizedSelection","commandDescriptor","isCommand","commandName","disabled","isItemDisabled","call","cursor","ownerDocument","defaultView","fitsBelow","setPositionBelowCursor","fitsAbove","setPositionAboveCursor","fitsOnRight","setPositionOnRightOfCursor","setPositionOnLeftOfCursor","top","offsetHeight","cellHeight","concat","cellWidth","scrollbarWidth","offsetWidth","selectFirstCell","selectNextCell","selectCell","selectLastCell","lastRow","countRows","selectPrevCell","nextRow","prevRow","_this4","wrapper","createElement","itemToTest","itemIsSeparator","RegExp","test","itemIsDisabled","itemIsSelectionDisabled","disableSelection","itemValue","appendChild","deselectCell","doc","toString","replace","querySelector","removeHook","contains","selection","stopEvent","keyCode","ESCAPE","ENTER","ARROW_DOWN","ARROW_UP","ARROW_RIGHT","menu","ARROW_LEFT","wtTable","view","wt","hiderStyle","hider","holderStyle","holder","currentHiderWidth","parseInt","realHeight","accumulator","height","r","c","r2","c2","preventScrolling","rootElement"],"sources":["/Users/priyadeliwala/Desktop/sales-dashboard/node_modules/handsontable/plugins/contextMenu/menu.mjs"],"sourcesContent":["import \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/web.timers.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.constructor.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.array.concat.js\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nimport Cursor from \"./cursor.mjs\";\nimport { SEPARATOR, NO_ITEMS, predefinedItems } from \"./predefinedItems.mjs\";\nimport { filterSeparators, hasSubMenu, isDisabled, isItemHidden, isSeparator, isSelectionDisabled, normalizeSelection } from \"./utils.mjs\";\nimport Core from \"../../core.mjs\";\nimport EventManager from \"../../eventManager.mjs\";\nimport { arrayEach, arrayFilter, arrayReduce } from \"../../helpers/array.mjs\";\nimport { isWindowsOS, isMobileBrowser, isIpadOS } from \"../../helpers/browser.mjs\";\nimport { addClass, empty, fastInnerHTML, getScrollbarWidth, isChildOf, isInput, removeClass, getParentWindow, hasClass } from \"../../helpers/dom/element.mjs\";\nimport { stopImmediatePropagation, isRightClick } from \"../../helpers/dom/event.mjs\";\nimport { debounce, isFunction } from \"../../helpers/function.mjs\";\nimport { isUndefined, isDefined } from \"../../helpers/mixed.mjs\";\nimport { mixin, hasOwnProperty } from \"../../helpers/object.mjs\";\nimport { KEY_CODES } from \"../../helpers/unicode.mjs\";\nimport localHooks from \"../../mixins/localHooks.mjs\";\nvar MIN_WIDTH = 215;\n/**\n * @private\n * @class Menu\n */\n\nvar Menu = /*#__PURE__*/function () {\n  function Menu(hotInstance, options) {\n    _classCallCheck(this, Menu);\n\n    this.hot = hotInstance;\n    this.options = options || {\n      parent: null,\n      name: null,\n      className: '',\n      keepInViewport: true,\n      standalone: false,\n      minWidth: MIN_WIDTH,\n      container: this.hot.rootDocument.documentElement\n    };\n    this.eventManager = new EventManager(this);\n    this.container = this.createContainer(this.options.name);\n    this.hotMenu = null;\n    this.hotSubMenus = {};\n    this.parentMenu = this.options.parent || null;\n    this.menuItems = null;\n    this.origOutsideClickDeselects = null;\n    this.keyEvent = false;\n    this.offset = {\n      above: 0,\n      below: 0,\n      left: 0,\n      right: 0\n    };\n    this._afterScrollCallback = null;\n    this.registerEvents();\n  }\n  /**\n   * Register event listeners.\n   *\n   * @private\n   */\n\n\n  _createClass(Menu, [{\n    key: \"registerEvents\",\n    value: function registerEvents() {\n      var _this = this;\n\n      var frame = this.hot.rootWindow;\n\n      while (frame) {\n        this.eventManager.addEventListener(frame.document, 'mousedown', function (event) {\n          return _this.onDocumentMouseDown(event);\n        });\n        this.eventManager.addEventListener(frame.document, 'contextmenu', function (event) {\n          return _this.onDocumentContextMenu(event);\n        });\n        frame = getParentWindow(frame);\n      }\n    }\n    /**\n     * Set array of objects which defines menu items.\n     *\n     * @param {Array} menuItems Menu items to display.\n     */\n\n  }, {\n    key: \"setMenuItems\",\n    value: function setMenuItems(menuItems) {\n      this.menuItems = menuItems;\n    }\n    /**\n     * Returns currently selected menu item. Returns `null` if no item was selected.\n     *\n     * @returns {object|null}\n     */\n\n  }, {\n    key: \"getSelectedItem\",\n    value: function getSelectedItem() {\n      return this.hasSelectedItem() ? this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelectedLast()[0]) : null;\n    }\n    /**\n     * Checks if the menu has selected (highlighted) any item from the menu list.\n     *\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"hasSelectedItem\",\n    value: function hasSelectedItem() {\n      return Array.isArray(this.hotMenu.getSelectedLast());\n    }\n    /**\n     * Set offset menu position for specified area (`above`, `below`, `left` or `right`).\n     *\n     * @param {string} area Specified area name (`above`, `below`, `left` or `right`).\n     * @param {number} offset Offset value.\n     */\n\n  }, {\n    key: \"setOffset\",\n    value: function setOffset(area) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      this.offset[area] = offset;\n    }\n    /**\n     * Check if menu is using as sub-menu.\n     *\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"isSubMenu\",\n    value: function isSubMenu() {\n      return this.parentMenu !== null;\n    }\n    /**\n     * Open menu.\n     *\n     * @fires Hooks#beforeContextMenuShow\n     * @fires Hooks#afterContextMenuShow\n     */\n\n  }, {\n    key: \"open\",\n    value: function open() {\n      var _this2 = this;\n\n      this.runLocalHooks('beforeOpen');\n      this.container.removeAttribute('style');\n      this.container.style.display = 'block';\n      var delayedOpenSubMenu = debounce(function (row) {\n        return _this2.openSubMenu(row);\n      }, 300);\n      var minWidthOfMenu = this.options.minWidth || MIN_WIDTH;\n      var noItemsDefined = false;\n      var filteredItems = arrayFilter(this.menuItems, function (item) {\n        if (item.key === NO_ITEMS) {\n          noItemsDefined = true;\n        }\n\n        return isItemHidden(item, _this2.hot);\n      });\n\n      if (filteredItems.length < 1 && !noItemsDefined) {\n        filteredItems.push(predefinedItems()[NO_ITEMS]);\n      } else if (filteredItems.length === 0) {\n        return;\n      }\n\n      filteredItems = filterSeparators(filteredItems, SEPARATOR);\n      var shouldAutoCloseMenu = false;\n      var settings = {\n        data: filteredItems,\n        colHeaders: false,\n        autoColumnSize: true,\n        autoWrapRow: false,\n        modifyColWidth: function modifyColWidth(width) {\n          if (isDefined(width) && width < minWidthOfMenu) {\n            return minWidthOfMenu;\n          }\n\n          return width;\n        },\n        autoRowSize: false,\n        readOnly: true,\n        editor: false,\n        copyPaste: false,\n        maxCols: 1,\n        columns: [{\n          data: 'name',\n          renderer: function renderer(hot, TD, row, col, prop, value) {\n            return _this2.menuItemRenderer(hot, TD, row, col, prop, value);\n          }\n        }],\n        renderAllRows: true,\n        fragmentSelection: false,\n        outsideClickDeselects: false,\n        disableVisualSelection: 'area',\n        beforeKeyDown: function beforeKeyDown(event) {\n          return _this2.onBeforeKeyDown(event);\n        },\n        afterOnCellMouseOver: function afterOnCellMouseOver(event, coords) {\n          if (_this2.isAllSubMenusClosed()) {\n            delayedOpenSubMenu(coords.row);\n          } else {\n            _this2.openSubMenu(coords.row);\n          }\n        },\n        rowHeights: function rowHeights(row) {\n          return filteredItems[row].name === SEPARATOR ? 1 : 23;\n        },\n        afterOnCellContextMenu: function afterOnCellContextMenu(event) {\n          event.preventDefault(); // On the Windows platform, the \"contextmenu\" is triggered after the \"mouseup\" so that's\n          // why the closing menu is here. (#6507#issuecomment-582392301).\n\n          if (isWindowsOS() && shouldAutoCloseMenu && _this2.hasSelectedItem()) {\n            _this2.close(true);\n          }\n        },\n        beforeOnCellMouseUp: function beforeOnCellMouseUp(event) {\n          if (_this2.hasSelectedItem()) {\n            shouldAutoCloseMenu = !_this2.isCommandPassive(_this2.getSelectedItem());\n\n            _this2.executeCommand(event);\n          }\n        },\n        afterOnCellMouseUp: function afterOnCellMouseUp(event) {\n          // If the code runs on the other platform than Windows, the \"mouseup\" is triggered\n          // after the \"contextmenu\". So then \"mouseup\" closes the menu. Otherwise, the closing\n          // menu responsibility is forwarded to \"afterOnCellContextMenu\" callback (#6507#issuecomment-582392301).\n          if ((!isWindowsOS() || !isRightClick(event)) && shouldAutoCloseMenu && _this2.hasSelectedItem()) {\n            // The timeout is necessary only for mobile devices. For desktop, the click event that is fired\n            // right after the mouseup event gets the event element target the same as the mouseup event.\n            // For mobile devices, the click event is triggered with native delay (~300ms), so when the mouseup\n            // event hides the tapped element, the click event grabs the element below. As a result, the filter\n            // by condition menu is closed and immediately open on tapping the \"None\" item.\n            if (isMobileBrowser() || isIpadOS()) {\n              setTimeout(function () {\n                return _this2.close(true);\n              }, 325);\n            } else {\n              _this2.close(true);\n            }\n          }\n        },\n        afterUnlisten: function afterUnlisten() {\n          // Restore menu focus, fix for `this.instance.unlisten();` call in the tableView.js@260 file.\n          // This prevents losing table responsiveness for keyboard events when filter select menu is closed (#6497).\n          if (!_this2.hasSelectedItem() && _this2.isOpened()) {\n            _this2.hotMenu.listen();\n          }\n        }\n      };\n      this.origOutsideClickDeselects = this.hot.getSettings().outsideClickDeselects;\n      this.hot.getSettings().outsideClickDeselects = false;\n      this.hotMenu = new Core(this.container, settings);\n      this.hotMenu.addHook('afterInit', function () {\n        return _this2.onAfterInit();\n      });\n      this.hotMenu.addHook('afterSelection', function () {\n        return _this2.onAfterSelection.apply(_this2, arguments);\n      });\n      this.hotMenu.init();\n      this.hotMenu.listen();\n      this.blockMainTableCallbacks();\n      this.runLocalHooks('afterOpen');\n    }\n    /**\n     * Close menu.\n     *\n     * @param {boolean} [closeParent=false] If `true` try to close parent menu if exists.\n     */\n\n  }, {\n    key: \"close\",\n    value: function close() {\n      var closeParent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (!this.isOpened()) {\n        return;\n      }\n\n      if (closeParent && this.parentMenu) {\n        this.parentMenu.close();\n      } else {\n        this.closeAllSubMenus();\n        this.container.style.display = 'none';\n        this.releaseMainTableCallbacks();\n        this.hotMenu.destroy();\n        this.hotMenu = null;\n        this.hot.getSettings().outsideClickDeselects = this.origOutsideClickDeselects;\n        this.runLocalHooks('afterClose');\n\n        if (this.parentMenu) {\n          this.parentMenu.hotMenu.listen();\n        }\n      }\n    }\n    /**\n     * Open sub menu at the provided row index.\n     *\n     * @param {number} row Row index.\n     * @returns {Menu|boolean} Returns created menu or `false` if no one menu was created.\n     */\n\n  }, {\n    key: \"openSubMenu\",\n    value: function openSubMenu(row) {\n      if (!this.hotMenu) {\n        return false;\n      }\n\n      var cell = this.hotMenu.getCell(row, 0);\n      this.closeAllSubMenus();\n\n      if (!cell || !hasSubMenu(cell)) {\n        return false;\n      }\n\n      var dataItem = this.hotMenu.getSourceDataAtRow(row);\n      var subMenu = new Menu(this.hot, {\n        parent: this,\n        name: dataItem.name,\n        className: this.options.className,\n        keepInViewport: true,\n        container: this.options.container\n      });\n      subMenu.setMenuItems(dataItem.submenu.items);\n      subMenu.open();\n      subMenu.setPosition(cell.getBoundingClientRect());\n      this.hotSubMenus[dataItem.key] = subMenu;\n      return subMenu;\n    }\n    /**\n     * Close sub menu at row index.\n     *\n     * @param {number} row Row index.\n     */\n\n  }, {\n    key: \"closeSubMenu\",\n    value: function closeSubMenu(row) {\n      var dataItem = this.hotMenu.getSourceDataAtRow(row);\n      var menus = this.hotSubMenus[dataItem.key];\n\n      if (menus) {\n        menus.destroy();\n        delete this.hotSubMenus[dataItem.key];\n      }\n    }\n    /**\n     * Close all opened sub menus.\n     */\n\n  }, {\n    key: \"closeAllSubMenus\",\n    value: function closeAllSubMenus() {\n      var _this3 = this;\n\n      arrayEach(this.hotMenu.getData(), function (value, row) {\n        return _this3.closeSubMenu(row);\n      });\n    }\n    /**\n     * Checks if all created and opened sub menus are closed.\n     *\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"isAllSubMenusClosed\",\n    value: function isAllSubMenusClosed() {\n      return Object.keys(this.hotSubMenus).length === 0;\n    }\n    /**\n     * Destroy instance.\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var menuContainerParentElement = this.container.parentNode;\n      this.clearLocalHooks();\n      this.close();\n      this.parentMenu = null;\n      this.eventManager.destroy();\n\n      if (menuContainerParentElement) {\n        menuContainerParentElement.removeChild(this.container);\n      }\n    }\n    /**\n     * Checks if menu was opened.\n     *\n     * @returns {boolean} Returns `true` if menu was opened.\n     */\n\n  }, {\n    key: \"isOpened\",\n    value: function isOpened() {\n      return this.hotMenu !== null;\n    }\n    /**\n     * Execute menu command.\n     *\n     * @param {Event} [event] The mouse event object.\n     */\n\n  }, {\n    key: \"executeCommand\",\n    value: function executeCommand(event) {\n      if (!this.isOpened() || !this.hasSelectedItem()) {\n        return;\n      }\n\n      var selectedItem = this.getSelectedItem();\n      this.runLocalHooks('select', selectedItem, event);\n\n      if (this.isCommandPassive(selectedItem)) {\n        return;\n      }\n\n      var selRanges = this.hot.getSelectedRange();\n      var normalizedSelection = selRanges ? normalizeSelection(selRanges) : [];\n      this.runLocalHooks('executeCommand', selectedItem.key, normalizedSelection, event);\n\n      if (this.isSubMenu()) {\n        this.parentMenu.runLocalHooks('executeCommand', selectedItem.key, normalizedSelection, event);\n      }\n    }\n    /**\n     * Checks if the passed command is passive or not. The command is passive when it's marked as\n     * disabled, the descriptor object contains `isCommand` property set to `false`, command\n     * is a separator, or the item is recognized as submenu. For passive items the menu is not\n     * closed automatically after the user trigger the command through the UI.\n     *\n     * @param {object} commandDescriptor Selected menu item from the menu data source.\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"isCommandPassive\",\n    value: function isCommandPassive(commandDescriptor) {\n      var isCommand = commandDescriptor.isCommand,\n          commandName = commandDescriptor.name,\n          disabled = commandDescriptor.disabled,\n          submenu = commandDescriptor.submenu;\n      var isItemDisabled = disabled === true || typeof disabled === 'function' && disabled.call(this.hot) === true;\n      return isCommand === false || commandName === SEPARATOR || isItemDisabled === true || submenu;\n    }\n    /**\n     * Set menu position based on dom event or based on literal object.\n     *\n     * @param {Event|object} coords Event or literal Object with coordinates.\n     */\n\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(coords) {\n      var cursor = new Cursor(coords, this.container.ownerDocument.defaultView);\n\n      if (this.options.keepInViewport) {\n        if (cursor.fitsBelow(this.container)) {\n          this.setPositionBelowCursor(cursor);\n        } else if (cursor.fitsAbove(this.container)) {\n          this.setPositionAboveCursor(cursor);\n        } else {\n          this.setPositionBelowCursor(cursor);\n        }\n\n        if (cursor.fitsOnRight(this.container)) {\n          this.setPositionOnRightOfCursor(cursor);\n        } else {\n          this.setPositionOnLeftOfCursor(cursor);\n        }\n      } else {\n        this.setPositionBelowCursor(cursor);\n        this.setPositionOnRightOfCursor(cursor);\n      }\n    }\n    /**\n     * Set menu position above cursor object.\n     *\n     * @param {Cursor} cursor `Cursor` object.\n     */\n\n  }, {\n    key: \"setPositionAboveCursor\",\n    value: function setPositionAboveCursor(cursor) {\n      var top = this.offset.above + cursor.top - this.container.offsetHeight;\n\n      if (this.isSubMenu()) {\n        top = cursor.top + cursor.cellHeight - this.container.offsetHeight + 3;\n      }\n\n      this.container.style.top = \"\".concat(top, \"px\");\n    }\n    /**\n     * Set menu position below cursor object.\n     *\n     * @param {Cursor} cursor `Cursor` object.\n     */\n\n  }, {\n    key: \"setPositionBelowCursor\",\n    value: function setPositionBelowCursor(cursor) {\n      var top = this.offset.below + cursor.top + 1;\n\n      if (this.isSubMenu()) {\n        top = cursor.top - 1;\n      }\n\n      this.container.style.top = \"\".concat(top, \"px\");\n    }\n    /**\n     * Set menu position on the right of cursor object.\n     *\n     * @param {Cursor} cursor `Cursor` object.\n     */\n\n  }, {\n    key: \"setPositionOnRightOfCursor\",\n    value: function setPositionOnRightOfCursor(cursor) {\n      var left;\n\n      if (this.isSubMenu()) {\n        left = 1 + cursor.left + cursor.cellWidth;\n      } else {\n        left = this.offset.right + 1 + cursor.left;\n      }\n\n      this.container.style.left = \"\".concat(left, \"px\");\n    }\n    /**\n     * Set menu position on the left of cursor object.\n     *\n     * @param {Cursor} cursor `Cursor` object.\n     */\n\n  }, {\n    key: \"setPositionOnLeftOfCursor\",\n    value: function setPositionOnLeftOfCursor(cursor) {\n      var scrollbarWidth = getScrollbarWidth(this.hot.rootDocument);\n      var left = this.offset.left + cursor.left - this.container.offsetWidth + scrollbarWidth + 4;\n      this.container.style.left = \"\".concat(left, \"px\");\n    }\n    /**\n     * Select first cell in opened menu.\n     */\n\n  }, {\n    key: \"selectFirstCell\",\n    value: function selectFirstCell() {\n      var cell = this.hotMenu.getCell(0, 0);\n\n      if (isSeparator(cell) || isDisabled(cell) || isSelectionDisabled(cell)) {\n        this.selectNextCell(0, 0);\n      } else {\n        this.hotMenu.selectCell(0, 0);\n      }\n    }\n    /**\n     * Select last cell in opened menu.\n     */\n\n  }, {\n    key: \"selectLastCell\",\n    value: function selectLastCell() {\n      var lastRow = this.hotMenu.countRows() - 1;\n      var cell = this.hotMenu.getCell(lastRow, 0);\n\n      if (isSeparator(cell) || isDisabled(cell) || isSelectionDisabled(cell)) {\n        this.selectPrevCell(lastRow, 0);\n      } else {\n        this.hotMenu.selectCell(lastRow, 0);\n      }\n    }\n    /**\n     * Select next cell in opened menu.\n     *\n     * @param {number} row Row index.\n     * @param {number} col Column index.\n     */\n\n  }, {\n    key: \"selectNextCell\",\n    value: function selectNextCell(row, col) {\n      var nextRow = row + 1;\n      var cell = nextRow < this.hotMenu.countRows() ? this.hotMenu.getCell(nextRow, col) : null;\n\n      if (!cell) {\n        return;\n      }\n\n      if (isSeparator(cell) || isDisabled(cell) || isSelectionDisabled(cell)) {\n        this.selectNextCell(nextRow, col);\n      } else {\n        this.hotMenu.selectCell(nextRow, col);\n      }\n    }\n    /**\n     * Select previous cell in opened menu.\n     *\n     * @param {number} row Row index.\n     * @param {number} col Column index.\n     */\n\n  }, {\n    key: \"selectPrevCell\",\n    value: function selectPrevCell(row, col) {\n      var prevRow = row - 1;\n      var cell = prevRow >= 0 ? this.hotMenu.getCell(prevRow, col) : null;\n\n      if (!cell) {\n        return;\n      }\n\n      if (isSeparator(cell) || isDisabled(cell) || isSelectionDisabled(cell)) {\n        this.selectPrevCell(prevRow, col);\n      } else {\n        this.hotMenu.selectCell(prevRow, col);\n      }\n    }\n    /**\n     * Menu item renderer.\n     *\n     * @private\n     * @param {Core} hot The Handsontable instance.\n     * @param {HTMLCellElement} TD The rendered cell element.\n     * @param {number} row The visual index.\n     * @param {number} col The visual index.\n     * @param {string} prop The column property if used.\n     * @param {string} value The cell value.\n     */\n\n  }, {\n    key: \"menuItemRenderer\",\n    value: function menuItemRenderer(hot, TD, row, col, prop, value) {\n      var _this4 = this;\n\n      var item = hot.getSourceDataAtRow(row);\n      var wrapper = this.hot.rootDocument.createElement('div');\n\n      var isSubMenu = function isSubMenu(itemToTest) {\n        return hasOwnProperty(itemToTest, 'submenu');\n      };\n\n      var itemIsSeparator = function itemIsSeparator(itemToTest) {\n        return new RegExp(SEPARATOR, 'i').test(itemToTest.name);\n      };\n\n      var itemIsDisabled = function itemIsDisabled(itemToTest) {\n        return itemToTest.disabled === true || typeof itemToTest.disabled === 'function' && itemToTest.disabled.call(_this4.hot) === true;\n      };\n\n      var itemIsSelectionDisabled = function itemIsSelectionDisabled(itemToTest) {\n        return itemToTest.disableSelection;\n      };\n\n      var itemValue = value;\n\n      if (typeof itemValue === 'function') {\n        itemValue = itemValue.call(this.hot);\n      }\n\n      empty(TD);\n      addClass(wrapper, 'htItemWrapper');\n      TD.appendChild(wrapper);\n\n      if (itemIsSeparator(item)) {\n        addClass(TD, 'htSeparator');\n      } else if (typeof item.renderer === 'function') {\n        addClass(TD, 'htCustomMenuRenderer');\n        TD.appendChild(item.renderer(hot, wrapper, row, col, prop, itemValue));\n      } else {\n        fastInnerHTML(wrapper, itemValue);\n      }\n\n      if (itemIsDisabled(item)) {\n        addClass(TD, 'htDisabled');\n        this.eventManager.addEventListener(TD, 'mouseenter', function () {\n          return hot.deselectCell();\n        });\n      } else if (itemIsSelectionDisabled(item)) {\n        addClass(TD, 'htSelectionDisabled');\n        this.eventManager.addEventListener(TD, 'mouseenter', function () {\n          return hot.deselectCell();\n        });\n      } else if (isSubMenu(item)) {\n        addClass(TD, 'htSubmenu');\n\n        if (itemIsSelectionDisabled(item)) {\n          this.eventManager.addEventListener(TD, 'mouseenter', function () {\n            return hot.deselectCell();\n          });\n        } else {\n          this.eventManager.addEventListener(TD, 'mouseenter', function () {\n            return hot.selectCell(row, col, void 0, void 0, false, false);\n          });\n        }\n      } else {\n        removeClass(TD, ['htSubmenu', 'htDisabled']);\n\n        if (itemIsSelectionDisabled(item)) {\n          this.eventManager.addEventListener(TD, 'mouseenter', function () {\n            return hot.deselectCell();\n          });\n        } else {\n          this.eventManager.addEventListener(TD, 'mouseenter', function () {\n            return hot.selectCell(row, col, void 0, void 0, false, false);\n          });\n        }\n      }\n    }\n    /**\n     * Create container/wrapper for handsontable.\n     *\n     * @private\n     * @param {string} [name] Class name.\n     * @returns {HTMLElement}\n     */\n\n  }, {\n    key: \"createContainer\",\n    value: function createContainer() {\n      var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var doc = this.options.container.ownerDocument;\n      var className = name;\n      var container;\n\n      if (className) {\n        if (isFunction(className)) {\n          className = className.call(this.hot);\n\n          if (className === null || isUndefined(className)) {\n            className = '';\n          } else {\n            className = className.toString();\n          }\n        }\n\n        className = className.replace(/[^A-z0-9]/g, '_');\n        className = \"\".concat(this.options.className, \"Sub_\").concat(className);\n        container = doc.querySelector(\".\".concat(this.options.className, \".\").concat(className));\n      }\n\n      if (!container) {\n        container = doc.createElement('div');\n        addClass(container, \"htMenu \".concat(this.options.className));\n\n        if (className) {\n          addClass(container, className);\n        }\n\n        this.options.container.appendChild(container);\n      }\n\n      return container;\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"blockMainTableCallbacks\",\n    value: function blockMainTableCallbacks() {\n      this._afterScrollCallback = function () {};\n\n      this.hot.addHook('afterScrollVertically', this._afterScrollCallback);\n      this.hot.addHook('afterScrollHorizontally', this._afterScrollCallback);\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"releaseMainTableCallbacks\",\n    value: function releaseMainTableCallbacks() {\n      if (this._afterScrollCallback) {\n        this.hot.removeHook('afterScrollVertically', this._afterScrollCallback);\n        this.hot.removeHook('afterScrollHorizontally', this._afterScrollCallback);\n        this._afterScrollCallback = null;\n      }\n    }\n    /**\n     * On before key down listener.\n     *\n     * @private\n     * @param {Event} event The keyaboard event object.\n     */\n\n  }, {\n    key: \"onBeforeKeyDown\",\n    value: function onBeforeKeyDown(event) {\n      // For input elements, prevent event propagation. It allows entering text into an input\n      // element freely - without steeling the key events from the menu module (#6506, #6549).\n      if (isInput(event.target) && this.container.contains(event.target)) {\n        stopImmediatePropagation(event);\n        return;\n      }\n\n      var selection = this.hotMenu.getSelectedLast();\n      var stopEvent = false;\n      this.keyEvent = true;\n\n      switch (event.keyCode) {\n        case KEY_CODES.ESCAPE:\n          this.close();\n          stopEvent = true;\n          break;\n\n        case KEY_CODES.ENTER:\n          if (selection) {\n            if (this.hotMenu.getSourceDataAtRow(selection[0]).submenu) {\n              stopEvent = true;\n            } else {\n              this.executeCommand(event);\n              this.close(true);\n            }\n          }\n\n          break;\n\n        case KEY_CODES.ARROW_DOWN:\n          if (selection) {\n            this.selectNextCell(selection[0], selection[1]);\n          } else {\n            this.selectFirstCell();\n          }\n\n          stopEvent = true;\n          break;\n\n        case KEY_CODES.ARROW_UP:\n          if (selection) {\n            this.selectPrevCell(selection[0], selection[1]);\n          } else {\n            this.selectLastCell();\n          }\n\n          stopEvent = true;\n          break;\n\n        case KEY_CODES.ARROW_RIGHT:\n          if (selection) {\n            var menu = this.openSubMenu(selection[0]);\n\n            if (menu) {\n              menu.selectFirstCell();\n            }\n          }\n\n          stopEvent = true;\n          break;\n\n        case KEY_CODES.ARROW_LEFT:\n          if (selection && this.isSubMenu()) {\n            this.close();\n\n            if (this.parentMenu) {\n              this.parentMenu.hotMenu.listen();\n            }\n\n            stopEvent = true;\n          }\n\n          break;\n\n        default:\n          break;\n      }\n\n      if (stopEvent) {\n        event.preventDefault();\n        stopImmediatePropagation(event);\n      }\n\n      this.keyEvent = false;\n    }\n    /**\n     * On after init listener.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"onAfterInit\",\n    value: function onAfterInit() {\n      var wtTable = this.hotMenu.view.wt.wtTable;\n      var data = this.hotMenu.getSettings().data;\n      var hiderStyle = wtTable.hider.style;\n      var holderStyle = wtTable.holder.style;\n      var currentHiderWidth = parseInt(hiderStyle.width, 10);\n      var realHeight = arrayReduce(data, function (accumulator, value) {\n        return accumulator + (value.name === SEPARATOR ? 1 : 26);\n      }, 0); // Additional 3px to menu's size because of additional border around its `table.htCore`.\n\n      holderStyle.width = \"\".concat(currentHiderWidth + 3, \"px\");\n      holderStyle.height = \"\".concat(realHeight + 3, \"px\");\n      hiderStyle.height = holderStyle.height;\n    }\n    /**\n     * On after selection listener.\n     *\n     * @param {number} r Selection start row index.\n     * @param {number} c Selection start column index.\n     * @param {number} r2 Selection end row index.\n     * @param {number} c2 Selection end column index.\n     * @param {object} preventScrolling Object with `value` property where its value change will be observed.\n     */\n\n  }, {\n    key: \"onAfterSelection\",\n    value: function onAfterSelection(r, c, r2, c2, preventScrolling) {\n      if (this.keyEvent === false) {\n        preventScrolling.value = true;\n      }\n    }\n    /**\n     * Document mouse down listener.\n     *\n     * @private\n     * @param {Event} event The mouse event object.\n     */\n\n  }, {\n    key: \"onDocumentMouseDown\",\n    value: function onDocumentMouseDown(event) {\n      if (!this.isOpened()) {\n        return;\n      } // Close menu when clicked element is not belongs to menu itself\n\n\n      if (this.options.standalone && this.hotMenu && !isChildOf(event.target, this.hotMenu.rootElement)) {\n        this.close(true); // Automatically close menu when clicked element is not belongs to menu or submenu (not necessarily to itself)\n      } else if ((this.isAllSubMenusClosed() || this.isSubMenu()) && !isChildOf(event.target, '.htMenu')) {\n        this.close(true);\n      }\n    }\n    /**\n     * Document's contextmenu listener.\n     *\n     * @private\n     * @param {MouseEvent} event The mouse event object.\n     */\n\n  }, {\n    key: \"onDocumentContextMenu\",\n    value: function onDocumentContextMenu(event) {\n      if (!this.isOpened()) {\n        return;\n      }\n\n      if (hasClass(event.target, 'htCore') && isChildOf(event.target, this.hotMenu.rootElement)) {\n        event.preventDefault();\n      }\n    }\n  }]);\n\n  return Menu;\n}();\n\nmixin(Menu, localHooks);\nexport default Menu;"],"mappings":"AAUA,SAASA,eAAeA,CAACC,QAAQ,EAAEC,WAAW,EAAE;EAAE,IAAI,EAAED,QAAQ,YAAYC,WAAW,CAAC,EAAE;IAAE,MAAM,IAAIC,SAAS,CAAC,mCAAmC,CAAC;EAAE;AAAE;AAExJ,SAASC,iBAAiBA,CAACC,MAAM,EAAEC,KAAK,EAAE;EAAE,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,KAAK,CAACE,MAAM,EAAED,CAAC,EAAE,EAAE;IAAE,IAAIE,UAAU,GAAGH,KAAK,CAACC,CAAC,CAAC;IAAEE,UAAU,CAACC,UAAU,GAAGD,UAAU,CAACC,UAAU,IAAI,KAAK;IAAED,UAAU,CAACE,YAAY,GAAG,IAAI;IAAE,IAAI,OAAO,IAAIF,UAAU,EAAEA,UAAU,CAACG,QAAQ,GAAG,IAAI;IAAEC,MAAM,CAACC,cAAc,CAACT,MAAM,EAAEI,UAAU,CAACM,GAAG,EAAEN,UAAU,CAAC;EAAE;AAAE;AAE5T,SAASO,YAAYA,CAACd,WAAW,EAAEe,UAAU,EAAEC,WAAW,EAAE;EAAE,IAAID,UAAU,EAAEb,iBAAiB,CAACF,WAAW,CAACiB,SAAS,EAAEF,UAAU,CAAC;EAAE,IAAIC,WAAW,EAAEd,iBAAiB,CAACF,WAAW,EAAEgB,WAAW,CAAC;EAAEL,MAAM,CAACC,cAAc,CAACZ,WAAW,EAAE,WAAW,EAAE;IAAEU,QAAQ,EAAE;EAAM,CAAC,CAAC;EAAE,OAAOV,WAAW;AAAE;AAE5R,OAAOkB,MAAM,MAAM,cAAc;AACjC,SAASC,SAAS,EAAEC,QAAQ,EAAEC,eAAe,QAAQ,uBAAuB;AAC5E,SAASC,gBAAgB,EAAEC,UAAU,EAAEC,UAAU,EAAEC,YAAY,EAAEC,WAAW,EAAEC,mBAAmB,EAAEC,kBAAkB,QAAQ,aAAa;AAC1I,OAAOC,IAAI,MAAM,gBAAgB;AACjC,OAAOC,YAAY,MAAM,wBAAwB;AACjD,SAASC,SAAS,EAAEC,WAAW,EAAEC,WAAW,QAAQ,yBAAyB;AAC7E,SAASC,WAAW,EAAEC,eAAe,EAAEC,QAAQ,QAAQ,2BAA2B;AAClF,SAASC,QAAQ,EAAEC,KAAK,EAAEC,aAAa,EAAEC,iBAAiB,EAAEC,SAAS,EAAEC,OAAO,EAAEC,WAAW,EAAEC,eAAe,EAAEC,QAAQ,QAAQ,+BAA+B;AAC7J,SAASC,wBAAwB,EAAEC,YAAY,QAAQ,6BAA6B;AACpF,SAASC,QAAQ,EAAEC,UAAU,QAAQ,4BAA4B;AACjE,SAASC,WAAW,EAAEC,SAAS,QAAQ,yBAAyB;AAChE,SAASC,KAAK,EAAEC,cAAc,QAAQ,0BAA0B;AAChE,SAASC,SAAS,QAAQ,2BAA2B;AACrD,OAAOC,UAAU,MAAM,6BAA6B;AACpD,IAAIC,SAAS,GAAG,GAAG;AACnB;AACA;AACA;AACA;;AAEA,IAAIC,IAAI,GAAG,aAAa,YAAY;EAClC,SAASA,IAAIA,CAACC,WAAW,EAAEC,OAAO,EAAE;IAClC7D,eAAe,CAAC,IAAI,EAAE2D,IAAI,CAAC;IAE3B,IAAI,CAACG,GAAG,GAAGF,WAAW;IACtB,IAAI,CAACC,OAAO,GAAGA,OAAO,IAAI;MACxBE,MAAM,EAAE,IAAI;MACZC,IAAI,EAAE,IAAI;MACVC,SAAS,EAAE,EAAE;MACbC,cAAc,EAAE,IAAI;MACpBC,UAAU,EAAE,KAAK;MACjBC,QAAQ,EAAEV,SAAS;MACnBW,SAAS,EAAE,IAAI,CAACP,GAAG,CAACQ,YAAY,CAACC;IACnC,CAAC;IACD,IAAI,CAACC,YAAY,GAAG,IAAIxC,YAAY,CAAC,IAAI,CAAC;IAC1C,IAAI,CAACqC,SAAS,GAAG,IAAI,CAACI,eAAe,CAAC,IAAI,CAACZ,OAAO,CAACG,IAAI,CAAC;IACxD,IAAI,CAACU,OAAO,GAAG,IAAI;IACnB,IAAI,CAACC,WAAW,GAAG,CAAC,CAAC;IACrB,IAAI,CAACC,UAAU,GAAG,IAAI,CAACf,OAAO,CAACE,MAAM,IAAI,IAAI;IAC7C,IAAI,CAACc,SAAS,GAAG,IAAI;IACrB,IAAI,CAACC,yBAAyB,GAAG,IAAI;IACrC,IAAI,CAACC,QAAQ,GAAG,KAAK;IACrB,IAAI,CAACC,MAAM,GAAG;MACZC,KAAK,EAAE,CAAC;MACRC,KAAK,EAAE,CAAC;MACRC,IAAI,EAAE,CAAC;MACPC,KAAK,EAAE;IACT,CAAC;IACD,IAAI,CAACC,oBAAoB,GAAG,IAAI;IAChC,IAAI,CAACC,cAAc,CAAC,CAAC;EACvB;EACA;AACF;AACA;AACA;AACA;;EAGEtE,YAAY,CAAC2C,IAAI,EAAE,CAAC;IAClB5C,GAAG,EAAE,gBAAgB;IACrBwE,KAAK,EAAE,SAASD,cAAcA,CAAA,EAAG;MAC/B,IAAIE,KAAK,GAAG,IAAI;MAEhB,IAAIC,KAAK,GAAG,IAAI,CAAC3B,GAAG,CAAC4B,UAAU;MAE/B,OAAOD,KAAK,EAAE;QACZ,IAAI,CAACjB,YAAY,CAACmB,gBAAgB,CAACF,KAAK,CAACG,QAAQ,EAAE,WAAW,EAAE,UAAUC,KAAK,EAAE;UAC/E,OAAOL,KAAK,CAACM,mBAAmB,CAACD,KAAK,CAAC;QACzC,CAAC,CAAC;QACF,IAAI,CAACrB,YAAY,CAACmB,gBAAgB,CAACF,KAAK,CAACG,QAAQ,EAAE,aAAa,EAAE,UAAUC,KAAK,EAAE;UACjF,OAAOL,KAAK,CAACO,qBAAqB,CAACF,KAAK,CAAC;QAC3C,CAAC,CAAC;QACFJ,KAAK,GAAG3C,eAAe,CAAC2C,KAAK,CAAC;MAChC;IACF;IACA;AACJ;AACA;AACA;AACA;EAEE,CAAC,EAAE;IACD1E,GAAG,EAAE,cAAc;IACnBwE,KAAK,EAAE,SAASS,YAAYA,CAACnB,SAAS,EAAE;MACtC,IAAI,CAACA,SAAS,GAAGA,SAAS;IAC5B;IACA;AACJ;AACA;AACA;AACA;EAEE,CAAC,EAAE;IACD9D,GAAG,EAAE,iBAAiB;IACtBwE,KAAK,EAAE,SAASU,eAAeA,CAAA,EAAG;MAChC,OAAO,IAAI,CAACC,eAAe,CAAC,CAAC,GAAG,IAAI,CAACxB,OAAO,CAACyB,kBAAkB,CAAC,IAAI,CAACzB,OAAO,CAAC0B,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI;IAC3G;IACA;AACJ;AACA;AACA;AACA;EAEE,CAAC,EAAE;IACDrF,GAAG,EAAE,iBAAiB;IACtBwE,KAAK,EAAE,SAASW,eAAeA,CAAA,EAAG;MAChC,OAAOG,KAAK,CAACC,OAAO,CAAC,IAAI,CAAC5B,OAAO,CAAC0B,eAAe,CAAC,CAAC,CAAC;IACtD;IACA;AACJ;AACA;AACA;AACA;AACA;EAEE,CAAC,EAAE;IACDrF,GAAG,EAAE,WAAW;IAChBwE,KAAK,EAAE,SAASgB,SAASA,CAACC,IAAI,EAAE;MAC9B,IAAIxB,MAAM,GAAGyB,SAAS,CAACjG,MAAM,GAAG,CAAC,IAAIiG,SAAS,CAAC,CAAC,CAAC,KAAKC,SAAS,GAAGD,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC;MAClF,IAAI,CAACzB,MAAM,CAACwB,IAAI,CAAC,GAAGxB,MAAM;IAC5B;IACA;AACJ;AACA;AACA;AACA;EAEE,CAAC,EAAE;IACDjE,GAAG,EAAE,WAAW;IAChBwE,KAAK,EAAE,SAASoB,SAASA,CAAA,EAAG;MAC1B,OAAO,IAAI,CAAC/B,UAAU,KAAK,IAAI;IACjC;IACA;AACJ;AACA;AACA;AACA;AACA;EAEE,CAAC,EAAE;IACD7D,GAAG,EAAE,MAAM;IACXwE,KAAK,EAAE,SAASqB,IAAIA,CAAA,EAAG;MACrB,IAAIC,MAAM,GAAG,IAAI;MAEjB,IAAI,CAACC,aAAa,CAAC,YAAY,CAAC;MAChC,IAAI,CAACzC,SAAS,CAAC0C,eAAe,CAAC,OAAO,CAAC;MACvC,IAAI,CAAC1C,SAAS,CAAC2C,KAAK,CAACC,OAAO,GAAG,OAAO;MACtC,IAAIC,kBAAkB,GAAGhE,QAAQ,CAAC,UAAUiE,GAAG,EAAE;QAC/C,OAAON,MAAM,CAACO,WAAW,CAACD,GAAG,CAAC;MAChC,CAAC,EAAE,GAAG,CAAC;MACP,IAAIE,cAAc,GAAG,IAAI,CAACxD,OAAO,CAACO,QAAQ,IAAIV,SAAS;MACvD,IAAI4D,cAAc,GAAG,KAAK;MAC1B,IAAIC,aAAa,GAAGrF,WAAW,CAAC,IAAI,CAAC2C,SAAS,EAAE,UAAU2C,IAAI,EAAE;QAC9D,IAAIA,IAAI,CAACzG,GAAG,KAAKO,QAAQ,EAAE;UACzBgG,cAAc,GAAG,IAAI;QACvB;QAEA,OAAO3F,YAAY,CAAC6F,IAAI,EAAEX,MAAM,CAAC/C,GAAG,CAAC;MACvC,CAAC,CAAC;MAEF,IAAIyD,aAAa,CAAC/G,MAAM,GAAG,CAAC,IAAI,CAAC8G,cAAc,EAAE;QAC/CC,aAAa,CAACE,IAAI,CAAClG,eAAe,CAAC,CAAC,CAACD,QAAQ,CAAC,CAAC;MACjD,CAAC,MAAM,IAAIiG,aAAa,CAAC/G,MAAM,KAAK,CAAC,EAAE;QACrC;MACF;MAEA+G,aAAa,GAAG/F,gBAAgB,CAAC+F,aAAa,EAAElG,SAAS,CAAC;MAC1D,IAAIqG,mBAAmB,GAAG,KAAK;MAC/B,IAAIC,QAAQ,GAAG;QACbC,IAAI,EAAEL,aAAa;QACnBM,UAAU,EAAE,KAAK;QACjBC,cAAc,EAAE,IAAI;QACpBC,WAAW,EAAE,KAAK;QAClBC,cAAc,EAAE,SAASA,cAAcA,CAACC,KAAK,EAAE;UAC7C,IAAI5E,SAAS,CAAC4E,KAAK,CAAC,IAAIA,KAAK,GAAGZ,cAAc,EAAE;YAC9C,OAAOA,cAAc;UACvB;UAEA,OAAOY,KAAK;QACd,CAAC;QACDC,WAAW,EAAE,KAAK;QAClBC,QAAQ,EAAE,IAAI;QACdC,MAAM,EAAE,KAAK;QACbC,SAAS,EAAE,KAAK;QAChBC,OAAO,EAAE,CAAC;QACVC,OAAO,EAAE,CAAC;UACRX,IAAI,EAAE,MAAM;UACZY,QAAQ,EAAE,SAASA,QAAQA,CAAC1E,GAAG,EAAE2E,EAAE,EAAEtB,GAAG,EAAEuB,GAAG,EAAEC,IAAI,EAAEpD,KAAK,EAAE;YAC1D,OAAOsB,MAAM,CAAC+B,gBAAgB,CAAC9E,GAAG,EAAE2E,EAAE,EAAEtB,GAAG,EAAEuB,GAAG,EAAEC,IAAI,EAAEpD,KAAK,CAAC;UAChE;QACF,CAAC,CAAC;QACFsD,aAAa,EAAE,IAAI;QACnBC,iBAAiB,EAAE,KAAK;QACxBC,qBAAqB,EAAE,KAAK;QAC5BC,sBAAsB,EAAE,MAAM;QAC9BC,aAAa,EAAE,SAASA,aAAaA,CAACpD,KAAK,EAAE;UAC3C,OAAOgB,MAAM,CAACqC,eAAe,CAACrD,KAAK,CAAC;QACtC,CAAC;QACDsD,oBAAoB,EAAE,SAASA,oBAAoBA,CAACtD,KAAK,EAAEuD,MAAM,EAAE;UACjE,IAAIvC,MAAM,CAACwC,mBAAmB,CAAC,CAAC,EAAE;YAChCnC,kBAAkB,CAACkC,MAAM,CAACjC,GAAG,CAAC;UAChC,CAAC,MAAM;YACLN,MAAM,CAACO,WAAW,CAACgC,MAAM,CAACjC,GAAG,CAAC;UAChC;QACF,CAAC;QACDmC,UAAU,EAAE,SAASA,UAAUA,CAACnC,GAAG,EAAE;UACnC,OAAOI,aAAa,CAACJ,GAAG,CAAC,CAACnD,IAAI,KAAK3C,SAAS,GAAG,CAAC,GAAG,EAAE;QACvD,CAAC;QACDkI,sBAAsB,EAAE,SAASA,sBAAsBA,CAAC1D,KAAK,EAAE;UAC7DA,KAAK,CAAC2D,cAAc,CAAC,CAAC,CAAC,CAAC;UACxB;;UAEA,IAAIpH,WAAW,CAAC,CAAC,IAAIsF,mBAAmB,IAAIb,MAAM,CAACX,eAAe,CAAC,CAAC,EAAE;YACpEW,MAAM,CAAC4C,KAAK,CAAC,IAAI,CAAC;UACpB;QACF,CAAC;QACDC,mBAAmB,EAAE,SAASA,mBAAmBA,CAAC7D,KAAK,EAAE;UACvD,IAAIgB,MAAM,CAACX,eAAe,CAAC,CAAC,EAAE;YAC5BwB,mBAAmB,GAAG,CAACb,MAAM,CAAC8C,gBAAgB,CAAC9C,MAAM,CAACZ,eAAe,CAAC,CAAC,CAAC;YAExEY,MAAM,CAAC+C,cAAc,CAAC/D,KAAK,CAAC;UAC9B;QACF,CAAC;QACDgE,kBAAkB,EAAE,SAASA,kBAAkBA,CAAChE,KAAK,EAAE;UACrD;UACA;UACA;UACA,IAAI,CAAC,CAACzD,WAAW,CAAC,CAAC,IAAI,CAACa,YAAY,CAAC4C,KAAK,CAAC,KAAK6B,mBAAmB,IAAIb,MAAM,CAACX,eAAe,CAAC,CAAC,EAAE;YAC/F;YACA;YACA;YACA;YACA;YACA,IAAI7D,eAAe,CAAC,CAAC,IAAIC,QAAQ,CAAC,CAAC,EAAE;cACnCwH,UAAU,CAAC,YAAY;gBACrB,OAAOjD,MAAM,CAAC4C,KAAK,CAAC,IAAI,CAAC;cAC3B,CAAC,EAAE,GAAG,CAAC;YACT,CAAC,MAAM;cACL5C,MAAM,CAAC4C,KAAK,CAAC,IAAI,CAAC;YACpB;UACF;QACF,CAAC;QACDM,aAAa,EAAE,SAASA,aAAaA,CAAA,EAAG;UACtC;UACA;UACA,IAAI,CAAClD,MAAM,CAACX,eAAe,CAAC,CAAC,IAAIW,MAAM,CAACmD,QAAQ,CAAC,CAAC,EAAE;YAClDnD,MAAM,CAACnC,OAAO,CAACuF,MAAM,CAAC,CAAC;UACzB;QACF;MACF,CAAC;MACD,IAAI,CAACnF,yBAAyB,GAAG,IAAI,CAAChB,GAAG,CAACoG,WAAW,CAAC,CAAC,CAACnB,qBAAqB;MAC7E,IAAI,CAACjF,GAAG,CAACoG,WAAW,CAAC,CAAC,CAACnB,qBAAqB,GAAG,KAAK;MACpD,IAAI,CAACrE,OAAO,GAAG,IAAI3C,IAAI,CAAC,IAAI,CAACsC,SAAS,EAAEsD,QAAQ,CAAC;MACjD,IAAI,CAACjD,OAAO,CAACyF,OAAO,CAAC,WAAW,EAAE,YAAY;QAC5C,OAAOtD,MAAM,CAACuD,WAAW,CAAC,CAAC;MAC7B,CAAC,CAAC;MACF,IAAI,CAAC1F,OAAO,CAACyF,OAAO,CAAC,gBAAgB,EAAE,YAAY;QACjD,OAAOtD,MAAM,CAACwD,gBAAgB,CAACC,KAAK,CAACzD,MAAM,EAAEJ,SAAS,CAAC;MACzD,CAAC,CAAC;MACF,IAAI,CAAC/B,OAAO,CAAC6F,IAAI,CAAC,CAAC;MACnB,IAAI,CAAC7F,OAAO,CAACuF,MAAM,CAAC,CAAC;MACrB,IAAI,CAACO,uBAAuB,CAAC,CAAC;MAC9B,IAAI,CAAC1D,aAAa,CAAC,WAAW,CAAC;IACjC;IACA;AACJ;AACA;AACA;AACA;EAEE,CAAC,EAAE;IACD/F,GAAG,EAAE,OAAO;IACZwE,KAAK,EAAE,SAASkE,KAAKA,CAAA,EAAG;MACtB,IAAIgB,WAAW,GAAGhE,SAAS,CAACjG,MAAM,GAAG,CAAC,IAAIiG,SAAS,CAAC,CAAC,CAAC,KAAKC,SAAS,GAAGD,SAAS,CAAC,CAAC,CAAC,GAAG,KAAK;MAE3F,IAAI,CAAC,IAAI,CAACuD,QAAQ,CAAC,CAAC,EAAE;QACpB;MACF;MAEA,IAAIS,WAAW,IAAI,IAAI,CAAC7F,UAAU,EAAE;QAClC,IAAI,CAACA,UAAU,CAAC6E,KAAK,CAAC,CAAC;MACzB,CAAC,MAAM;QACL,IAAI,CAACiB,gBAAgB,CAAC,CAAC;QACvB,IAAI,CAACrG,SAAS,CAAC2C,KAAK,CAACC,OAAO,GAAG,MAAM;QACrC,IAAI,CAAC0D,yBAAyB,CAAC,CAAC;QAChC,IAAI,CAACjG,OAAO,CAACkG,OAAO,CAAC,CAAC;QACtB,IAAI,CAAClG,OAAO,GAAG,IAAI;QACnB,IAAI,CAACZ,GAAG,CAACoG,WAAW,CAAC,CAAC,CAACnB,qBAAqB,GAAG,IAAI,CAACjE,yBAAyB;QAC7E,IAAI,CAACgC,aAAa,CAAC,YAAY,CAAC;QAEhC,IAAI,IAAI,CAAClC,UAAU,EAAE;UACnB,IAAI,CAACA,UAAU,CAACF,OAAO,CAACuF,MAAM,CAAC,CAAC;QAClC;MACF;IACF;IACA;AACJ;AACA;AACA;AACA;AACA;EAEE,CAAC,EAAE;IACDlJ,GAAG,EAAE,aAAa;IAClBwE,KAAK,EAAE,SAAS6B,WAAWA,CAACD,GAAG,EAAE;MAC/B,IAAI,CAAC,IAAI,CAACzC,OAAO,EAAE;QACjB,OAAO,KAAK;MACd;MAEA,IAAImG,IAAI,GAAG,IAAI,CAACnG,OAAO,CAACoG,OAAO,CAAC3D,GAAG,EAAE,CAAC,CAAC;MACvC,IAAI,CAACuD,gBAAgB,CAAC,CAAC;MAEvB,IAAI,CAACG,IAAI,IAAI,CAACpJ,UAAU,CAACoJ,IAAI,CAAC,EAAE;QAC9B,OAAO,KAAK;MACd;MAEA,IAAIE,QAAQ,GAAG,IAAI,CAACrG,OAAO,CAACyB,kBAAkB,CAACgB,GAAG,CAAC;MACnD,IAAI6D,OAAO,GAAG,IAAIrH,IAAI,CAAC,IAAI,CAACG,GAAG,EAAE;QAC/BC,MAAM,EAAE,IAAI;QACZC,IAAI,EAAE+G,QAAQ,CAAC/G,IAAI;QACnBC,SAAS,EAAE,IAAI,CAACJ,OAAO,CAACI,SAAS;QACjCC,cAAc,EAAE,IAAI;QACpBG,SAAS,EAAE,IAAI,CAACR,OAAO,CAACQ;MAC1B,CAAC,CAAC;MACF2G,OAAO,CAAChF,YAAY,CAAC+E,QAAQ,CAACE,OAAO,CAACC,KAAK,CAAC;MAC5CF,OAAO,CAACpE,IAAI,CAAC,CAAC;MACdoE,OAAO,CAACG,WAAW,CAACN,IAAI,CAACO,qBAAqB,CAAC,CAAC,CAAC;MACjD,IAAI,CAACzG,WAAW,CAACoG,QAAQ,CAAChK,GAAG,CAAC,GAAGiK,OAAO;MACxC,OAAOA,OAAO;IAChB;IACA;AACJ;AACA;AACA;AACA;EAEE,CAAC,EAAE;IACDjK,GAAG,EAAE,cAAc;IACnBwE,KAAK,EAAE,SAAS8F,YAAYA,CAAClE,GAAG,EAAE;MAChC,IAAI4D,QAAQ,GAAG,IAAI,CAACrG,OAAO,CAACyB,kBAAkB,CAACgB,GAAG,CAAC;MACnD,IAAImE,KAAK,GAAG,IAAI,CAAC3G,WAAW,CAACoG,QAAQ,CAAChK,GAAG,CAAC;MAE1C,IAAIuK,KAAK,EAAE;QACTA,KAAK,CAACV,OAAO,CAAC,CAAC;QACf,OAAO,IAAI,CAACjG,WAAW,CAACoG,QAAQ,CAAChK,GAAG,CAAC;MACvC;IACF;IACA;AACJ;AACA;EAEE,CAAC,EAAE;IACDA,GAAG,EAAE,kBAAkB;IACvBwE,KAAK,EAAE,SAASmF,gBAAgBA,CAAA,EAAG;MACjC,IAAIa,MAAM,GAAG,IAAI;MAEjBtJ,SAAS,CAAC,IAAI,CAACyC,OAAO,CAAC8G,OAAO,CAAC,CAAC,EAAE,UAAUjG,KAAK,EAAE4B,GAAG,EAAE;QACtD,OAAOoE,MAAM,CAACF,YAAY,CAAClE,GAAG,CAAC;MACjC,CAAC,CAAC;IACJ;IACA;AACJ;AACA;AACA;AACA;EAEE,CAAC,EAAE;IACDpG,GAAG,EAAE,qBAAqB;IAC1BwE,KAAK,EAAE,SAAS8D,mBAAmBA,CAAA,EAAG;MACpC,OAAOxI,MAAM,CAAC4K,IAAI,CAAC,IAAI,CAAC9G,WAAW,CAAC,CAACnE,MAAM,KAAK,CAAC;IACnD;IACA;AACJ;AACA;EAEE,CAAC,EAAE;IACDO,GAAG,EAAE,SAAS;IACdwE,KAAK,EAAE,SAASqF,OAAOA,CAAA,EAAG;MACxB,IAAIc,0BAA0B,GAAG,IAAI,CAACrH,SAAS,CAACsH,UAAU;MAC1D,IAAI,CAACC,eAAe,CAAC,CAAC;MACtB,IAAI,CAACnC,KAAK,CAAC,CAAC;MACZ,IAAI,CAAC7E,UAAU,GAAG,IAAI;MACtB,IAAI,CAACJ,YAAY,CAACoG,OAAO,CAAC,CAAC;MAE3B,IAAIc,0BAA0B,EAAE;QAC9BA,0BAA0B,CAACG,WAAW,CAAC,IAAI,CAACxH,SAAS,CAAC;MACxD;IACF;IACA;AACJ;AACA;AACA;AACA;EAEE,CAAC,EAAE;IACDtD,GAAG,EAAE,UAAU;IACfwE,KAAK,EAAE,SAASyE,QAAQA,CAAA,EAAG;MACzB,OAAO,IAAI,CAACtF,OAAO,KAAK,IAAI;IAC9B;IACA;AACJ;AACA;AACA;AACA;EAEE,CAAC,EAAE;IACD3D,GAAG,EAAE,gBAAgB;IACrBwE,KAAK,EAAE,SAASqE,cAAcA,CAAC/D,KAAK,EAAE;MACpC,IAAI,CAAC,IAAI,CAACmE,QAAQ,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC9D,eAAe,CAAC,CAAC,EAAE;QAC/C;MACF;MAEA,IAAI4F,YAAY,GAAG,IAAI,CAAC7F,eAAe,CAAC,CAAC;MACzC,IAAI,CAACa,aAAa,CAAC,QAAQ,EAAEgF,YAAY,EAAEjG,KAAK,CAAC;MAEjD,IAAI,IAAI,CAAC8D,gBAAgB,CAACmC,YAAY,CAAC,EAAE;QACvC;MACF;MAEA,IAAIC,SAAS,GAAG,IAAI,CAACjI,GAAG,CAACkI,gBAAgB,CAAC,CAAC;MAC3C,IAAIC,mBAAmB,GAAGF,SAAS,GAAGjK,kBAAkB,CAACiK,SAAS,CAAC,GAAG,EAAE;MACxE,IAAI,CAACjF,aAAa,CAAC,gBAAgB,EAAEgF,YAAY,CAAC/K,GAAG,EAAEkL,mBAAmB,EAAEpG,KAAK,CAAC;MAElF,IAAI,IAAI,CAACc,SAAS,CAAC,CAAC,EAAE;QACpB,IAAI,CAAC/B,UAAU,CAACkC,aAAa,CAAC,gBAAgB,EAAEgF,YAAY,CAAC/K,GAAG,EAAEkL,mBAAmB,EAAEpG,KAAK,CAAC;MAC/F;IACF;IACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EAEE,CAAC,EAAE;IACD9E,GAAG,EAAE,kBAAkB;IACvBwE,KAAK,EAAE,SAASoE,gBAAgBA,CAACuC,iBAAiB,EAAE;MAClD,IAAIC,SAAS,GAAGD,iBAAiB,CAACC,SAAS;QACvCC,WAAW,GAAGF,iBAAiB,CAAClI,IAAI;QACpCqI,QAAQ,GAAGH,iBAAiB,CAACG,QAAQ;QACrCpB,OAAO,GAAGiB,iBAAiB,CAACjB,OAAO;MACvC,IAAIqB,cAAc,GAAGD,QAAQ,KAAK,IAAI,IAAI,OAAOA,QAAQ,KAAK,UAAU,IAAIA,QAAQ,CAACE,IAAI,CAAC,IAAI,CAACzI,GAAG,CAAC,KAAK,IAAI;MAC5G,OAAOqI,SAAS,KAAK,KAAK,IAAIC,WAAW,KAAK/K,SAAS,IAAIiL,cAAc,KAAK,IAAI,IAAIrB,OAAO;IAC/F;IACA;AACJ;AACA;AACA;AACA;EAEE,CAAC,EAAE;IACDlK,GAAG,EAAE,aAAa;IAClBwE,KAAK,EAAE,SAAS4F,WAAWA,CAAC/B,MAAM,EAAE;MAClC,IAAIoD,MAAM,GAAG,IAAIpL,MAAM,CAACgI,MAAM,EAAE,IAAI,CAAC/E,SAAS,CAACoI,aAAa,CAACC,WAAW,CAAC;MAEzE,IAAI,IAAI,CAAC7I,OAAO,CAACK,cAAc,EAAE;QAC/B,IAAIsI,MAAM,CAACG,SAAS,CAAC,IAAI,CAACtI,SAAS,CAAC,EAAE;UACpC,IAAI,CAACuI,sBAAsB,CAACJ,MAAM,CAAC;QACrC,CAAC,MAAM,IAAIA,MAAM,CAACK,SAAS,CAAC,IAAI,CAACxI,SAAS,CAAC,EAAE;UAC3C,IAAI,CAACyI,sBAAsB,CAACN,MAAM,CAAC;QACrC,CAAC,MAAM;UACL,IAAI,CAACI,sBAAsB,CAACJ,MAAM,CAAC;QACrC;QAEA,IAAIA,MAAM,CAACO,WAAW,CAAC,IAAI,CAAC1I,SAAS,CAAC,EAAE;UACtC,IAAI,CAAC2I,0BAA0B,CAACR,MAAM,CAAC;QACzC,CAAC,MAAM;UACL,IAAI,CAACS,yBAAyB,CAACT,MAAM,CAAC;QACxC;MACF,CAAC,MAAM;QACL,IAAI,CAACI,sBAAsB,CAACJ,MAAM,CAAC;QACnC,IAAI,CAACQ,0BAA0B,CAACR,MAAM,CAAC;MACzC;IACF;IACA;AACJ;AACA;AACA;AACA;EAEE,CAAC,EAAE;IACDzL,GAAG,EAAE,wBAAwB;IAC7BwE,KAAK,EAAE,SAASuH,sBAAsBA,CAACN,MAAM,EAAE;MAC7C,IAAIU,GAAG,GAAG,IAAI,CAAClI,MAAM,CAACC,KAAK,GAAGuH,MAAM,CAACU,GAAG,GAAG,IAAI,CAAC7I,SAAS,CAAC8I,YAAY;MAEtE,IAAI,IAAI,CAACxG,SAAS,CAAC,CAAC,EAAE;QACpBuG,GAAG,GAAGV,MAAM,CAACU,GAAG,GAAGV,MAAM,CAACY,UAAU,GAAG,IAAI,CAAC/I,SAAS,CAAC8I,YAAY,GAAG,CAAC;MACxE;MAEA,IAAI,CAAC9I,SAAS,CAAC2C,KAAK,CAACkG,GAAG,GAAG,EAAE,CAACG,MAAM,CAACH,GAAG,EAAE,IAAI,CAAC;IACjD;IACA;AACJ;AACA;AACA;AACA;EAEE,CAAC,EAAE;IACDnM,GAAG,EAAE,wBAAwB;IAC7BwE,KAAK,EAAE,SAASqH,sBAAsBA,CAACJ,MAAM,EAAE;MAC7C,IAAIU,GAAG,GAAG,IAAI,CAAClI,MAAM,CAACE,KAAK,GAAGsH,MAAM,CAACU,GAAG,GAAG,CAAC;MAE5C,IAAI,IAAI,CAACvG,SAAS,CAAC,CAAC,EAAE;QACpBuG,GAAG,GAAGV,MAAM,CAACU,GAAG,GAAG,CAAC;MACtB;MAEA,IAAI,CAAC7I,SAAS,CAAC2C,KAAK,CAACkG,GAAG,GAAG,EAAE,CAACG,MAAM,CAACH,GAAG,EAAE,IAAI,CAAC;IACjD;IACA;AACJ;AACA;AACA;AACA;EAEE,CAAC,EAAE;IACDnM,GAAG,EAAE,4BAA4B;IACjCwE,KAAK,EAAE,SAASyH,0BAA0BA,CAACR,MAAM,EAAE;MACjD,IAAIrH,IAAI;MAER,IAAI,IAAI,CAACwB,SAAS,CAAC,CAAC,EAAE;QACpBxB,IAAI,GAAG,CAAC,GAAGqH,MAAM,CAACrH,IAAI,GAAGqH,MAAM,CAACc,SAAS;MAC3C,CAAC,MAAM;QACLnI,IAAI,GAAG,IAAI,CAACH,MAAM,CAACI,KAAK,GAAG,CAAC,GAAGoH,MAAM,CAACrH,IAAI;MAC5C;MAEA,IAAI,CAACd,SAAS,CAAC2C,KAAK,CAAC7B,IAAI,GAAG,EAAE,CAACkI,MAAM,CAAClI,IAAI,EAAE,IAAI,CAAC;IACnD;IACA;AACJ;AACA;AACA;AACA;EAEE,CAAC,EAAE;IACDpE,GAAG,EAAE,2BAA2B;IAChCwE,KAAK,EAAE,SAAS0H,yBAAyBA,CAACT,MAAM,EAAE;MAChD,IAAIe,cAAc,GAAG7K,iBAAiB,CAAC,IAAI,CAACoB,GAAG,CAACQ,YAAY,CAAC;MAC7D,IAAIa,IAAI,GAAG,IAAI,CAACH,MAAM,CAACG,IAAI,GAAGqH,MAAM,CAACrH,IAAI,GAAG,IAAI,CAACd,SAAS,CAACmJ,WAAW,GAAGD,cAAc,GAAG,CAAC;MAC3F,IAAI,CAAClJ,SAAS,CAAC2C,KAAK,CAAC7B,IAAI,GAAG,EAAE,CAACkI,MAAM,CAAClI,IAAI,EAAE,IAAI,CAAC;IACnD;IACA;AACJ;AACA;EAEE,CAAC,EAAE;IACDpE,GAAG,EAAE,iBAAiB;IACtBwE,KAAK,EAAE,SAASkI,eAAeA,CAAA,EAAG;MAChC,IAAI5C,IAAI,GAAG,IAAI,CAACnG,OAAO,CAACoG,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC;MAErC,IAAIlJ,WAAW,CAACiJ,IAAI,CAAC,IAAInJ,UAAU,CAACmJ,IAAI,CAAC,IAAIhJ,mBAAmB,CAACgJ,IAAI,CAAC,EAAE;QACtE,IAAI,CAAC6C,cAAc,CAAC,CAAC,EAAE,CAAC,CAAC;MAC3B,CAAC,MAAM;QACL,IAAI,CAAChJ,OAAO,CAACiJ,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;MAC/B;IACF;IACA;AACJ;AACA;EAEE,CAAC,EAAE;IACD5M,GAAG,EAAE,gBAAgB;IACrBwE,KAAK,EAAE,SAASqI,cAAcA,CAAA,EAAG;MAC/B,IAAIC,OAAO,GAAG,IAAI,CAACnJ,OAAO,CAACoJ,SAAS,CAAC,CAAC,GAAG,CAAC;MAC1C,IAAIjD,IAAI,GAAG,IAAI,CAACnG,OAAO,CAACoG,OAAO,CAAC+C,OAAO,EAAE,CAAC,CAAC;MAE3C,IAAIjM,WAAW,CAACiJ,IAAI,CAAC,IAAInJ,UAAU,CAACmJ,IAAI,CAAC,IAAIhJ,mBAAmB,CAACgJ,IAAI,CAAC,EAAE;QACtE,IAAI,CAACkD,cAAc,CAACF,OAAO,EAAE,CAAC,CAAC;MACjC,CAAC,MAAM;QACL,IAAI,CAACnJ,OAAO,CAACiJ,UAAU,CAACE,OAAO,EAAE,CAAC,CAAC;MACrC;IACF;IACA;AACJ;AACA;AACA;AACA;AACA;EAEE,CAAC,EAAE;IACD9M,GAAG,EAAE,gBAAgB;IACrBwE,KAAK,EAAE,SAASmI,cAAcA,CAACvG,GAAG,EAAEuB,GAAG,EAAE;MACvC,IAAIsF,OAAO,GAAG7G,GAAG,GAAG,CAAC;MACrB,IAAI0D,IAAI,GAAGmD,OAAO,GAAG,IAAI,CAACtJ,OAAO,CAACoJ,SAAS,CAAC,CAAC,GAAG,IAAI,CAACpJ,OAAO,CAACoG,OAAO,CAACkD,OAAO,EAAEtF,GAAG,CAAC,GAAG,IAAI;MAEzF,IAAI,CAACmC,IAAI,EAAE;QACT;MACF;MAEA,IAAIjJ,WAAW,CAACiJ,IAAI,CAAC,IAAInJ,UAAU,CAACmJ,IAAI,CAAC,IAAIhJ,mBAAmB,CAACgJ,IAAI,CAAC,EAAE;QACtE,IAAI,CAAC6C,cAAc,CAACM,OAAO,EAAEtF,GAAG,CAAC;MACnC,CAAC,MAAM;QACL,IAAI,CAAChE,OAAO,CAACiJ,UAAU,CAACK,OAAO,EAAEtF,GAAG,CAAC;MACvC;IACF;IACA;AACJ;AACA;AACA;AACA;AACA;EAEE,CAAC,EAAE;IACD3H,GAAG,EAAE,gBAAgB;IACrBwE,KAAK,EAAE,SAASwI,cAAcA,CAAC5G,GAAG,EAAEuB,GAAG,EAAE;MACvC,IAAIuF,OAAO,GAAG9G,GAAG,GAAG,CAAC;MACrB,IAAI0D,IAAI,GAAGoD,OAAO,IAAI,CAAC,GAAG,IAAI,CAACvJ,OAAO,CAACoG,OAAO,CAACmD,OAAO,EAAEvF,GAAG,CAAC,GAAG,IAAI;MAEnE,IAAI,CAACmC,IAAI,EAAE;QACT;MACF;MAEA,IAAIjJ,WAAW,CAACiJ,IAAI,CAAC,IAAInJ,UAAU,CAACmJ,IAAI,CAAC,IAAIhJ,mBAAmB,CAACgJ,IAAI,CAAC,EAAE;QACtE,IAAI,CAACkD,cAAc,CAACE,OAAO,EAAEvF,GAAG,CAAC;MACnC,CAAC,MAAM;QACL,IAAI,CAAChE,OAAO,CAACiJ,UAAU,CAACM,OAAO,EAAEvF,GAAG,CAAC;MACvC;IACF;IACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EAEE,CAAC,EAAE;IACD3H,GAAG,EAAE,kBAAkB;IACvBwE,KAAK,EAAE,SAASqD,gBAAgBA,CAAC9E,GAAG,EAAE2E,EAAE,EAAEtB,GAAG,EAAEuB,GAAG,EAAEC,IAAI,EAAEpD,KAAK,EAAE;MAC/D,IAAI2I,MAAM,GAAG,IAAI;MAEjB,IAAI1G,IAAI,GAAG1D,GAAG,CAACqC,kBAAkB,CAACgB,GAAG,CAAC;MACtC,IAAIgH,OAAO,GAAG,IAAI,CAACrK,GAAG,CAACQ,YAAY,CAAC8J,aAAa,CAAC,KAAK,CAAC;MAExD,IAAIzH,SAAS,GAAG,SAASA,SAASA,CAAC0H,UAAU,EAAE;QAC7C,OAAO9K,cAAc,CAAC8K,UAAU,EAAE,SAAS,CAAC;MAC9C,CAAC;MAED,IAAIC,eAAe,GAAG,SAASA,eAAeA,CAACD,UAAU,EAAE;QACzD,OAAO,IAAIE,MAAM,CAAClN,SAAS,EAAE,GAAG,CAAC,CAACmN,IAAI,CAACH,UAAU,CAACrK,IAAI,CAAC;MACzD,CAAC;MAED,IAAIyK,cAAc,GAAG,SAASA,cAAcA,CAACJ,UAAU,EAAE;QACvD,OAAOA,UAAU,CAAChC,QAAQ,KAAK,IAAI,IAAI,OAAOgC,UAAU,CAAChC,QAAQ,KAAK,UAAU,IAAIgC,UAAU,CAAChC,QAAQ,CAACE,IAAI,CAAC2B,MAAM,CAACpK,GAAG,CAAC,KAAK,IAAI;MACnI,CAAC;MAED,IAAI4K,uBAAuB,GAAG,SAASA,uBAAuBA,CAACL,UAAU,EAAE;QACzE,OAAOA,UAAU,CAACM,gBAAgB;MACpC,CAAC;MAED,IAAIC,SAAS,GAAGrJ,KAAK;MAErB,IAAI,OAAOqJ,SAAS,KAAK,UAAU,EAAE;QACnCA,SAAS,GAAGA,SAAS,CAACrC,IAAI,CAAC,IAAI,CAACzI,GAAG,CAAC;MACtC;MAEAtB,KAAK,CAACiG,EAAE,CAAC;MACTlG,QAAQ,CAAC4L,OAAO,EAAE,eAAe,CAAC;MAClC1F,EAAE,CAACoG,WAAW,CAACV,OAAO,CAAC;MAEvB,IAAIG,eAAe,CAAC9G,IAAI,CAAC,EAAE;QACzBjF,QAAQ,CAACkG,EAAE,EAAE,aAAa,CAAC;MAC7B,CAAC,MAAM,IAAI,OAAOjB,IAAI,CAACgB,QAAQ,KAAK,UAAU,EAAE;QAC9CjG,QAAQ,CAACkG,EAAE,EAAE,sBAAsB,CAAC;QACpCA,EAAE,CAACoG,WAAW,CAACrH,IAAI,CAACgB,QAAQ,CAAC1E,GAAG,EAAEqK,OAAO,EAAEhH,GAAG,EAAEuB,GAAG,EAAEC,IAAI,EAAEiG,SAAS,CAAC,CAAC;MACxE,CAAC,MAAM;QACLnM,aAAa,CAAC0L,OAAO,EAAES,SAAS,CAAC;MACnC;MAEA,IAAIH,cAAc,CAACjH,IAAI,CAAC,EAAE;QACxBjF,QAAQ,CAACkG,EAAE,EAAE,YAAY,CAAC;QAC1B,IAAI,CAACjE,YAAY,CAACmB,gBAAgB,CAAC8C,EAAE,EAAE,YAAY,EAAE,YAAY;UAC/D,OAAO3E,GAAG,CAACgL,YAAY,CAAC,CAAC;QAC3B,CAAC,CAAC;MACJ,CAAC,MAAM,IAAIJ,uBAAuB,CAAClH,IAAI,CAAC,EAAE;QACxCjF,QAAQ,CAACkG,EAAE,EAAE,qBAAqB,CAAC;QACnC,IAAI,CAACjE,YAAY,CAACmB,gBAAgB,CAAC8C,EAAE,EAAE,YAAY,EAAE,YAAY;UAC/D,OAAO3E,GAAG,CAACgL,YAAY,CAAC,CAAC;QAC3B,CAAC,CAAC;MACJ,CAAC,MAAM,IAAInI,SAAS,CAACa,IAAI,CAAC,EAAE;QAC1BjF,QAAQ,CAACkG,EAAE,EAAE,WAAW,CAAC;QAEzB,IAAIiG,uBAAuB,CAAClH,IAAI,CAAC,EAAE;UACjC,IAAI,CAAChD,YAAY,CAACmB,gBAAgB,CAAC8C,EAAE,EAAE,YAAY,EAAE,YAAY;YAC/D,OAAO3E,GAAG,CAACgL,YAAY,CAAC,CAAC;UAC3B,CAAC,CAAC;QACJ,CAAC,MAAM;UACL,IAAI,CAACtK,YAAY,CAACmB,gBAAgB,CAAC8C,EAAE,EAAE,YAAY,EAAE,YAAY;YAC/D,OAAO3E,GAAG,CAAC6J,UAAU,CAACxG,GAAG,EAAEuB,GAAG,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC;UAC/D,CAAC,CAAC;QACJ;MACF,CAAC,MAAM;QACL7F,WAAW,CAAC4F,EAAE,EAAE,CAAC,WAAW,EAAE,YAAY,CAAC,CAAC;QAE5C,IAAIiG,uBAAuB,CAAClH,IAAI,CAAC,EAAE;UACjC,IAAI,CAAChD,YAAY,CAACmB,gBAAgB,CAAC8C,EAAE,EAAE,YAAY,EAAE,YAAY;YAC/D,OAAO3E,GAAG,CAACgL,YAAY,CAAC,CAAC;UAC3B,CAAC,CAAC;QACJ,CAAC,MAAM;UACL,IAAI,CAACtK,YAAY,CAACmB,gBAAgB,CAAC8C,EAAE,EAAE,YAAY,EAAE,YAAY;YAC/D,OAAO3E,GAAG,CAAC6J,UAAU,CAACxG,GAAG,EAAEuB,GAAG,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC;UAC/D,CAAC,CAAC;QACJ;MACF;IACF;IACA;AACJ;AACA;AACA;AACA;AACA;AACA;EAEE,CAAC,EAAE;IACD3H,GAAG,EAAE,iBAAiB;IACtBwE,KAAK,EAAE,SAASd,eAAeA,CAAA,EAAG;MAChC,IAAIT,IAAI,GAAGyC,SAAS,CAACjG,MAAM,GAAG,CAAC,IAAIiG,SAAS,CAAC,CAAC,CAAC,KAAKC,SAAS,GAAGD,SAAS,CAAC,CAAC,CAAC,GAAG,IAAI;MACnF,IAAIsI,GAAG,GAAG,IAAI,CAAClL,OAAO,CAACQ,SAAS,CAACoI,aAAa;MAC9C,IAAIxI,SAAS,GAAGD,IAAI;MACpB,IAAIK,SAAS;MAEb,IAAIJ,SAAS,EAAE;QACb,IAAId,UAAU,CAACc,SAAS,CAAC,EAAE;UACzBA,SAAS,GAAGA,SAAS,CAACsI,IAAI,CAAC,IAAI,CAACzI,GAAG,CAAC;UAEpC,IAAIG,SAAS,KAAK,IAAI,IAAIb,WAAW,CAACa,SAAS,CAAC,EAAE;YAChDA,SAAS,GAAG,EAAE;UAChB,CAAC,MAAM;YACLA,SAAS,GAAGA,SAAS,CAAC+K,QAAQ,CAAC,CAAC;UAClC;QACF;QAEA/K,SAAS,GAAGA,SAAS,CAACgL,OAAO,CAAC,YAAY,EAAE,GAAG,CAAC;QAChDhL,SAAS,GAAG,EAAE,CAACoJ,MAAM,CAAC,IAAI,CAACxJ,OAAO,CAACI,SAAS,EAAE,MAAM,CAAC,CAACoJ,MAAM,CAACpJ,SAAS,CAAC;QACvEI,SAAS,GAAG0K,GAAG,CAACG,aAAa,CAAC,GAAG,CAAC7B,MAAM,CAAC,IAAI,CAACxJ,OAAO,CAACI,SAAS,EAAE,GAAG,CAAC,CAACoJ,MAAM,CAACpJ,SAAS,CAAC,CAAC;MAC1F;MAEA,IAAI,CAACI,SAAS,EAAE;QACdA,SAAS,GAAG0K,GAAG,CAACX,aAAa,CAAC,KAAK,CAAC;QACpC7L,QAAQ,CAAC8B,SAAS,EAAE,SAAS,CAACgJ,MAAM,CAAC,IAAI,CAACxJ,OAAO,CAACI,SAAS,CAAC,CAAC;QAE7D,IAAIA,SAAS,EAAE;UACb1B,QAAQ,CAAC8B,SAAS,EAAEJ,SAAS,CAAC;QAChC;QAEA,IAAI,CAACJ,OAAO,CAACQ,SAAS,CAACwK,WAAW,CAACxK,SAAS,CAAC;MAC/C;MAEA,OAAOA,SAAS;IAClB;IACA;AACJ;AACA;EAEE,CAAC,EAAE;IACDtD,GAAG,EAAE,yBAAyB;IAC9BwE,KAAK,EAAE,SAASiF,uBAAuBA,CAAA,EAAG;MACxC,IAAI,CAACnF,oBAAoB,GAAG,YAAY,CAAC,CAAC;MAE1C,IAAI,CAACvB,GAAG,CAACqG,OAAO,CAAC,uBAAuB,EAAE,IAAI,CAAC9E,oBAAoB,CAAC;MACpE,IAAI,CAACvB,GAAG,CAACqG,OAAO,CAAC,yBAAyB,EAAE,IAAI,CAAC9E,oBAAoB,CAAC;IACxE;IACA;AACJ;AACA;EAEE,CAAC,EAAE;IACDtE,GAAG,EAAE,2BAA2B;IAChCwE,KAAK,EAAE,SAASoF,yBAAyBA,CAAA,EAAG;MAC1C,IAAI,IAAI,CAACtF,oBAAoB,EAAE;QAC7B,IAAI,CAACvB,GAAG,CAACqL,UAAU,CAAC,uBAAuB,EAAE,IAAI,CAAC9J,oBAAoB,CAAC;QACvE,IAAI,CAACvB,GAAG,CAACqL,UAAU,CAAC,yBAAyB,EAAE,IAAI,CAAC9J,oBAAoB,CAAC;QACzE,IAAI,CAACA,oBAAoB,GAAG,IAAI;MAClC;IACF;IACA;AACJ;AACA;AACA;AACA;AACA;EAEE,CAAC,EAAE;IACDtE,GAAG,EAAE,iBAAiB;IACtBwE,KAAK,EAAE,SAAS2D,eAAeA,CAACrD,KAAK,EAAE;MACrC;MACA;MACA,IAAIjD,OAAO,CAACiD,KAAK,CAACxF,MAAM,CAAC,IAAI,IAAI,CAACgE,SAAS,CAAC+K,QAAQ,CAACvJ,KAAK,CAACxF,MAAM,CAAC,EAAE;QAClE2C,wBAAwB,CAAC6C,KAAK,CAAC;QAC/B;MACF;MAEA,IAAIwJ,SAAS,GAAG,IAAI,CAAC3K,OAAO,CAAC0B,eAAe,CAAC,CAAC;MAC9C,IAAIkJ,SAAS,GAAG,KAAK;MACrB,IAAI,CAACvK,QAAQ,GAAG,IAAI;MAEpB,QAAQc,KAAK,CAAC0J,OAAO;QACnB,KAAK/L,SAAS,CAACgM,MAAM;UACnB,IAAI,CAAC/F,KAAK,CAAC,CAAC;UACZ6F,SAAS,GAAG,IAAI;UAChB;QAEF,KAAK9L,SAAS,CAACiM,KAAK;UAClB,IAAIJ,SAAS,EAAE;YACb,IAAI,IAAI,CAAC3K,OAAO,CAACyB,kBAAkB,CAACkJ,SAAS,CAAC,CAAC,CAAC,CAAC,CAACpE,OAAO,EAAE;cACzDqE,SAAS,GAAG,IAAI;YAClB,CAAC,MAAM;cACL,IAAI,CAAC1F,cAAc,CAAC/D,KAAK,CAAC;cAC1B,IAAI,CAAC4D,KAAK,CAAC,IAAI,CAAC;YAClB;UACF;UAEA;QAEF,KAAKjG,SAAS,CAACkM,UAAU;UACvB,IAAIL,SAAS,EAAE;YACb,IAAI,CAAC3B,cAAc,CAAC2B,SAAS,CAAC,CAAC,CAAC,EAAEA,SAAS,CAAC,CAAC,CAAC,CAAC;UACjD,CAAC,MAAM;YACL,IAAI,CAAC5B,eAAe,CAAC,CAAC;UACxB;UAEA6B,SAAS,GAAG,IAAI;UAChB;QAEF,KAAK9L,SAAS,CAACmM,QAAQ;UACrB,IAAIN,SAAS,EAAE;YACb,IAAI,CAACtB,cAAc,CAACsB,SAAS,CAAC,CAAC,CAAC,EAAEA,SAAS,CAAC,CAAC,CAAC,CAAC;UACjD,CAAC,MAAM;YACL,IAAI,CAACzB,cAAc,CAAC,CAAC;UACvB;UAEA0B,SAAS,GAAG,IAAI;UAChB;QAEF,KAAK9L,SAAS,CAACoM,WAAW;UACxB,IAAIP,SAAS,EAAE;YACb,IAAIQ,IAAI,GAAG,IAAI,CAACzI,WAAW,CAACiI,SAAS,CAAC,CAAC,CAAC,CAAC;YAEzC,IAAIQ,IAAI,EAAE;cACRA,IAAI,CAACpC,eAAe,CAAC,CAAC;YACxB;UACF;UAEA6B,SAAS,GAAG,IAAI;UAChB;QAEF,KAAK9L,SAAS,CAACsM,UAAU;UACvB,IAAIT,SAAS,IAAI,IAAI,CAAC1I,SAAS,CAAC,CAAC,EAAE;YACjC,IAAI,CAAC8C,KAAK,CAAC,CAAC;YAEZ,IAAI,IAAI,CAAC7E,UAAU,EAAE;cACnB,IAAI,CAACA,UAAU,CAACF,OAAO,CAACuF,MAAM,CAAC,CAAC;YAClC;YAEAqF,SAAS,GAAG,IAAI;UAClB;UAEA;QAEF;UACE;MACJ;MAEA,IAAIA,SAAS,EAAE;QACbzJ,KAAK,CAAC2D,cAAc,CAAC,CAAC;QACtBxG,wBAAwB,CAAC6C,KAAK,CAAC;MACjC;MAEA,IAAI,CAACd,QAAQ,GAAG,KAAK;IACvB;IACA;AACJ;AACA;AACA;AACA;EAEE,CAAC,EAAE;IACDhE,GAAG,EAAE,aAAa;IAClBwE,KAAK,EAAE,SAAS6E,WAAWA,CAAA,EAAG;MAC5B,IAAI2F,OAAO,GAAG,IAAI,CAACrL,OAAO,CAACsL,IAAI,CAACC,EAAE,CAACF,OAAO;MAC1C,IAAInI,IAAI,GAAG,IAAI,CAAClD,OAAO,CAACwF,WAAW,CAAC,CAAC,CAACtC,IAAI;MAC1C,IAAIsI,UAAU,GAAGH,OAAO,CAACI,KAAK,CAACnJ,KAAK;MACpC,IAAIoJ,WAAW,GAAGL,OAAO,CAACM,MAAM,CAACrJ,KAAK;MACtC,IAAIsJ,iBAAiB,GAAGC,QAAQ,CAACL,UAAU,CAACjI,KAAK,EAAE,EAAE,CAAC;MACtD,IAAIuI,UAAU,GAAGrO,WAAW,CAACyF,IAAI,EAAE,UAAU6I,WAAW,EAAElL,KAAK,EAAE;QAC/D,OAAOkL,WAAW,IAAIlL,KAAK,CAACvB,IAAI,KAAK3C,SAAS,GAAG,CAAC,GAAG,EAAE,CAAC;MAC1D,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;;MAEP+O,WAAW,CAACnI,KAAK,GAAG,EAAE,CAACoF,MAAM,CAACiD,iBAAiB,GAAG,CAAC,EAAE,IAAI,CAAC;MAC1DF,WAAW,CAACM,MAAM,GAAG,EAAE,CAACrD,MAAM,CAACmD,UAAU,GAAG,CAAC,EAAE,IAAI,CAAC;MACpDN,UAAU,CAACQ,MAAM,GAAGN,WAAW,CAACM,MAAM;IACxC;IACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EAEE,CAAC,EAAE;IACD3P,GAAG,EAAE,kBAAkB;IACvBwE,KAAK,EAAE,SAAS8E,gBAAgBA,CAACsG,CAAC,EAAEC,CAAC,EAAEC,EAAE,EAAEC,EAAE,EAAEC,gBAAgB,EAAE;MAC/D,IAAI,IAAI,CAAChM,QAAQ,KAAK,KAAK,EAAE;QAC3BgM,gBAAgB,CAACxL,KAAK,GAAG,IAAI;MAC/B;IACF;IACA;AACJ;AACA;AACA;AACA;AACA;EAEE,CAAC,EAAE;IACDxE,GAAG,EAAE,qBAAqB;IAC1BwE,KAAK,EAAE,SAASO,mBAAmBA,CAACD,KAAK,EAAE;MACzC,IAAI,CAAC,IAAI,CAACmE,QAAQ,CAAC,CAAC,EAAE;QACpB;MACF,CAAC,CAAC;;MAGF,IAAI,IAAI,CAACnG,OAAO,CAACM,UAAU,IAAI,IAAI,CAACO,OAAO,IAAI,CAAC/B,SAAS,CAACkD,KAAK,CAACxF,MAAM,EAAE,IAAI,CAACqE,OAAO,CAACsM,WAAW,CAAC,EAAE;QACjG,IAAI,CAACvH,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;MACpB,CAAC,MAAM,IAAI,CAAC,IAAI,CAACJ,mBAAmB,CAAC,CAAC,IAAI,IAAI,CAAC1C,SAAS,CAAC,CAAC,KAAK,CAAChE,SAAS,CAACkD,KAAK,CAACxF,MAAM,EAAE,SAAS,CAAC,EAAE;QAClG,IAAI,CAACoJ,KAAK,CAAC,IAAI,CAAC;MAClB;IACF;IACA;AACJ;AACA;AACA;AACA;AACA;EAEE,CAAC,EAAE;IACD1I,GAAG,EAAE,uBAAuB;IAC5BwE,KAAK,EAAE,SAASQ,qBAAqBA,CAACF,KAAK,EAAE;MAC3C,IAAI,CAAC,IAAI,CAACmE,QAAQ,CAAC,CAAC,EAAE;QACpB;MACF;MAEA,IAAIjH,QAAQ,CAAC8C,KAAK,CAACxF,MAAM,EAAE,QAAQ,CAAC,IAAIsC,SAAS,CAACkD,KAAK,CAACxF,MAAM,EAAE,IAAI,CAACqE,OAAO,CAACsM,WAAW,CAAC,EAAE;QACzFnL,KAAK,CAAC2D,cAAc,CAAC,CAAC;MACxB;IACF;EACF,CAAC,CAAC,CAAC;EAEH,OAAO7F,IAAI;AACb,CAAC,CAAC,CAAC;AAEHL,KAAK,CAACK,IAAI,EAAEF,UAAU,CAAC;AACvB,eAAeE,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}