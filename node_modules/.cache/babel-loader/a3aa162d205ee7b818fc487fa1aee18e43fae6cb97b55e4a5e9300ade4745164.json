{"ast":null,"code":"function _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _s, _e;\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n  return _arr;\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nimport { addClass, hasClass, removeClass, getComputedStyle, getTrimmingContainer, innerWidth, innerHeight, offset, outerHeight, outerWidth } from \"./../../../helpers/dom/element.mjs\";\nimport { stopImmediatePropagation } from \"./../../../helpers/dom/event.mjs\";\nimport { objectEach } from \"./../../../helpers/object.mjs\";\nimport { isMobileBrowser } from \"./../../../helpers/browser.mjs\";\nimport EventManager from \"./../../../eventManager.mjs\";\nimport CellCoords from \"./cell/coords.mjs\";\n/**\n *\n */\n\nvar Border = /*#__PURE__*/function () {\n  /**\n   * @param {Walkontable} wotInstance The Walkontable instance.\n   * @param {object} settings The border settings.\n   */\n  function Border(wotInstance, settings) {\n    _classCallCheck(this, Border);\n    if (!settings) {\n      return;\n    }\n    this.eventManager = new EventManager(wotInstance);\n    this.instance = wotInstance;\n    this.wot = wotInstance;\n    this.settings = settings;\n    this.mouseDown = false;\n    this.main = null;\n    this.top = null;\n    this.left = null;\n    this.bottom = null;\n    this.right = null;\n    this.topStyle = null;\n    this.leftStyle = null;\n    this.bottomStyle = null;\n    this.rightStyle = null;\n    this.cornerDefaultStyle = {\n      width: '6px',\n      height: '6px',\n      borderWidth: '1px',\n      borderStyle: 'solid',\n      borderColor: '#FFF'\n    }; // Offset to moving the corner to be centered relative to the grid.\n\n    this.cornerCenterPointOffset = -(parseInt(this.cornerDefaultStyle.width, 10) / 2);\n    this.corner = null;\n    this.cornerStyle = null;\n    this.createBorders(settings);\n    this.registerListeners();\n  }\n  /**\n   * Register all necessary events.\n   */\n\n  _createClass(Border, [{\n    key: \"registerListeners\",\n    value: function registerListeners() {\n      var _this2 = this;\n      var documentBody = this.wot.rootDocument.body;\n      this.eventManager.addEventListener(documentBody, 'mousedown', function () {\n        return _this2.onMouseDown();\n      });\n      this.eventManager.addEventListener(documentBody, 'mouseup', function () {\n        return _this2.onMouseUp();\n      });\n      var _loop = function _loop(c, len) {\n        var element = _this2.main.childNodes[c];\n        _this2.eventManager.addEventListener(element, 'mouseenter', function (event) {\n          return _this2.onMouseEnter(event, _this2.main.childNodes[c]);\n        });\n      };\n      for (var c = 0, len = this.main.childNodes.length; c < len; c++) {\n        _loop(c, len);\n      }\n    }\n    /**\n     * Mouse down listener.\n     *\n     * @private\n     */\n  }, {\n    key: \"onMouseDown\",\n    value: function onMouseDown() {\n      this.mouseDown = true;\n    }\n    /**\n     * Mouse up listener.\n     *\n     * @private\n     */\n  }, {\n    key: \"onMouseUp\",\n    value: function onMouseUp() {\n      this.mouseDown = false;\n    }\n    /**\n     * Mouse enter listener for fragment selection functionality.\n     *\n     * @private\n     * @param {Event} event Dom event.\n     * @param {HTMLElement} parentElement Part of border element.\n     */\n  }, {\n    key: \"onMouseEnter\",\n    value: function onMouseEnter(event, parentElement) {\n      if (!this.mouseDown || !this.wot.getSetting('hideBorderOnMouseDownOver')) {\n        return;\n      }\n      event.preventDefault();\n      stopImmediatePropagation(event);\n      var _this = this;\n      var documentBody = this.wot.rootDocument.body;\n      var bounds = parentElement.getBoundingClientRect(); // Hide border to prevents selection jumping when fragmentSelection is enabled.\n\n      parentElement.style.display = 'none';\n      /**\n       * @param {Event} mouseEvent The mouse event object.\n       * @returns {boolean}\n       */\n\n      function isOutside(mouseEvent) {\n        if (mouseEvent.clientY < Math.floor(bounds.top)) {\n          return true;\n        }\n        if (mouseEvent.clientY > Math.ceil(bounds.top + bounds.height)) {\n          return true;\n        }\n        if (mouseEvent.clientX < Math.floor(bounds.left)) {\n          return true;\n        }\n        if (mouseEvent.clientX > Math.ceil(bounds.left + bounds.width)) {\n          return true;\n        }\n      }\n      /**\n       * @param {Event} handlerEvent The mouse event object.\n       */\n\n      function handler(handlerEvent) {\n        if (isOutside(handlerEvent)) {\n          _this.eventManager.removeEventListener(documentBody, 'mousemove', handler);\n          parentElement.style.display = 'block';\n        }\n      }\n      this.eventManager.addEventListener(documentBody, 'mousemove', handler);\n    }\n    /**\n     * Create border elements.\n     *\n     * @param {object} settings The border settings.\n     */\n  }, {\n    key: \"createBorders\",\n    value: function createBorders(settings) {\n      var rootDocument = this.wot.rootDocument;\n      this.main = rootDocument.createElement('div');\n      var borderDivs = ['top', 'left', 'bottom', 'right', 'corner'];\n      var style = this.main.style;\n      style.position = 'absolute';\n      style.top = 0;\n      style.left = 0;\n      for (var i = 0; i < 5; i++) {\n        var position = borderDivs[i];\n        var div = rootDocument.createElement('div');\n        div.className = \"wtBorder \".concat(this.settings.className || ''); // + borderDivs[i];\n\n        if (this.settings[position] && this.settings[position].hide) {\n          div.className += ' hidden';\n        }\n        style = div.style;\n        style.backgroundColor = this.settings[position] && this.settings[position].color ? this.settings[position].color : settings.border.color;\n        style.height = this.settings[position] && this.settings[position].width ? \"\".concat(this.settings[position].width, \"px\") : \"\".concat(settings.border.width, \"px\");\n        style.width = this.settings[position] && this.settings[position].width ? \"\".concat(this.settings[position].width, \"px\") : \"\".concat(settings.border.width, \"px\");\n        this.main.appendChild(div);\n      }\n      this.top = this.main.childNodes[0];\n      this.left = this.main.childNodes[1];\n      this.bottom = this.main.childNodes[2];\n      this.right = this.main.childNodes[3];\n      this.topStyle = this.top.style;\n      this.leftStyle = this.left.style;\n      this.bottomStyle = this.bottom.style;\n      this.rightStyle = this.right.style;\n      this.corner = this.main.childNodes[4];\n      this.corner.className += ' corner';\n      this.cornerStyle = this.corner.style;\n      this.cornerStyle.width = this.cornerDefaultStyle.width;\n      this.cornerStyle.height = this.cornerDefaultStyle.height;\n      this.cornerStyle.border = [this.cornerDefaultStyle.borderWidth, this.cornerDefaultStyle.borderStyle, this.cornerDefaultStyle.borderColor].join(' ');\n      if (isMobileBrowser()) {\n        this.createMultipleSelectorHandles();\n      }\n      this.disappear();\n      var wtTable = this.wot.wtTable;\n      var bordersHolder = wtTable.bordersHolder;\n      if (!bordersHolder) {\n        bordersHolder = rootDocument.createElement('div');\n        bordersHolder.className = 'htBorders';\n        wtTable.bordersHolder = bordersHolder;\n        wtTable.spreader.appendChild(bordersHolder);\n      }\n      bordersHolder.appendChild(this.main);\n    }\n    /**\n     * Create multiple selector handler for mobile devices.\n     */\n  }, {\n    key: \"createMultipleSelectorHandles\",\n    value: function createMultipleSelectorHandles() {\n      var _this3 = this;\n      var rootDocument = this.wot.rootDocument;\n      this.selectionHandles = {\n        topLeft: rootDocument.createElement('DIV'),\n        topLeftHitArea: rootDocument.createElement('DIV'),\n        bottomRight: rootDocument.createElement('DIV'),\n        bottomRightHitArea: rootDocument.createElement('DIV')\n      };\n      var width = 10;\n      var hitAreaWidth = 40;\n      this.selectionHandles.topLeft.className = 'topLeftSelectionHandle';\n      this.selectionHandles.topLeftHitArea.className = 'topLeftSelectionHandle-HitArea';\n      this.selectionHandles.bottomRight.className = 'bottomRightSelectionHandle';\n      this.selectionHandles.bottomRightHitArea.className = 'bottomRightSelectionHandle-HitArea';\n      this.selectionHandles.styles = {\n        topLeft: this.selectionHandles.topLeft.style,\n        topLeftHitArea: this.selectionHandles.topLeftHitArea.style,\n        bottomRight: this.selectionHandles.bottomRight.style,\n        bottomRightHitArea: this.selectionHandles.bottomRightHitArea.style\n      };\n      var hitAreaStyle = {\n        position: 'absolute',\n        height: \"\".concat(hitAreaWidth, \"px\"),\n        width: \"\".concat(hitAreaWidth, \"px\"),\n        'border-radius': \"\".concat(parseInt(hitAreaWidth / 1.5, 10), \"px\")\n      };\n      objectEach(hitAreaStyle, function (value, key) {\n        _this3.selectionHandles.styles.bottomRightHitArea[key] = value;\n        _this3.selectionHandles.styles.topLeftHitArea[key] = value;\n      });\n      var handleStyle = {\n        position: 'absolute',\n        height: \"\".concat(width, \"px\"),\n        width: \"\".concat(width, \"px\"),\n        'border-radius': \"\".concat(parseInt(width / 1.5, 10), \"px\"),\n        background: '#F5F5FF',\n        border: '1px solid #4285c8'\n      };\n      objectEach(handleStyle, function (value, key) {\n        _this3.selectionHandles.styles.bottomRight[key] = value;\n        _this3.selectionHandles.styles.topLeft[key] = value;\n      });\n      this.main.appendChild(this.selectionHandles.topLeft);\n      this.main.appendChild(this.selectionHandles.bottomRight);\n      this.main.appendChild(this.selectionHandles.topLeftHitArea);\n      this.main.appendChild(this.selectionHandles.bottomRightHitArea);\n    }\n    /**\n     * @param {number} row The visual row index.\n     * @param {number} col The visual column index.\n     * @returns {boolean}\n     */\n  }, {\n    key: \"isPartRange\",\n    value: function isPartRange(row, col) {\n      var areaSelection = this.wot.selections.createOrGetArea();\n      if (areaSelection.cellRange) {\n        if (row !== areaSelection.cellRange.to.row || col !== areaSelection.cellRange.to.col) {\n          return true;\n        }\n      }\n      return false;\n    }\n    /**\n     * @param {number} row The visual row index.\n     * @param {number} col The visual column index.\n     * @param {number} top The top position of the handler.\n     * @param {number} left The left position of the handler.\n     * @param {number} width The width of the handler.\n     * @param {number} height The height of the handler.\n     */\n  }, {\n    key: \"updateMultipleSelectionHandlesPosition\",\n    value: function updateMultipleSelectionHandlesPosition(row, col, top, left, width, height) {\n      var handleWidth = parseInt(this.selectionHandles.styles.topLeft.width, 10);\n      var hitAreaWidth = parseInt(this.selectionHandles.styles.topLeftHitArea.width, 10);\n      this.selectionHandles.styles.topLeft.top = \"\".concat(parseInt(top - handleWidth, 10), \"px\");\n      this.selectionHandles.styles.topLeft.left = \"\".concat(parseInt(left - handleWidth, 10), \"px\");\n      this.selectionHandles.styles.topLeftHitArea.top = \"\".concat(parseInt(top - hitAreaWidth / 4 * 3, 10), \"px\");\n      this.selectionHandles.styles.topLeftHitArea.left = \"\".concat(parseInt(left - hitAreaWidth / 4 * 3, 10), \"px\");\n      this.selectionHandles.styles.bottomRight.top = \"\".concat(parseInt(top + height, 10), \"px\");\n      this.selectionHandles.styles.bottomRight.left = \"\".concat(parseInt(left + width, 10), \"px\");\n      this.selectionHandles.styles.bottomRightHitArea.top = \"\".concat(parseInt(top + height - hitAreaWidth / 4, 10), \"px\");\n      this.selectionHandles.styles.bottomRightHitArea.left = \"\".concat(parseInt(left + width - hitAreaWidth / 4, 10), \"px\");\n      if (this.settings.border.cornerVisible && this.settings.border.cornerVisible()) {\n        this.selectionHandles.styles.topLeft.display = 'block';\n        this.selectionHandles.styles.topLeftHitArea.display = 'block';\n        if (this.isPartRange(row, col)) {\n          this.selectionHandles.styles.bottomRight.display = 'none';\n          this.selectionHandles.styles.bottomRightHitArea.display = 'none';\n        } else {\n          this.selectionHandles.styles.bottomRight.display = 'block';\n          this.selectionHandles.styles.bottomRightHitArea.display = 'block';\n        }\n      } else {\n        this.selectionHandles.styles.topLeft.display = 'none';\n        this.selectionHandles.styles.bottomRight.display = 'none';\n        this.selectionHandles.styles.topLeftHitArea.display = 'none';\n        this.selectionHandles.styles.bottomRightHitArea.display = 'none';\n      }\n      if (row === this.wot.wtSettings.getSetting('fixedRowsTop') || col === this.wot.wtSettings.getSetting('fixedColumnsLeft')) {\n        this.selectionHandles.styles.topLeft.zIndex = '9999';\n        this.selectionHandles.styles.topLeftHitArea.zIndex = '9999';\n      } else {\n        this.selectionHandles.styles.topLeft.zIndex = '';\n        this.selectionHandles.styles.topLeftHitArea.zIndex = '';\n      }\n    }\n    /**\n     * Show border around one or many cells.\n     *\n     * @param {Array} corners The corner coordinates.\n     */\n  }, {\n    key: \"appear\",\n    value: function appear(corners) {\n      if (this.disabled) {\n        return;\n      }\n      var _this$wot = this.wot,\n        wtTable = _this$wot.wtTable,\n        rootDocument = _this$wot.rootDocument,\n        rootWindow = _this$wot.rootWindow;\n      var fromRow;\n      var toRow;\n      var fromColumn;\n      var toColumn;\n      var rowHeader;\n      var columnHeader;\n      var rowsCount = wtTable.getRenderedRowsCount();\n      for (var i = 0; i < rowsCount; i += 1) {\n        var s = wtTable.rowFilter.renderedToSource(i);\n        if (s >= corners[0] && s <= corners[2]) {\n          fromRow = s;\n          rowHeader = corners[0];\n          break;\n        }\n      }\n      for (var _i = rowsCount - 1; _i >= 0; _i -= 1) {\n        var _s = wtTable.rowFilter.renderedToSource(_i);\n        if (_s >= corners[0] && _s <= corners[2]) {\n          toRow = _s;\n          break;\n        }\n      }\n      var columnsCount = wtTable.getRenderedColumnsCount();\n      for (var _i2 = 0; _i2 < columnsCount; _i2 += 1) {\n        var _s2 = wtTable.columnFilter.renderedToSource(_i2);\n        if (_s2 >= corners[1] && _s2 <= corners[3]) {\n          fromColumn = _s2;\n          columnHeader = corners[1];\n          break;\n        }\n      }\n      for (var _i3 = columnsCount - 1; _i3 >= 0; _i3 -= 1) {\n        var _s3 = wtTable.columnFilter.renderedToSource(_i3);\n        if (_s3 >= corners[1] && _s3 <= corners[3]) {\n          toColumn = _s3;\n          break;\n        }\n      }\n      if (fromRow === void 0 || fromColumn === void 0) {\n        this.disappear();\n        return;\n      }\n      var fromTD = wtTable.getCell(new CellCoords(fromRow, fromColumn));\n      var isMultiple = fromRow !== toRow || fromColumn !== toColumn;\n      var toTD = isMultiple ? wtTable.getCell(new CellCoords(toRow, toColumn)) : fromTD;\n      var fromOffset = offset(fromTD);\n      var toOffset = isMultiple ? offset(toTD) : fromOffset;\n      var containerOffset = offset(wtTable.TABLE);\n      var minTop = fromOffset.top;\n      var minLeft = fromOffset.left;\n      var left = minLeft - containerOffset.left - 1;\n      var width = toOffset.left + outerWidth(toTD) - minLeft;\n      if (this.isEntireColumnSelected(fromRow, toRow)) {\n        var modifiedValues = this.getDimensionsFromHeader('columns', fromColumn, toColumn, rowHeader, containerOffset);\n        var fromTH = null;\n        if (modifiedValues) {\n          var _modifiedValues = _slicedToArray(modifiedValues, 3);\n          fromTH = _modifiedValues[0];\n          left = _modifiedValues[1];\n          width = _modifiedValues[2];\n        }\n        if (fromTH) {\n          fromTD = fromTH;\n        }\n      }\n      var top = minTop - containerOffset.top - 1;\n      var height = toOffset.top + outerHeight(toTD) - minTop;\n      if (this.isEntireRowSelected(fromColumn, toColumn)) {\n        var _modifiedValues2 = this.getDimensionsFromHeader('rows', fromRow, toRow, columnHeader, containerOffset);\n        var _fromTH = null;\n        if (_modifiedValues2) {\n          var _modifiedValues3 = _slicedToArray(_modifiedValues2, 3);\n          _fromTH = _modifiedValues3[0];\n          top = _modifiedValues3[1];\n          height = _modifiedValues3[2];\n        }\n        if (_fromTH) {\n          fromTD = _fromTH;\n        }\n      }\n      var style = getComputedStyle(fromTD, rootWindow);\n      if (parseInt(style.borderTopWidth, 10) > 0) {\n        top += 1;\n        height = height > 0 ? height - 1 : 0;\n      }\n      if (parseInt(style.borderLeftWidth, 10) > 0) {\n        left += 1;\n        width = width > 0 ? width - 1 : 0;\n      }\n      this.topStyle.top = \"\".concat(top, \"px\");\n      this.topStyle.left = \"\".concat(left, \"px\");\n      this.topStyle.width = \"\".concat(width, \"px\");\n      this.topStyle.display = 'block';\n      this.leftStyle.top = \"\".concat(top, \"px\");\n      this.leftStyle.left = \"\".concat(left, \"px\");\n      this.leftStyle.height = \"\".concat(height, \"px\");\n      this.leftStyle.display = 'block';\n      var delta = Math.floor(this.settings.border.width / 2);\n      this.bottomStyle.top = \"\".concat(top + height - delta, \"px\");\n      this.bottomStyle.left = \"\".concat(left, \"px\");\n      this.bottomStyle.width = \"\".concat(width, \"px\");\n      this.bottomStyle.display = 'block';\n      this.rightStyle.top = \"\".concat(top, \"px\");\n      this.rightStyle.left = \"\".concat(left + width - delta, \"px\");\n      this.rightStyle.height = \"\".concat(height + 1, \"px\");\n      this.rightStyle.display = 'block';\n      var cornerVisibleSetting = this.settings.border.cornerVisible;\n      cornerVisibleSetting = typeof cornerVisibleSetting === 'function' ? cornerVisibleSetting(this.settings.layerLevel) : cornerVisibleSetting;\n      var hookResult = this.wot.getSetting('onModifyGetCellCoords', toRow, toColumn);\n      var checkRow = toRow,\n        checkCol = toColumn;\n      if (hookResult && Array.isArray(hookResult)) {\n        var _hookResult = _slicedToArray(hookResult, 4);\n        checkRow = _hookResult[2];\n        checkCol = _hookResult[3];\n      }\n      if (isMobileBrowser() || !cornerVisibleSetting || this.isPartRange(checkRow, checkCol)) {\n        this.cornerStyle.display = 'none';\n      } else {\n        this.cornerStyle.top = \"\".concat(top + height + this.cornerCenterPointOffset - 1, \"px\");\n        this.cornerStyle.left = \"\".concat(left + width + this.cornerCenterPointOffset - 1, \"px\");\n        this.cornerStyle.borderRightWidth = this.cornerDefaultStyle.borderWidth;\n        this.cornerStyle.width = this.cornerDefaultStyle.width; // Hide the fill handle, so the possible further adjustments won't force unneeded scrollbars.\n\n        this.cornerStyle.display = 'none';\n        var trimmingContainer = getTrimmingContainer(wtTable.TABLE);\n        var trimToWindow = trimmingContainer === rootWindow;\n        if (trimToWindow) {\n          trimmingContainer = rootDocument.documentElement;\n        }\n        if (toColumn === this.wot.getSetting('totalColumns') - 1) {\n          var toTdOffsetLeft = trimToWindow ? toTD.getBoundingClientRect().left : toTD.offsetLeft;\n          var cornerRightEdge = toTdOffsetLeft + outerWidth(toTD) + parseInt(this.cornerDefaultStyle.width, 10) / 2;\n          var cornerOverlappingContainer = cornerRightEdge >= innerWidth(trimmingContainer);\n          if (cornerOverlappingContainer) {\n            this.cornerStyle.left = \"\".concat(Math.floor(left + width + this.cornerCenterPointOffset - parseInt(this.cornerDefaultStyle.width, 10) / 2), \"px\"); // eslint-disable-line max-len\n\n            this.cornerStyle.borderRightWidth = 0;\n          }\n        }\n        if (toRow === this.wot.getSetting('totalRows') - 1) {\n          var toTdOffsetTop = trimToWindow ? toTD.getBoundingClientRect().top : toTD.offsetTop;\n          var cornerBottomEdge = toTdOffsetTop + outerHeight(toTD) + parseInt(this.cornerDefaultStyle.height, 10) / 2;\n          var _cornerOverlappingContainer = cornerBottomEdge >= innerHeight(trimmingContainer);\n          if (_cornerOverlappingContainer) {\n            this.cornerStyle.top = \"\".concat(Math.floor(top + height + this.cornerCenterPointOffset - parseInt(this.cornerDefaultStyle.height, 10) / 2), \"px\"); // eslint-disable-line max-len\n\n            this.cornerStyle.borderBottomWidth = 0;\n          }\n        }\n        this.cornerStyle.display = 'block';\n      }\n      if (isMobileBrowser()) {\n        this.updateMultipleSelectionHandlesPosition(toRow, toColumn, top, left, width, height);\n      }\n    }\n    /**\n     * Check whether an entire column of cells is selected.\n     *\n     * @private\n     * @param {number} startRowIndex Start row index.\n     * @param {number} endRowIndex End row index.\n     * @returns {boolean}\n     */\n  }, {\n    key: \"isEntireColumnSelected\",\n    value: function isEntireColumnSelected(startRowIndex, endRowIndex) {\n      return startRowIndex === this.wot.wtTable.getFirstRenderedRow() && endRowIndex === this.wot.wtTable.getLastRenderedRow();\n    }\n    /**\n     * Check whether an entire row of cells is selected.\n     *\n     * @private\n     * @param {number} startColumnIndex Start column index.\n     * @param {number} endColumnIndex End column index.\n     * @returns {boolean}\n     */\n  }, {\n    key: \"isEntireRowSelected\",\n    value: function isEntireRowSelected(startColumnIndex, endColumnIndex) {\n      return startColumnIndex === this.wot.wtTable.getFirstRenderedColumn() && endColumnIndex === this.wot.wtTable.getLastRenderedColumn();\n    }\n    /**\n     * Get left/top index and width/height depending on the `direction` provided.\n     *\n     * @private\n     * @param {string} direction `rows` or `columns`, defines if an entire column or row is selected.\n     * @param {number} fromIndex Start index of the selection.\n     * @param {number} toIndex End index of the selection.\n     * @param {number} headerIndex The header index as negative value.\n     * @param {number} containerOffset Offset of the container.\n     * @returns {Array|boolean} Returns an array of [headerElement, left, width] or [headerElement, top, height], depending on `direction` (`false` in case of an error getting the headers).\n     */\n  }, {\n    key: \"getDimensionsFromHeader\",\n    value: function getDimensionsFromHeader(direction, fromIndex, toIndex, headerIndex, containerOffset) {\n      var wtTable = this.wot.wtTable;\n      var rootHotElement = wtTable.wtRootElement.parentNode;\n      var getHeaderFn = null;\n      var dimensionFn = null;\n      var entireSelectionClassname = null;\n      var index = null;\n      var dimension = null;\n      var dimensionProperty = null;\n      var startHeader = null;\n      var endHeader = null;\n      switch (direction) {\n        case 'rows':\n          getHeaderFn = function getHeaderFn() {\n            return wtTable.getRowHeader.apply(wtTable, arguments);\n          };\n          dimensionFn = function dimensionFn() {\n            return outerHeight.apply(void 0, arguments);\n          };\n          entireSelectionClassname = 'ht__selection--rows';\n          dimensionProperty = 'top';\n          break;\n        case 'columns':\n          getHeaderFn = function getHeaderFn() {\n            return wtTable.getColumnHeader.apply(wtTable, arguments);\n          };\n          dimensionFn = function dimensionFn() {\n            return outerWidth.apply(void 0, arguments);\n          };\n          entireSelectionClassname = 'ht__selection--columns';\n          dimensionProperty = 'left';\n          break;\n        default:\n      }\n      if (rootHotElement.classList.contains(entireSelectionClassname)) {\n        var columnHeaderLevelCount = this.wot.getSetting('columnHeaders').length;\n        startHeader = getHeaderFn(fromIndex, columnHeaderLevelCount - headerIndex);\n        endHeader = getHeaderFn(toIndex, columnHeaderLevelCount - headerIndex);\n        if (!startHeader || !endHeader) {\n          return false;\n        }\n        var startHeaderOffset = offset(startHeader);\n        var endOffset = offset(endHeader);\n        if (startHeader && endHeader) {\n          index = startHeaderOffset[dimensionProperty] - containerOffset[dimensionProperty] - 1;\n          dimension = endOffset[dimensionProperty] + dimensionFn(endHeader) - startHeaderOffset[dimensionProperty];\n        }\n        return [startHeader, index, dimension];\n      }\n      return false;\n    }\n    /**\n     * Change border style.\n     *\n     * @private\n     * @param {string} borderElement Coordinate where add/remove border: top, right, bottom, left.\n     * @param {object} border The border object descriptor.\n     */\n  }, {\n    key: \"changeBorderStyle\",\n    value: function changeBorderStyle(borderElement, border) {\n      var style = this[borderElement].style;\n      var borderStyle = border[borderElement];\n      if (!borderStyle || borderStyle.hide) {\n        addClass(this[borderElement], 'hidden');\n      } else {\n        if (hasClass(this[borderElement], 'hidden')) {\n          removeClass(this[borderElement], 'hidden');\n        }\n        style.backgroundColor = borderStyle.color;\n        if (borderElement === 'top' || borderElement === 'bottom') {\n          style.height = \"\".concat(borderStyle.width, \"px\");\n        }\n        if (borderElement === 'right' || borderElement === 'left') {\n          style.width = \"\".concat(borderStyle.width, \"px\");\n        }\n      }\n    }\n    /**\n     * Change border style to default.\n     *\n     * @private\n     * @param {string} position The position type (\"top\", \"bottom\", \"left\", \"right\") to change.\n     */\n  }, {\n    key: \"changeBorderToDefaultStyle\",\n    value: function changeBorderToDefaultStyle(position) {\n      var defaultBorder = {\n        width: 1,\n        color: '#000'\n      };\n      var style = this[position].style;\n      style.backgroundColor = defaultBorder.color;\n      style.width = \"\".concat(defaultBorder.width, \"px\");\n      style.height = \"\".concat(defaultBorder.width, \"px\");\n    }\n    /**\n     * Toggle class 'hidden' to element.\n     *\n     * @private\n     * @param {string} borderElement Coordinate where add/remove border: top, right, bottom, left.\n     * @param {boolean} [remove] Defines type of the action to perform.\n     */\n  }, {\n    key: \"toggleHiddenClass\",\n    value: function toggleHiddenClass(borderElement, remove) {\n      this.changeBorderToDefaultStyle(borderElement);\n      if (remove) {\n        addClass(this[borderElement], 'hidden');\n      } else {\n        removeClass(this[borderElement], 'hidden');\n      }\n    }\n    /**\n     * Hide border.\n     */\n  }, {\n    key: \"disappear\",\n    value: function disappear() {\n      this.topStyle.display = 'none';\n      this.leftStyle.display = 'none';\n      this.bottomStyle.display = 'none';\n      this.rightStyle.display = 'none';\n      this.cornerStyle.display = 'none';\n      if (isMobileBrowser()) {\n        this.selectionHandles.styles.topLeft.display = 'none';\n        this.selectionHandles.styles.bottomRight.display = 'none';\n      }\n    }\n    /**\n     * Cleans up all the DOM state related to a Border instance. Call this prior to deleting a Border instance.\n     */\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.eventManager.destroyWithOwnEventsOnly();\n      this.main.parentNode.removeChild(this.main);\n    }\n  }]);\n  return Border;\n}();\nexport default Border;","map":{"version":3,"names":["_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","len","length","arr2","_i","Symbol","iterator","_arr","_n","_d","_s","_e","next","done","push","value","err","isArray","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","addClass","hasClass","removeClass","getComputedStyle","getTrimmingContainer","innerWidth","innerHeight","offset","outerHeight","outerWidth","stopImmediatePropagation","objectEach","isMobileBrowser","EventManager","CellCoords","Border","wotInstance","settings","eventManager","wot","mouseDown","main","top","left","bottom","right","topStyle","leftStyle","bottomStyle","rightStyle","cornerDefaultStyle","width","height","borderWidth","borderStyle","borderColor","cornerCenterPointOffset","parseInt","corner","cornerStyle","createBorders","registerListeners","_this2","documentBody","rootDocument","body","addEventListener","onMouseDown","onMouseUp","_loop","c","element","childNodes","event","onMouseEnter","parentElement","getSetting","preventDefault","_this","bounds","getBoundingClientRect","style","display","isOutside","mouseEvent","clientY","Math","floor","ceil","clientX","handler","handlerEvent","removeEventListener","createElement","borderDivs","position","div","className","concat","hide","backgroundColor","color","border","appendChild","join","createMultipleSelectorHandles","disappear","wtTable","bordersHolder","spreader","_this3","selectionHandles","topLeft","topLeftHitArea","bottomRight","bottomRightHitArea","hitAreaWidth","styles","hitAreaStyle","handleStyle","background","isPartRange","row","col","areaSelection","selections","createOrGetArea","cellRange","to","updateMultipleSelectionHandlesPosition","handleWidth","cornerVisible","wtSettings","zIndex","appear","corners","disabled","_this$wot","rootWindow","fromRow","toRow","fromColumn","toColumn","rowHeader","columnHeader","rowsCount","getRenderedRowsCount","s","rowFilter","renderedToSource","columnsCount","getRenderedColumnsCount","_i2","_s2","columnFilter","_i3","_s3","fromTD","getCell","isMultiple","toTD","fromOffset","toOffset","containerOffset","TABLE","minTop","minLeft","isEntireColumnSelected","modifiedValues","getDimensionsFromHeader","fromTH","_modifiedValues","isEntireRowSelected","_modifiedValues2","_fromTH","_modifiedValues3","borderTopWidth","borderLeftWidth","delta","cornerVisibleSetting","layerLevel","hookResult","checkRow","checkCol","_hookResult","borderRightWidth","trimmingContainer","trimToWindow","documentElement","toTdOffsetLeft","offsetLeft","cornerRightEdge","cornerOverlappingContainer","toTdOffsetTop","offsetTop","cornerBottomEdge","_cornerOverlappingContainer","borderBottomWidth","startRowIndex","endRowIndex","getFirstRenderedRow","getLastRenderedRow","startColumnIndex","endColumnIndex","getFirstRenderedColumn","getLastRenderedColumn","direction","fromIndex","toIndex","headerIndex","rootHotElement","wtRootElement","parentNode","getHeaderFn","dimensionFn","entireSelectionClassname","index","dimension","dimensionProperty","startHeader","endHeader","getRowHeader","apply","arguments","getColumnHeader","classList","contains","columnHeaderLevelCount","startHeaderOffset","endOffset","changeBorderStyle","borderElement","changeBorderToDefaultStyle","defaultBorder","toggleHiddenClass","remove","destroy","destroyWithOwnEventsOnly","removeChild"],"sources":["/Users/priyadeliwala/Desktop/sales-dashboard/node_modules/handsontable/3rdparty/walkontable/src/border.mjs"],"sourcesContent":["function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.symbol.iterator.js\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nimport { addClass, hasClass, removeClass, getComputedStyle, getTrimmingContainer, innerWidth, innerHeight, offset, outerHeight, outerWidth } from \"./../../../helpers/dom/element.mjs\";\nimport { stopImmediatePropagation } from \"./../../../helpers/dom/event.mjs\";\nimport { objectEach } from \"./../../../helpers/object.mjs\";\nimport { isMobileBrowser } from \"./../../../helpers/browser.mjs\";\nimport EventManager from \"./../../../eventManager.mjs\";\nimport CellCoords from \"./cell/coords.mjs\";\n/**\n *\n */\n\nvar Border = /*#__PURE__*/function () {\n  /**\n   * @param {Walkontable} wotInstance The Walkontable instance.\n   * @param {object} settings The border settings.\n   */\n  function Border(wotInstance, settings) {\n    _classCallCheck(this, Border);\n\n    if (!settings) {\n      return;\n    }\n\n    this.eventManager = new EventManager(wotInstance);\n    this.instance = wotInstance;\n    this.wot = wotInstance;\n    this.settings = settings;\n    this.mouseDown = false;\n    this.main = null;\n    this.top = null;\n    this.left = null;\n    this.bottom = null;\n    this.right = null;\n    this.topStyle = null;\n    this.leftStyle = null;\n    this.bottomStyle = null;\n    this.rightStyle = null;\n    this.cornerDefaultStyle = {\n      width: '6px',\n      height: '6px',\n      borderWidth: '1px',\n      borderStyle: 'solid',\n      borderColor: '#FFF'\n    }; // Offset to moving the corner to be centered relative to the grid.\n\n    this.cornerCenterPointOffset = -(parseInt(this.cornerDefaultStyle.width, 10) / 2);\n    this.corner = null;\n    this.cornerStyle = null;\n    this.createBorders(settings);\n    this.registerListeners();\n  }\n  /**\n   * Register all necessary events.\n   */\n\n\n  _createClass(Border, [{\n    key: \"registerListeners\",\n    value: function registerListeners() {\n      var _this2 = this;\n\n      var documentBody = this.wot.rootDocument.body;\n      this.eventManager.addEventListener(documentBody, 'mousedown', function () {\n        return _this2.onMouseDown();\n      });\n      this.eventManager.addEventListener(documentBody, 'mouseup', function () {\n        return _this2.onMouseUp();\n      });\n\n      var _loop = function _loop(c, len) {\n        var element = _this2.main.childNodes[c];\n\n        _this2.eventManager.addEventListener(element, 'mouseenter', function (event) {\n          return _this2.onMouseEnter(event, _this2.main.childNodes[c]);\n        });\n      };\n\n      for (var c = 0, len = this.main.childNodes.length; c < len; c++) {\n        _loop(c, len);\n      }\n    }\n    /**\n     * Mouse down listener.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"onMouseDown\",\n    value: function onMouseDown() {\n      this.mouseDown = true;\n    }\n    /**\n     * Mouse up listener.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"onMouseUp\",\n    value: function onMouseUp() {\n      this.mouseDown = false;\n    }\n    /**\n     * Mouse enter listener for fragment selection functionality.\n     *\n     * @private\n     * @param {Event} event Dom event.\n     * @param {HTMLElement} parentElement Part of border element.\n     */\n\n  }, {\n    key: \"onMouseEnter\",\n    value: function onMouseEnter(event, parentElement) {\n      if (!this.mouseDown || !this.wot.getSetting('hideBorderOnMouseDownOver')) {\n        return;\n      }\n\n      event.preventDefault();\n      stopImmediatePropagation(event);\n\n      var _this = this;\n\n      var documentBody = this.wot.rootDocument.body;\n      var bounds = parentElement.getBoundingClientRect(); // Hide border to prevents selection jumping when fragmentSelection is enabled.\n\n      parentElement.style.display = 'none';\n      /**\n       * @param {Event} mouseEvent The mouse event object.\n       * @returns {boolean}\n       */\n\n      function isOutside(mouseEvent) {\n        if (mouseEvent.clientY < Math.floor(bounds.top)) {\n          return true;\n        }\n\n        if (mouseEvent.clientY > Math.ceil(bounds.top + bounds.height)) {\n          return true;\n        }\n\n        if (mouseEvent.clientX < Math.floor(bounds.left)) {\n          return true;\n        }\n\n        if (mouseEvent.clientX > Math.ceil(bounds.left + bounds.width)) {\n          return true;\n        }\n      }\n      /**\n       * @param {Event} handlerEvent The mouse event object.\n       */\n\n\n      function handler(handlerEvent) {\n        if (isOutside(handlerEvent)) {\n          _this.eventManager.removeEventListener(documentBody, 'mousemove', handler);\n\n          parentElement.style.display = 'block';\n        }\n      }\n\n      this.eventManager.addEventListener(documentBody, 'mousemove', handler);\n    }\n    /**\n     * Create border elements.\n     *\n     * @param {object} settings The border settings.\n     */\n\n  }, {\n    key: \"createBorders\",\n    value: function createBorders(settings) {\n      var rootDocument = this.wot.rootDocument;\n      this.main = rootDocument.createElement('div');\n      var borderDivs = ['top', 'left', 'bottom', 'right', 'corner'];\n      var style = this.main.style;\n      style.position = 'absolute';\n      style.top = 0;\n      style.left = 0;\n\n      for (var i = 0; i < 5; i++) {\n        var position = borderDivs[i];\n        var div = rootDocument.createElement('div');\n        div.className = \"wtBorder \".concat(this.settings.className || ''); // + borderDivs[i];\n\n        if (this.settings[position] && this.settings[position].hide) {\n          div.className += ' hidden';\n        }\n\n        style = div.style;\n        style.backgroundColor = this.settings[position] && this.settings[position].color ? this.settings[position].color : settings.border.color;\n        style.height = this.settings[position] && this.settings[position].width ? \"\".concat(this.settings[position].width, \"px\") : \"\".concat(settings.border.width, \"px\");\n        style.width = this.settings[position] && this.settings[position].width ? \"\".concat(this.settings[position].width, \"px\") : \"\".concat(settings.border.width, \"px\");\n        this.main.appendChild(div);\n      }\n\n      this.top = this.main.childNodes[0];\n      this.left = this.main.childNodes[1];\n      this.bottom = this.main.childNodes[2];\n      this.right = this.main.childNodes[3];\n      this.topStyle = this.top.style;\n      this.leftStyle = this.left.style;\n      this.bottomStyle = this.bottom.style;\n      this.rightStyle = this.right.style;\n      this.corner = this.main.childNodes[4];\n      this.corner.className += ' corner';\n      this.cornerStyle = this.corner.style;\n      this.cornerStyle.width = this.cornerDefaultStyle.width;\n      this.cornerStyle.height = this.cornerDefaultStyle.height;\n      this.cornerStyle.border = [this.cornerDefaultStyle.borderWidth, this.cornerDefaultStyle.borderStyle, this.cornerDefaultStyle.borderColor].join(' ');\n\n      if (isMobileBrowser()) {\n        this.createMultipleSelectorHandles();\n      }\n\n      this.disappear();\n      var wtTable = this.wot.wtTable;\n      var bordersHolder = wtTable.bordersHolder;\n\n      if (!bordersHolder) {\n        bordersHolder = rootDocument.createElement('div');\n        bordersHolder.className = 'htBorders';\n        wtTable.bordersHolder = bordersHolder;\n        wtTable.spreader.appendChild(bordersHolder);\n      }\n\n      bordersHolder.appendChild(this.main);\n    }\n    /**\n     * Create multiple selector handler for mobile devices.\n     */\n\n  }, {\n    key: \"createMultipleSelectorHandles\",\n    value: function createMultipleSelectorHandles() {\n      var _this3 = this;\n\n      var rootDocument = this.wot.rootDocument;\n      this.selectionHandles = {\n        topLeft: rootDocument.createElement('DIV'),\n        topLeftHitArea: rootDocument.createElement('DIV'),\n        bottomRight: rootDocument.createElement('DIV'),\n        bottomRightHitArea: rootDocument.createElement('DIV')\n      };\n      var width = 10;\n      var hitAreaWidth = 40;\n      this.selectionHandles.topLeft.className = 'topLeftSelectionHandle';\n      this.selectionHandles.topLeftHitArea.className = 'topLeftSelectionHandle-HitArea';\n      this.selectionHandles.bottomRight.className = 'bottomRightSelectionHandle';\n      this.selectionHandles.bottomRightHitArea.className = 'bottomRightSelectionHandle-HitArea';\n      this.selectionHandles.styles = {\n        topLeft: this.selectionHandles.topLeft.style,\n        topLeftHitArea: this.selectionHandles.topLeftHitArea.style,\n        bottomRight: this.selectionHandles.bottomRight.style,\n        bottomRightHitArea: this.selectionHandles.bottomRightHitArea.style\n      };\n      var hitAreaStyle = {\n        position: 'absolute',\n        height: \"\".concat(hitAreaWidth, \"px\"),\n        width: \"\".concat(hitAreaWidth, \"px\"),\n        'border-radius': \"\".concat(parseInt(hitAreaWidth / 1.5, 10), \"px\")\n      };\n      objectEach(hitAreaStyle, function (value, key) {\n        _this3.selectionHandles.styles.bottomRightHitArea[key] = value;\n        _this3.selectionHandles.styles.topLeftHitArea[key] = value;\n      });\n      var handleStyle = {\n        position: 'absolute',\n        height: \"\".concat(width, \"px\"),\n        width: \"\".concat(width, \"px\"),\n        'border-radius': \"\".concat(parseInt(width / 1.5, 10), \"px\"),\n        background: '#F5F5FF',\n        border: '1px solid #4285c8'\n      };\n      objectEach(handleStyle, function (value, key) {\n        _this3.selectionHandles.styles.bottomRight[key] = value;\n        _this3.selectionHandles.styles.topLeft[key] = value;\n      });\n      this.main.appendChild(this.selectionHandles.topLeft);\n      this.main.appendChild(this.selectionHandles.bottomRight);\n      this.main.appendChild(this.selectionHandles.topLeftHitArea);\n      this.main.appendChild(this.selectionHandles.bottomRightHitArea);\n    }\n    /**\n     * @param {number} row The visual row index.\n     * @param {number} col The visual column index.\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"isPartRange\",\n    value: function isPartRange(row, col) {\n      var areaSelection = this.wot.selections.createOrGetArea();\n\n      if (areaSelection.cellRange) {\n        if (row !== areaSelection.cellRange.to.row || col !== areaSelection.cellRange.to.col) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n    /**\n     * @param {number} row The visual row index.\n     * @param {number} col The visual column index.\n     * @param {number} top The top position of the handler.\n     * @param {number} left The left position of the handler.\n     * @param {number} width The width of the handler.\n     * @param {number} height The height of the handler.\n     */\n\n  }, {\n    key: \"updateMultipleSelectionHandlesPosition\",\n    value: function updateMultipleSelectionHandlesPosition(row, col, top, left, width, height) {\n      var handleWidth = parseInt(this.selectionHandles.styles.topLeft.width, 10);\n      var hitAreaWidth = parseInt(this.selectionHandles.styles.topLeftHitArea.width, 10);\n      this.selectionHandles.styles.topLeft.top = \"\".concat(parseInt(top - handleWidth, 10), \"px\");\n      this.selectionHandles.styles.topLeft.left = \"\".concat(parseInt(left - handleWidth, 10), \"px\");\n      this.selectionHandles.styles.topLeftHitArea.top = \"\".concat(parseInt(top - hitAreaWidth / 4 * 3, 10), \"px\");\n      this.selectionHandles.styles.topLeftHitArea.left = \"\".concat(parseInt(left - hitAreaWidth / 4 * 3, 10), \"px\");\n      this.selectionHandles.styles.bottomRight.top = \"\".concat(parseInt(top + height, 10), \"px\");\n      this.selectionHandles.styles.bottomRight.left = \"\".concat(parseInt(left + width, 10), \"px\");\n      this.selectionHandles.styles.bottomRightHitArea.top = \"\".concat(parseInt(top + height - hitAreaWidth / 4, 10), \"px\");\n      this.selectionHandles.styles.bottomRightHitArea.left = \"\".concat(parseInt(left + width - hitAreaWidth / 4, 10), \"px\");\n\n      if (this.settings.border.cornerVisible && this.settings.border.cornerVisible()) {\n        this.selectionHandles.styles.topLeft.display = 'block';\n        this.selectionHandles.styles.topLeftHitArea.display = 'block';\n\n        if (this.isPartRange(row, col)) {\n          this.selectionHandles.styles.bottomRight.display = 'none';\n          this.selectionHandles.styles.bottomRightHitArea.display = 'none';\n        } else {\n          this.selectionHandles.styles.bottomRight.display = 'block';\n          this.selectionHandles.styles.bottomRightHitArea.display = 'block';\n        }\n      } else {\n        this.selectionHandles.styles.topLeft.display = 'none';\n        this.selectionHandles.styles.bottomRight.display = 'none';\n        this.selectionHandles.styles.topLeftHitArea.display = 'none';\n        this.selectionHandles.styles.bottomRightHitArea.display = 'none';\n      }\n\n      if (row === this.wot.wtSettings.getSetting('fixedRowsTop') || col === this.wot.wtSettings.getSetting('fixedColumnsLeft')) {\n        this.selectionHandles.styles.topLeft.zIndex = '9999';\n        this.selectionHandles.styles.topLeftHitArea.zIndex = '9999';\n      } else {\n        this.selectionHandles.styles.topLeft.zIndex = '';\n        this.selectionHandles.styles.topLeftHitArea.zIndex = '';\n      }\n    }\n    /**\n     * Show border around one or many cells.\n     *\n     * @param {Array} corners The corner coordinates.\n     */\n\n  }, {\n    key: \"appear\",\n    value: function appear(corners) {\n      if (this.disabled) {\n        return;\n      }\n\n      var _this$wot = this.wot,\n          wtTable = _this$wot.wtTable,\n          rootDocument = _this$wot.rootDocument,\n          rootWindow = _this$wot.rootWindow;\n      var fromRow;\n      var toRow;\n      var fromColumn;\n      var toColumn;\n      var rowHeader;\n      var columnHeader;\n      var rowsCount = wtTable.getRenderedRowsCount();\n\n      for (var i = 0; i < rowsCount; i += 1) {\n        var s = wtTable.rowFilter.renderedToSource(i);\n\n        if (s >= corners[0] && s <= corners[2]) {\n          fromRow = s;\n          rowHeader = corners[0];\n          break;\n        }\n      }\n\n      for (var _i = rowsCount - 1; _i >= 0; _i -= 1) {\n        var _s = wtTable.rowFilter.renderedToSource(_i);\n\n        if (_s >= corners[0] && _s <= corners[2]) {\n          toRow = _s;\n          break;\n        }\n      }\n\n      var columnsCount = wtTable.getRenderedColumnsCount();\n\n      for (var _i2 = 0; _i2 < columnsCount; _i2 += 1) {\n        var _s2 = wtTable.columnFilter.renderedToSource(_i2);\n\n        if (_s2 >= corners[1] && _s2 <= corners[3]) {\n          fromColumn = _s2;\n          columnHeader = corners[1];\n          break;\n        }\n      }\n\n      for (var _i3 = columnsCount - 1; _i3 >= 0; _i3 -= 1) {\n        var _s3 = wtTable.columnFilter.renderedToSource(_i3);\n\n        if (_s3 >= corners[1] && _s3 <= corners[3]) {\n          toColumn = _s3;\n          break;\n        }\n      }\n\n      if (fromRow === void 0 || fromColumn === void 0) {\n        this.disappear();\n        return;\n      }\n\n      var fromTD = wtTable.getCell(new CellCoords(fromRow, fromColumn));\n      var isMultiple = fromRow !== toRow || fromColumn !== toColumn;\n      var toTD = isMultiple ? wtTable.getCell(new CellCoords(toRow, toColumn)) : fromTD;\n      var fromOffset = offset(fromTD);\n      var toOffset = isMultiple ? offset(toTD) : fromOffset;\n      var containerOffset = offset(wtTable.TABLE);\n      var minTop = fromOffset.top;\n      var minLeft = fromOffset.left;\n      var left = minLeft - containerOffset.left - 1;\n      var width = toOffset.left + outerWidth(toTD) - minLeft;\n\n      if (this.isEntireColumnSelected(fromRow, toRow)) {\n        var modifiedValues = this.getDimensionsFromHeader('columns', fromColumn, toColumn, rowHeader, containerOffset);\n        var fromTH = null;\n\n        if (modifiedValues) {\n          var _modifiedValues = _slicedToArray(modifiedValues, 3);\n\n          fromTH = _modifiedValues[0];\n          left = _modifiedValues[1];\n          width = _modifiedValues[2];\n        }\n\n        if (fromTH) {\n          fromTD = fromTH;\n        }\n      }\n\n      var top = minTop - containerOffset.top - 1;\n      var height = toOffset.top + outerHeight(toTD) - minTop;\n\n      if (this.isEntireRowSelected(fromColumn, toColumn)) {\n        var _modifiedValues2 = this.getDimensionsFromHeader('rows', fromRow, toRow, columnHeader, containerOffset);\n\n        var _fromTH = null;\n\n        if (_modifiedValues2) {\n          var _modifiedValues3 = _slicedToArray(_modifiedValues2, 3);\n\n          _fromTH = _modifiedValues3[0];\n          top = _modifiedValues3[1];\n          height = _modifiedValues3[2];\n        }\n\n        if (_fromTH) {\n          fromTD = _fromTH;\n        }\n      }\n\n      var style = getComputedStyle(fromTD, rootWindow);\n\n      if (parseInt(style.borderTopWidth, 10) > 0) {\n        top += 1;\n        height = height > 0 ? height - 1 : 0;\n      }\n\n      if (parseInt(style.borderLeftWidth, 10) > 0) {\n        left += 1;\n        width = width > 0 ? width - 1 : 0;\n      }\n\n      this.topStyle.top = \"\".concat(top, \"px\");\n      this.topStyle.left = \"\".concat(left, \"px\");\n      this.topStyle.width = \"\".concat(width, \"px\");\n      this.topStyle.display = 'block';\n      this.leftStyle.top = \"\".concat(top, \"px\");\n      this.leftStyle.left = \"\".concat(left, \"px\");\n      this.leftStyle.height = \"\".concat(height, \"px\");\n      this.leftStyle.display = 'block';\n      var delta = Math.floor(this.settings.border.width / 2);\n      this.bottomStyle.top = \"\".concat(top + height - delta, \"px\");\n      this.bottomStyle.left = \"\".concat(left, \"px\");\n      this.bottomStyle.width = \"\".concat(width, \"px\");\n      this.bottomStyle.display = 'block';\n      this.rightStyle.top = \"\".concat(top, \"px\");\n      this.rightStyle.left = \"\".concat(left + width - delta, \"px\");\n      this.rightStyle.height = \"\".concat(height + 1, \"px\");\n      this.rightStyle.display = 'block';\n      var cornerVisibleSetting = this.settings.border.cornerVisible;\n      cornerVisibleSetting = typeof cornerVisibleSetting === 'function' ? cornerVisibleSetting(this.settings.layerLevel) : cornerVisibleSetting;\n      var hookResult = this.wot.getSetting('onModifyGetCellCoords', toRow, toColumn);\n      var checkRow = toRow,\n          checkCol = toColumn;\n\n      if (hookResult && Array.isArray(hookResult)) {\n        var _hookResult = _slicedToArray(hookResult, 4);\n\n        checkRow = _hookResult[2];\n        checkCol = _hookResult[3];\n      }\n\n      if (isMobileBrowser() || !cornerVisibleSetting || this.isPartRange(checkRow, checkCol)) {\n        this.cornerStyle.display = 'none';\n      } else {\n        this.cornerStyle.top = \"\".concat(top + height + this.cornerCenterPointOffset - 1, \"px\");\n        this.cornerStyle.left = \"\".concat(left + width + this.cornerCenterPointOffset - 1, \"px\");\n        this.cornerStyle.borderRightWidth = this.cornerDefaultStyle.borderWidth;\n        this.cornerStyle.width = this.cornerDefaultStyle.width; // Hide the fill handle, so the possible further adjustments won't force unneeded scrollbars.\n\n        this.cornerStyle.display = 'none';\n        var trimmingContainer = getTrimmingContainer(wtTable.TABLE);\n        var trimToWindow = trimmingContainer === rootWindow;\n\n        if (trimToWindow) {\n          trimmingContainer = rootDocument.documentElement;\n        }\n\n        if (toColumn === this.wot.getSetting('totalColumns') - 1) {\n          var toTdOffsetLeft = trimToWindow ? toTD.getBoundingClientRect().left : toTD.offsetLeft;\n          var cornerRightEdge = toTdOffsetLeft + outerWidth(toTD) + parseInt(this.cornerDefaultStyle.width, 10) / 2;\n          var cornerOverlappingContainer = cornerRightEdge >= innerWidth(trimmingContainer);\n\n          if (cornerOverlappingContainer) {\n            this.cornerStyle.left = \"\".concat(Math.floor(left + width + this.cornerCenterPointOffset - parseInt(this.cornerDefaultStyle.width, 10) / 2), \"px\"); // eslint-disable-line max-len\n\n            this.cornerStyle.borderRightWidth = 0;\n          }\n        }\n\n        if (toRow === this.wot.getSetting('totalRows') - 1) {\n          var toTdOffsetTop = trimToWindow ? toTD.getBoundingClientRect().top : toTD.offsetTop;\n          var cornerBottomEdge = toTdOffsetTop + outerHeight(toTD) + parseInt(this.cornerDefaultStyle.height, 10) / 2;\n\n          var _cornerOverlappingContainer = cornerBottomEdge >= innerHeight(trimmingContainer);\n\n          if (_cornerOverlappingContainer) {\n            this.cornerStyle.top = \"\".concat(Math.floor(top + height + this.cornerCenterPointOffset - parseInt(this.cornerDefaultStyle.height, 10) / 2), \"px\"); // eslint-disable-line max-len\n\n            this.cornerStyle.borderBottomWidth = 0;\n          }\n        }\n\n        this.cornerStyle.display = 'block';\n      }\n\n      if (isMobileBrowser()) {\n        this.updateMultipleSelectionHandlesPosition(toRow, toColumn, top, left, width, height);\n      }\n    }\n    /**\n     * Check whether an entire column of cells is selected.\n     *\n     * @private\n     * @param {number} startRowIndex Start row index.\n     * @param {number} endRowIndex End row index.\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"isEntireColumnSelected\",\n    value: function isEntireColumnSelected(startRowIndex, endRowIndex) {\n      return startRowIndex === this.wot.wtTable.getFirstRenderedRow() && endRowIndex === this.wot.wtTable.getLastRenderedRow();\n    }\n    /**\n     * Check whether an entire row of cells is selected.\n     *\n     * @private\n     * @param {number} startColumnIndex Start column index.\n     * @param {number} endColumnIndex End column index.\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"isEntireRowSelected\",\n    value: function isEntireRowSelected(startColumnIndex, endColumnIndex) {\n      return startColumnIndex === this.wot.wtTable.getFirstRenderedColumn() && endColumnIndex === this.wot.wtTable.getLastRenderedColumn();\n    }\n    /**\n     * Get left/top index and width/height depending on the `direction` provided.\n     *\n     * @private\n     * @param {string} direction `rows` or `columns`, defines if an entire column or row is selected.\n     * @param {number} fromIndex Start index of the selection.\n     * @param {number} toIndex End index of the selection.\n     * @param {number} headerIndex The header index as negative value.\n     * @param {number} containerOffset Offset of the container.\n     * @returns {Array|boolean} Returns an array of [headerElement, left, width] or [headerElement, top, height], depending on `direction` (`false` in case of an error getting the headers).\n     */\n\n  }, {\n    key: \"getDimensionsFromHeader\",\n    value: function getDimensionsFromHeader(direction, fromIndex, toIndex, headerIndex, containerOffset) {\n      var wtTable = this.wot.wtTable;\n      var rootHotElement = wtTable.wtRootElement.parentNode;\n      var getHeaderFn = null;\n      var dimensionFn = null;\n      var entireSelectionClassname = null;\n      var index = null;\n      var dimension = null;\n      var dimensionProperty = null;\n      var startHeader = null;\n      var endHeader = null;\n\n      switch (direction) {\n        case 'rows':\n          getHeaderFn = function getHeaderFn() {\n            return wtTable.getRowHeader.apply(wtTable, arguments);\n          };\n\n          dimensionFn = function dimensionFn() {\n            return outerHeight.apply(void 0, arguments);\n          };\n\n          entireSelectionClassname = 'ht__selection--rows';\n          dimensionProperty = 'top';\n          break;\n\n        case 'columns':\n          getHeaderFn = function getHeaderFn() {\n            return wtTable.getColumnHeader.apply(wtTable, arguments);\n          };\n\n          dimensionFn = function dimensionFn() {\n            return outerWidth.apply(void 0, arguments);\n          };\n\n          entireSelectionClassname = 'ht__selection--columns';\n          dimensionProperty = 'left';\n          break;\n\n        default:\n      }\n\n      if (rootHotElement.classList.contains(entireSelectionClassname)) {\n        var columnHeaderLevelCount = this.wot.getSetting('columnHeaders').length;\n        startHeader = getHeaderFn(fromIndex, columnHeaderLevelCount - headerIndex);\n        endHeader = getHeaderFn(toIndex, columnHeaderLevelCount - headerIndex);\n\n        if (!startHeader || !endHeader) {\n          return false;\n        }\n\n        var startHeaderOffset = offset(startHeader);\n        var endOffset = offset(endHeader);\n\n        if (startHeader && endHeader) {\n          index = startHeaderOffset[dimensionProperty] - containerOffset[dimensionProperty] - 1;\n          dimension = endOffset[dimensionProperty] + dimensionFn(endHeader) - startHeaderOffset[dimensionProperty];\n        }\n\n        return [startHeader, index, dimension];\n      }\n\n      return false;\n    }\n    /**\n     * Change border style.\n     *\n     * @private\n     * @param {string} borderElement Coordinate where add/remove border: top, right, bottom, left.\n     * @param {object} border The border object descriptor.\n     */\n\n  }, {\n    key: \"changeBorderStyle\",\n    value: function changeBorderStyle(borderElement, border) {\n      var style = this[borderElement].style;\n      var borderStyle = border[borderElement];\n\n      if (!borderStyle || borderStyle.hide) {\n        addClass(this[borderElement], 'hidden');\n      } else {\n        if (hasClass(this[borderElement], 'hidden')) {\n          removeClass(this[borderElement], 'hidden');\n        }\n\n        style.backgroundColor = borderStyle.color;\n\n        if (borderElement === 'top' || borderElement === 'bottom') {\n          style.height = \"\".concat(borderStyle.width, \"px\");\n        }\n\n        if (borderElement === 'right' || borderElement === 'left') {\n          style.width = \"\".concat(borderStyle.width, \"px\");\n        }\n      }\n    }\n    /**\n     * Change border style to default.\n     *\n     * @private\n     * @param {string} position The position type (\"top\", \"bottom\", \"left\", \"right\") to change.\n     */\n\n  }, {\n    key: \"changeBorderToDefaultStyle\",\n    value: function changeBorderToDefaultStyle(position) {\n      var defaultBorder = {\n        width: 1,\n        color: '#000'\n      };\n      var style = this[position].style;\n      style.backgroundColor = defaultBorder.color;\n      style.width = \"\".concat(defaultBorder.width, \"px\");\n      style.height = \"\".concat(defaultBorder.width, \"px\");\n    }\n    /**\n     * Toggle class 'hidden' to element.\n     *\n     * @private\n     * @param {string} borderElement Coordinate where add/remove border: top, right, bottom, left.\n     * @param {boolean} [remove] Defines type of the action to perform.\n     */\n\n  }, {\n    key: \"toggleHiddenClass\",\n    value: function toggleHiddenClass(borderElement, remove) {\n      this.changeBorderToDefaultStyle(borderElement);\n\n      if (remove) {\n        addClass(this[borderElement], 'hidden');\n      } else {\n        removeClass(this[borderElement], 'hidden');\n      }\n    }\n    /**\n     * Hide border.\n     */\n\n  }, {\n    key: \"disappear\",\n    value: function disappear() {\n      this.topStyle.display = 'none';\n      this.leftStyle.display = 'none';\n      this.bottomStyle.display = 'none';\n      this.rightStyle.display = 'none';\n      this.cornerStyle.display = 'none';\n\n      if (isMobileBrowser()) {\n        this.selectionHandles.styles.topLeft.display = 'none';\n        this.selectionHandles.styles.bottomRight.display = 'none';\n      }\n    }\n    /**\n     * Cleans up all the DOM state related to a Border instance. Call this prior to deleting a Border instance.\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.eventManager.destroyWithOwnEventsOnly();\n      this.main.parentNode.removeChild(this.main);\n    }\n  }]);\n\n  return Border;\n}();\n\nexport default Border;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}