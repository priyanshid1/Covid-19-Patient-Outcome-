{"ast":null,"code":"function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nimport { getScrollableElement, getScrollbarWidth } from \"./../../../helpers/dom/element.mjs\";\nimport { arrayEach } from \"./../../../helpers/array.mjs\";\nimport { isKey } from \"./../../../helpers/unicode.mjs\";\nimport { isChrome } from \"./../../../helpers/browser.mjs\";\nimport EventManager from \"./../../../eventManager.mjs\";\nimport { CLONE_BOTTOM_LEFT_CORNER, CLONE_BOTTOM, CLONE_LEFT, CLONE_TOP_LEFT_CORNER, CLONE_TOP, LeftOverlay, TopOverlay, TopLeftCornerOverlay, BottomOverlay, BottomLeftCornerOverlay, registerOverlayOnce, createOverlay, hasOverlay } from \"./overlay/index.mjs\";\nregisterOverlayOnce(BottomLeftCornerOverlay);\nregisterOverlayOnce(BottomOverlay);\nregisterOverlayOnce(LeftOverlay);\nregisterOverlayOnce(TopLeftCornerOverlay);\nregisterOverlayOnce(TopOverlay);\n/**\n * @class Overlays\n */\n\nvar Overlays = /*#__PURE__*/function () {\n  /**\n   * @param {Walkontable} wotInstance The Walkontable instance.\n   */\n  function Overlays(wotInstance) {\n    _classCallCheck(this, Overlays);\n\n    /**\n     * Walkontable instance's reference.\n     *\n     * @private\n     * @type {Walkontable}\n     */\n    this.wot = wotInstance;\n    var _this$wot = this.wot,\n      rootDocument = _this$wot.rootDocument,\n      rootWindow = _this$wot.rootWindow,\n      wtTable = _this$wot.wtTable;\n    /**\n     * Sometimes `line-height` might be set to 'normal'. In that case, a default `font-size` should be multiplied by roughly 1.2.\n     * Https://developer.mozilla.org/pl/docs/Web/CSS/line-height#Values.\n     */\n\n    var BODY_LINE_HEIGHT = parseInt(rootWindow.getComputedStyle(rootDocument.body).lineHeight, 10);\n    var FALLBACK_BODY_LINE_HEIGHT = parseInt(rootWindow.getComputedStyle(rootDocument.body).fontSize, 10) * 1.2; // legacy support\n\n    this.instance = this.wot;\n    this.eventManager = new EventManager(this.wot);\n    this.scrollbarSize = getScrollbarWidth(rootDocument);\n    this.wot.update('scrollbarWidth', this.scrollbarSize);\n    this.wot.update('scrollbarHeight', this.scrollbarSize);\n    var isOverflowHidden = rootWindow.getComputedStyle(wtTable.wtRootElement.parentNode).getPropertyValue('overflow') === 'hidden';\n    this.scrollableElement = isOverflowHidden ? wtTable.holder : getScrollableElement(wtTable.TABLE);\n    this.topOverlay = void 0;\n    this.bottomOverlay = void 0;\n    this.leftOverlay = void 0;\n    this.topLeftCornerOverlay = void 0;\n    this.bottomLeftCornerOverlay = void 0;\n    this.prepareOverlays();\n    this.hasScrollbarBottom = false;\n    this.hasScrollbarRight = false;\n    this.destroyed = false;\n    this.keyPressed = false;\n    this.spreaderLastSize = {\n      width: null,\n      height: null\n    };\n    this.verticalScrolling = false;\n    this.horizontalScrolling = false;\n    this.browserLineHeight = BODY_LINE_HEIGHT || FALLBACK_BODY_LINE_HEIGHT;\n    this.registerListeners();\n    this.lastScrollX = rootWindow.scrollX;\n    this.lastScrollY = rootWindow.scrollY;\n  }\n  /**\n   * Prepare overlays based on user settings.\n   *\n   * @returns {boolean} Returns `true` if changes applied to overlay needs scroll synchronization.\n   */\n\n  _createClass(Overlays, [{\n    key: \"prepareOverlays\",\n    value: function prepareOverlays() {\n      var syncScroll = false;\n      if (this.topOverlay) {\n        syncScroll = this.topOverlay.updateStateOfRendering() || syncScroll;\n      } else {\n        this.topOverlay = createOverlay(CLONE_TOP, this.wot);\n      }\n      if (!hasOverlay(CLONE_BOTTOM)) {\n        this.bottomOverlay = {\n          needFullRender: false,\n          updateStateOfRendering: function updateStateOfRendering() {\n            return false;\n          }\n        };\n      }\n      if (!hasOverlay(CLONE_BOTTOM_LEFT_CORNER)) {\n        this.bottomLeftCornerOverlay = {\n          needFullRender: false,\n          updateStateOfRendering: function updateStateOfRendering() {\n            return false;\n          }\n        };\n      }\n      if (this.bottomOverlay) {\n        syncScroll = this.bottomOverlay.updateStateOfRendering() || syncScroll;\n      } else {\n        this.bottomOverlay = createOverlay(CLONE_BOTTOM, this.wot);\n      }\n      if (this.leftOverlay) {\n        syncScroll = this.leftOverlay.updateStateOfRendering() || syncScroll;\n      } else {\n        this.leftOverlay = createOverlay(CLONE_LEFT, this.wot);\n      }\n      if (this.topOverlay.needFullRender && this.leftOverlay.needFullRender) {\n        if (this.topLeftCornerOverlay) {\n          syncScroll = this.topLeftCornerOverlay.updateStateOfRendering() || syncScroll;\n        } else {\n          this.topLeftCornerOverlay = createOverlay(CLONE_TOP_LEFT_CORNER, this.wot);\n        }\n      }\n      if (this.bottomOverlay.needFullRender && this.leftOverlay.needFullRender) {\n        if (this.bottomLeftCornerOverlay) {\n          syncScroll = this.bottomLeftCornerOverlay.updateStateOfRendering() || syncScroll;\n        } else {\n          this.bottomLeftCornerOverlay = createOverlay(CLONE_BOTTOM_LEFT_CORNER, this.wot);\n        }\n      }\n      return syncScroll;\n    }\n    /**\n     * Refresh and redraw table.\n     */\n  }, {\n    key: \"refreshAll\",\n    value: function refreshAll() {\n      if (!this.wot.drawn) {\n        return;\n      }\n      if (!this.wot.wtTable.holder.parentNode) {\n        // Walkontable was detached from DOM, but this handler was not removed\n        this.destroy();\n        return;\n      }\n      this.wot.draw(true);\n      if (this.verticalScrolling) {\n        this.leftOverlay.onScroll();\n      }\n      if (this.horizontalScrolling) {\n        this.topOverlay.onScroll();\n      }\n      this.verticalScrolling = false;\n      this.horizontalScrolling = false;\n    }\n    /**\n     * Register all necessary event listeners.\n     */\n  }, {\n    key: \"registerListeners\",\n    value: function registerListeners() {\n      var _this = this;\n      var _this$wot2 = this.wot,\n        rootDocument = _this$wot2.rootDocument,\n        rootWindow = _this$wot2.rootWindow;\n      var topOverlayScrollableElement = this.topOverlay.mainTableScrollableElement;\n      var leftOverlayScrollableElement = this.leftOverlay.mainTableScrollableElement;\n      this.eventManager.addEventListener(rootDocument.documentElement, 'keydown', function (event) {\n        return _this.onKeyDown(event);\n      });\n      this.eventManager.addEventListener(rootDocument.documentElement, 'keyup', function () {\n        return _this.onKeyUp();\n      });\n      this.eventManager.addEventListener(rootDocument, 'visibilitychange', function () {\n        return _this.onKeyUp();\n      });\n      this.eventManager.addEventListener(topOverlayScrollableElement, 'scroll', function (event) {\n        return _this.onTableScroll(event);\n      }, {\n        passive: true\n      });\n      if (topOverlayScrollableElement !== leftOverlayScrollableElement) {\n        this.eventManager.addEventListener(leftOverlayScrollableElement, 'scroll', function (event) {\n          return _this.onTableScroll(event);\n        }, {\n          passive: true\n        });\n      }\n      var isHighPixelRatio = rootWindow.devicePixelRatio && rootWindow.devicePixelRatio > 1;\n      var isScrollOnWindow = this.scrollableElement === rootWindow;\n      var preventWheel = this.wot.wtSettings.getSetting('preventWheel');\n      var wheelEventOptions = {\n        passive: isScrollOnWindow\n      };\n      if (preventWheel || isHighPixelRatio || !isChrome()) {\n        this.eventManager.addEventListener(this.wot.wtTable.wtRootElement, 'wheel', function (event) {\n          return _this.onCloneWheel(event, preventWheel);\n        }, wheelEventOptions);\n      }\n      var overlays = [this.topOverlay, this.bottomOverlay, this.leftOverlay, this.topLeftCornerOverlay, this.bottomLeftCornerOverlay];\n      overlays.forEach(function (overlay) {\n        if (overlay && overlay.needFullRender) {\n          var holder = overlay.clone.wtTable.holder;\n          _this.eventManager.addEventListener(holder, 'wheel', function (event) {\n            return _this.onCloneWheel(event, preventWheel);\n          }, wheelEventOptions);\n        }\n      });\n      var resizeTimeout;\n      this.eventManager.addEventListener(rootWindow, 'resize', function () {\n        clearTimeout(resizeTimeout);\n        resizeTimeout = setTimeout(function () {\n          _this.wot.getSetting('onWindowResize');\n        }, 200);\n      });\n    }\n    /**\n     * Deregister all previously registered listeners.\n     */\n  }, {\n    key: \"deregisterListeners\",\n    value: function deregisterListeners() {\n      this.eventManager.clearEvents(true);\n    }\n    /**\n     * Scroll listener.\n     *\n     * @param {Event} event The mouse event object.\n     */\n  }, {\n    key: \"onTableScroll\",\n    value: function onTableScroll(event) {\n      // There was if statement which controlled flow of this function. It avoided the execution of the next lines\n      // on mobile devices. It was changed. Broader description of this case is included within issue #4856.\n      var rootWindow = this.wot.rootWindow;\n      var masterHorizontal = this.leftOverlay.mainTableScrollableElement;\n      var masterVertical = this.topOverlay.mainTableScrollableElement;\n      var target = event.target; // For key press, sync only master -> overlay position because while pressing Walkontable.render is triggered\n      // by hot.refreshBorder\n\n      if (this.keyPressed) {\n        if (masterVertical !== rootWindow && target !== rootWindow && !event.target.contains(masterVertical) || masterHorizontal !== rootWindow && target !== rootWindow && !event.target.contains(masterHorizontal)) {\n          return;\n        }\n      }\n      this.syncScrollPositions(event);\n    }\n    /**\n     * Wheel listener for cloned overlays.\n     *\n     * @param {Event} event The mouse event object.\n     * @param {boolean} preventDefault If `true`, the `preventDefault` will be called on event object.\n     */\n  }, {\n    key: \"onCloneWheel\",\n    value: function onCloneWheel(event, preventDefault) {\n      var rootWindow = this.wot.rootWindow; // There was if statement which controlled flow of this function. It avoided the execution of the next lines\n      // on mobile devices. It was changed. Broader description of this case is included within issue #4856.\n\n      var masterHorizontal = this.leftOverlay.mainTableScrollableElement;\n      var masterVertical = this.topOverlay.mainTableScrollableElement;\n      var target = event.target; // For key press, sync only master -> overlay position because while pressing Walkontable.render is triggered\n      // by hot.refreshBorder\n\n      var shouldNotWheelVertically = masterVertical !== rootWindow && target !== rootWindow && !target.contains(masterVertical);\n      var shouldNotWheelHorizontally = masterHorizontal !== rootWindow && target !== rootWindow && !target.contains(masterHorizontal);\n      if (this.keyPressed && (shouldNotWheelVertically || shouldNotWheelHorizontally)) {\n        return;\n      }\n      var isScrollPossible = this.translateMouseWheelToScroll(event);\n      if (preventDefault || this.scrollableElement !== rootWindow && isScrollPossible) {\n        event.preventDefault();\n      }\n    }\n    /**\n     * Key down listener.\n     *\n     * @param {Event} event The keyboard event object.\n     */\n  }, {\n    key: \"onKeyDown\",\n    value: function onKeyDown(event) {\n      this.keyPressed = isKey(event.keyCode, 'ARROW_UP|ARROW_RIGHT|ARROW_DOWN|ARROW_LEFT');\n    }\n    /**\n     * Key up listener.\n     */\n  }, {\n    key: \"onKeyUp\",\n    value: function onKeyUp() {\n      this.keyPressed = false;\n    }\n    /**\n     * Translate wheel event into scroll event and sync scroll overlays position.\n     *\n     * @private\n     * @param {Event} event The mouse event object.\n     * @returns {boolean}\n     */\n  }, {\n    key: \"translateMouseWheelToScroll\",\n    value: function translateMouseWheelToScroll(event) {\n      var browserLineHeight = this.browserLineHeight;\n      var deltaY = isNaN(event.deltaY) ? -1 * event.wheelDeltaY : event.deltaY;\n      var deltaX = isNaN(event.deltaX) ? -1 * event.wheelDeltaX : event.deltaX;\n      if (event.deltaMode === 1) {\n        deltaX += deltaX * browserLineHeight;\n        deltaY += deltaY * browserLineHeight;\n      }\n      var isScrollVerticallyPossible = this.scrollVertically(deltaY);\n      var isScrollHorizontallyPossible = this.scrollHorizontally(deltaX);\n      return isScrollVerticallyPossible || isScrollHorizontallyPossible;\n    }\n    /**\n     * Scrolls main scrollable element horizontally.\n     *\n     * @param {number} delta Relative value to scroll.\n     * @returns {boolean}\n     */\n  }, {\n    key: \"scrollVertically\",\n    value: function scrollVertically(delta) {\n      var previousScroll = this.scrollableElement.scrollTop;\n      this.scrollableElement.scrollTop += delta;\n      return previousScroll !== this.scrollableElement.scrollTop;\n    }\n    /**\n     * Scrolls main scrollable element horizontally.\n     *\n     * @param {number} delta Relative value to scroll.\n     * @returns {boolean}\n     */\n  }, {\n    key: \"scrollHorizontally\",\n    value: function scrollHorizontally(delta) {\n      var previousScroll = this.scrollableElement.scrollLeft;\n      this.scrollableElement.scrollLeft += delta;\n      return previousScroll !== this.scrollableElement.scrollLeft;\n    }\n    /**\n     * Synchronize scroll position between master table and overlay table.\n     *\n     * @private\n     */\n  }, {\n    key: \"syncScrollPositions\",\n    value: function syncScrollPositions() {\n      if (this.destroyed) {\n        return;\n      }\n      var rootWindow = this.wot.rootWindow;\n      var topHolder = this.topOverlay.clone.wtTable.holder;\n      var leftHolder = this.leftOverlay.clone.wtTable.holder;\n      var _ref = [this.scrollableElement.scrollLeft, this.scrollableElement.scrollTop],\n        scrollLeft = _ref[0],\n        scrollTop = _ref[1];\n      this.horizontalScrolling = topHolder.scrollLeft !== scrollLeft || this.lastScrollX !== rootWindow.scrollX;\n      this.verticalScrolling = leftHolder.scrollTop !== scrollTop || this.lastScrollY !== rootWindow.scrollY;\n      this.lastScrollX = rootWindow.scrollX;\n      this.lastScrollY = rootWindow.scrollY;\n      if (this.horizontalScrolling) {\n        topHolder.scrollLeft = scrollLeft;\n        var bottomHolder = this.bottomOverlay.needFullRender ? this.bottomOverlay.clone.wtTable.holder : null;\n        if (bottomHolder) {\n          bottomHolder.scrollLeft = scrollLeft;\n        }\n      }\n      if (this.verticalScrolling) {\n        leftHolder.scrollTop = scrollTop;\n      }\n      this.refreshAll();\n    }\n    /**\n     * Synchronize overlay scrollbars with the master scrollbar.\n     */\n  }, {\n    key: \"syncScrollWithMaster\",\n    value: function syncScrollWithMaster() {\n      var master = this.topOverlay.mainTableScrollableElement;\n      var scrollLeft = master.scrollLeft,\n        scrollTop = master.scrollTop;\n      if (this.topOverlay.needFullRender) {\n        this.topOverlay.clone.wtTable.holder.scrollLeft = scrollLeft;\n      }\n      if (this.bottomOverlay.needFullRender) {\n        this.bottomOverlay.clone.wtTable.holder.scrollLeft = scrollLeft;\n      }\n      if (this.leftOverlay.needFullRender) {\n        this.leftOverlay.clone.wtTable.holder.scrollTop = scrollTop;\n      }\n    }\n    /**\n     * Update the main scrollable elements for all the overlays.\n     */\n  }, {\n    key: \"updateMainScrollableElements\",\n    value: function updateMainScrollableElements() {\n      this.deregisterListeners();\n      this.leftOverlay.updateMainScrollableElement();\n      this.topOverlay.updateMainScrollableElement();\n      if (this.bottomOverlay.needFullRender) {\n        this.bottomOverlay.updateMainScrollableElement();\n      }\n      var _this$wot3 = this.wot,\n        rootWindow = _this$wot3.rootWindow,\n        wtTable = _this$wot3.wtTable;\n      if (rootWindow.getComputedStyle(wtTable.wtRootElement.parentNode).getPropertyValue('overflow') === 'hidden') {\n        this.scrollableElement = wtTable.holder;\n      } else {\n        this.scrollableElement = getScrollableElement(wtTable.TABLE);\n      }\n      this.registerListeners();\n    }\n    /**\n     *\n     */\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.eventManager.destroy();\n      this.topOverlay.destroy();\n      if (this.bottomOverlay.clone) {\n        this.bottomOverlay.destroy();\n      }\n      this.leftOverlay.destroy();\n      if (this.topLeftCornerOverlay) {\n        this.topLeftCornerOverlay.destroy();\n      }\n      if (this.bottomLeftCornerOverlay && this.bottomLeftCornerOverlay.clone) {\n        this.bottomLeftCornerOverlay.destroy();\n      }\n      this.destroyed = true;\n    }\n    /**\n     * @param {boolean} [fastDraw=false] When `true`, try to refresh only the positions of borders without rerendering\n     *                                   the data. It will only work if Table.draw() does not force\n     *                                   rendering anyway.\n     */\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      var fastDraw = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var spreader = this.wot.wtTable.spreader;\n      var width = spreader.clientWidth;\n      var height = spreader.clientHeight;\n      if (width !== this.spreaderLastSize.width || height !== this.spreaderLastSize.height) {\n        this.spreaderLastSize.width = width;\n        this.spreaderLastSize.height = height;\n        this.adjustElementsSize();\n      }\n      if (this.bottomOverlay.clone) {\n        this.bottomOverlay.refresh(fastDraw);\n      }\n      this.leftOverlay.refresh(fastDraw);\n      this.topOverlay.refresh(fastDraw);\n      if (this.topLeftCornerOverlay) {\n        this.topLeftCornerOverlay.refresh(fastDraw);\n      }\n      if (this.bottomLeftCornerOverlay && this.bottomLeftCornerOverlay.clone) {\n        this.bottomLeftCornerOverlay.refresh(fastDraw);\n      }\n    }\n    /**\n     * Adjust overlays elements size and master table size.\n     *\n     * @param {boolean} [force=false] When `true`, it adjust the DOM nodes sizes for all overlays.\n     */\n  }, {\n    key: \"adjustElementsSize\",\n    value: function adjustElementsSize() {\n      var force = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var _this$wot4 = this.wot,\n        wtViewport = _this$wot4.wtViewport,\n        wtTable = _this$wot4.wtTable;\n      var totalColumns = this.wot.getSetting('totalColumns');\n      var totalRows = this.wot.getSetting('totalRows');\n      var headerRowSize = wtViewport.getRowHeaderWidth();\n      var headerColumnSize = wtViewport.getColumnHeaderHeight();\n      var hiderStyle = wtTable.hider.style;\n      hiderStyle.width = \"\".concat(headerRowSize + this.leftOverlay.sumCellSizes(0, totalColumns), \"px\");\n      hiderStyle.height = \"\".concat(headerColumnSize + this.topOverlay.sumCellSizes(0, totalRows) + 1, \"px\");\n      if (this.scrollbarSize > 0) {\n        var _wtTable$wtRootElemen = wtTable.wtRootElement,\n          rootElemScrollHeight = _wtTable$wtRootElemen.scrollHeight,\n          rootElemScrollWidth = _wtTable$wtRootElemen.scrollWidth;\n        var _wtTable$holder = wtTable.holder,\n          holderScrollHeight = _wtTable$holder.scrollHeight,\n          holderScrollWidth = _wtTable$holder.scrollWidth;\n        this.hasScrollbarRight = rootElemScrollHeight < holderScrollHeight;\n        this.hasScrollbarBottom = rootElemScrollWidth < holderScrollWidth;\n        if (this.hasScrollbarRight && wtTable.hider.scrollWidth + this.scrollbarSize > rootElemScrollWidth) {\n          this.hasScrollbarBottom = true;\n        } else if (this.hasScrollbarBottom && wtTable.hider.scrollHeight + this.scrollbarSize > rootElemScrollHeight) {\n          this.hasScrollbarRight = true;\n        }\n      }\n      this.topOverlay.adjustElementsSize(force);\n      this.leftOverlay.adjustElementsSize(force);\n      this.bottomOverlay.adjustElementsSize(force);\n    }\n    /**\n     *\n     */\n  }, {\n    key: \"applyToDOM\",\n    value: function applyToDOM() {\n      var wtTable = this.wot.wtTable;\n      if (!wtTable.isVisible()) {\n        return;\n      }\n      this.topOverlay.applyToDOM();\n      if (this.bottomOverlay.clone) {\n        this.bottomOverlay.applyToDOM();\n      }\n      this.leftOverlay.applyToDOM();\n    }\n    /**\n     * Get the parent overlay of the provided element.\n     *\n     * @param {HTMLElement} element An element to process.\n     * @returns {object|null}\n     */\n  }, {\n    key: \"getParentOverlay\",\n    value: function getParentOverlay(element) {\n      if (!element) {\n        return null;\n      }\n      var overlays = [this.topOverlay, this.leftOverlay, this.bottomOverlay, this.topLeftCornerOverlay, this.bottomLeftCornerOverlay];\n      var result = null;\n      arrayEach(overlays, function (elem) {\n        if (!elem) {\n          return;\n        }\n        if (elem.clone && elem.clone.wtTable.TABLE.contains(element)) {\n          result = elem.clone;\n        }\n      });\n      return result;\n    }\n    /**\n     * Synchronize the class names between the main overlay table and the tables on the other overlays.\n     *\n     */\n  }, {\n    key: \"syncOverlayTableClassNames\",\n    value: function syncOverlayTableClassNames() {\n      var masterTable = this.instance.wtTable.TABLE;\n      var overlays = [this.topOverlay, this.leftOverlay, this.bottomOverlay, this.topLeftCornerOverlay, this.bottomLeftCornerOverlay];\n      arrayEach(overlays, function (elem) {\n        if (!elem) {\n          return;\n        }\n        elem.clone.wtTable.TABLE.className = masterTable.className;\n      });\n    }\n  }]);\n  return Overlays;\n}();\nexport default Overlays;","map":{"version":3,"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","getScrollableElement","getScrollbarWidth","arrayEach","isKey","isChrome","EventManager","CLONE_BOTTOM_LEFT_CORNER","CLONE_BOTTOM","CLONE_LEFT","CLONE_TOP_LEFT_CORNER","CLONE_TOP","LeftOverlay","TopOverlay","TopLeftCornerOverlay","BottomOverlay","BottomLeftCornerOverlay","registerOverlayOnce","createOverlay","hasOverlay","Overlays","wotInstance","wot","_this$wot","rootDocument","rootWindow","wtTable","BODY_LINE_HEIGHT","parseInt","getComputedStyle","body","lineHeight","FALLBACK_BODY_LINE_HEIGHT","fontSize","eventManager","scrollbarSize","update","isOverflowHidden","wtRootElement","parentNode","getPropertyValue","scrollableElement","holder","TABLE","topOverlay","bottomOverlay","leftOverlay","topLeftCornerOverlay","bottomLeftCornerOverlay","prepareOverlays","hasScrollbarBottom","hasScrollbarRight","destroyed","keyPressed","spreaderLastSize","width","height","verticalScrolling","horizontalScrolling","browserLineHeight","registerListeners","lastScrollX","scrollX","lastScrollY","scrollY","value","syncScroll","updateStateOfRendering","needFullRender","refreshAll","drawn","destroy","draw","onScroll","_this","_this$wot2","topOverlayScrollableElement","mainTableScrollableElement","leftOverlayScrollableElement","addEventListener","documentElement","event","onKeyDown","onKeyUp","onTableScroll","passive","isHighPixelRatio","devicePixelRatio","isScrollOnWindow","preventWheel","wtSettings","getSetting","wheelEventOptions","onCloneWheel","overlays","forEach","overlay","clone","resizeTimeout","clearTimeout","setTimeout","deregisterListeners","clearEvents","masterHorizontal","masterVertical","contains","syncScrollPositions","preventDefault","shouldNotWheelVertically","shouldNotWheelHorizontally","isScrollPossible","translateMouseWheelToScroll","keyCode","deltaY","isNaN","wheelDeltaY","deltaX","wheelDeltaX","deltaMode","isScrollVerticallyPossible","scrollVertically","isScrollHorizontallyPossible","scrollHorizontally","delta","previousScroll","scrollTop","scrollLeft","topHolder","leftHolder","_ref","bottomHolder","syncScrollWithMaster","master","updateMainScrollableElements","updateMainScrollableElement","_this$wot3","refresh","fastDraw","arguments","undefined","spreader","clientWidth","clientHeight","adjustElementsSize","force","_this$wot4","wtViewport","totalColumns","totalRows","headerRowSize","getRowHeaderWidth","headerColumnSize","getColumnHeaderHeight","hiderStyle","hider","style","concat","sumCellSizes","_wtTable$wtRootElemen","rootElemScrollHeight","scrollHeight","rootElemScrollWidth","scrollWidth","_wtTable$holder","holderScrollHeight","holderScrollWidth","applyToDOM","isVisible","getParentOverlay","element","result","elem","syncOverlayTableClassNames","masterTable","className"],"sources":["/Users/priyadeliwala/Desktop/sales-dashboard/node_modules/handsontable/3rdparty/walkontable/src/overlays.mjs"],"sourcesContent":["import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/web.timers.js\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nimport { getScrollableElement, getScrollbarWidth } from \"./../../../helpers/dom/element.mjs\";\nimport { arrayEach } from \"./../../../helpers/array.mjs\";\nimport { isKey } from \"./../../../helpers/unicode.mjs\";\nimport { isChrome } from \"./../../../helpers/browser.mjs\";\nimport EventManager from \"./../../../eventManager.mjs\";\nimport { CLONE_BOTTOM_LEFT_CORNER, CLONE_BOTTOM, CLONE_LEFT, CLONE_TOP_LEFT_CORNER, CLONE_TOP, LeftOverlay, TopOverlay, TopLeftCornerOverlay, BottomOverlay, BottomLeftCornerOverlay, registerOverlayOnce, createOverlay, hasOverlay } from \"./overlay/index.mjs\";\nregisterOverlayOnce(BottomLeftCornerOverlay);\nregisterOverlayOnce(BottomOverlay);\nregisterOverlayOnce(LeftOverlay);\nregisterOverlayOnce(TopLeftCornerOverlay);\nregisterOverlayOnce(TopOverlay);\n/**\n * @class Overlays\n */\n\nvar Overlays = /*#__PURE__*/function () {\n  /**\n   * @param {Walkontable} wotInstance The Walkontable instance.\n   */\n  function Overlays(wotInstance) {\n    _classCallCheck(this, Overlays);\n\n    /**\n     * Walkontable instance's reference.\n     *\n     * @private\n     * @type {Walkontable}\n     */\n    this.wot = wotInstance;\n    var _this$wot = this.wot,\n        rootDocument = _this$wot.rootDocument,\n        rootWindow = _this$wot.rootWindow,\n        wtTable = _this$wot.wtTable;\n    /**\n     * Sometimes `line-height` might be set to 'normal'. In that case, a default `font-size` should be multiplied by roughly 1.2.\n     * Https://developer.mozilla.org/pl/docs/Web/CSS/line-height#Values.\n     */\n\n    var BODY_LINE_HEIGHT = parseInt(rootWindow.getComputedStyle(rootDocument.body).lineHeight, 10);\n    var FALLBACK_BODY_LINE_HEIGHT = parseInt(rootWindow.getComputedStyle(rootDocument.body).fontSize, 10) * 1.2; // legacy support\n\n    this.instance = this.wot;\n    this.eventManager = new EventManager(this.wot);\n    this.scrollbarSize = getScrollbarWidth(rootDocument);\n    this.wot.update('scrollbarWidth', this.scrollbarSize);\n    this.wot.update('scrollbarHeight', this.scrollbarSize);\n    var isOverflowHidden = rootWindow.getComputedStyle(wtTable.wtRootElement.parentNode).getPropertyValue('overflow') === 'hidden';\n    this.scrollableElement = isOverflowHidden ? wtTable.holder : getScrollableElement(wtTable.TABLE);\n    this.topOverlay = void 0;\n    this.bottomOverlay = void 0;\n    this.leftOverlay = void 0;\n    this.topLeftCornerOverlay = void 0;\n    this.bottomLeftCornerOverlay = void 0;\n    this.prepareOverlays();\n    this.hasScrollbarBottom = false;\n    this.hasScrollbarRight = false;\n    this.destroyed = false;\n    this.keyPressed = false;\n    this.spreaderLastSize = {\n      width: null,\n      height: null\n    };\n    this.verticalScrolling = false;\n    this.horizontalScrolling = false;\n    this.browserLineHeight = BODY_LINE_HEIGHT || FALLBACK_BODY_LINE_HEIGHT;\n    this.registerListeners();\n    this.lastScrollX = rootWindow.scrollX;\n    this.lastScrollY = rootWindow.scrollY;\n  }\n  /**\n   * Prepare overlays based on user settings.\n   *\n   * @returns {boolean} Returns `true` if changes applied to overlay needs scroll synchronization.\n   */\n\n\n  _createClass(Overlays, [{\n    key: \"prepareOverlays\",\n    value: function prepareOverlays() {\n      var syncScroll = false;\n\n      if (this.topOverlay) {\n        syncScroll = this.topOverlay.updateStateOfRendering() || syncScroll;\n      } else {\n        this.topOverlay = createOverlay(CLONE_TOP, this.wot);\n      }\n\n      if (!hasOverlay(CLONE_BOTTOM)) {\n        this.bottomOverlay = {\n          needFullRender: false,\n          updateStateOfRendering: function updateStateOfRendering() {\n            return false;\n          }\n        };\n      }\n\n      if (!hasOverlay(CLONE_BOTTOM_LEFT_CORNER)) {\n        this.bottomLeftCornerOverlay = {\n          needFullRender: false,\n          updateStateOfRendering: function updateStateOfRendering() {\n            return false;\n          }\n        };\n      }\n\n      if (this.bottomOverlay) {\n        syncScroll = this.bottomOverlay.updateStateOfRendering() || syncScroll;\n      } else {\n        this.bottomOverlay = createOverlay(CLONE_BOTTOM, this.wot);\n      }\n\n      if (this.leftOverlay) {\n        syncScroll = this.leftOverlay.updateStateOfRendering() || syncScroll;\n      } else {\n        this.leftOverlay = createOverlay(CLONE_LEFT, this.wot);\n      }\n\n      if (this.topOverlay.needFullRender && this.leftOverlay.needFullRender) {\n        if (this.topLeftCornerOverlay) {\n          syncScroll = this.topLeftCornerOverlay.updateStateOfRendering() || syncScroll;\n        } else {\n          this.topLeftCornerOverlay = createOverlay(CLONE_TOP_LEFT_CORNER, this.wot);\n        }\n      }\n\n      if (this.bottomOverlay.needFullRender && this.leftOverlay.needFullRender) {\n        if (this.bottomLeftCornerOverlay) {\n          syncScroll = this.bottomLeftCornerOverlay.updateStateOfRendering() || syncScroll;\n        } else {\n          this.bottomLeftCornerOverlay = createOverlay(CLONE_BOTTOM_LEFT_CORNER, this.wot);\n        }\n      }\n\n      return syncScroll;\n    }\n    /**\n     * Refresh and redraw table.\n     */\n\n  }, {\n    key: \"refreshAll\",\n    value: function refreshAll() {\n      if (!this.wot.drawn) {\n        return;\n      }\n\n      if (!this.wot.wtTable.holder.parentNode) {\n        // Walkontable was detached from DOM, but this handler was not removed\n        this.destroy();\n        return;\n      }\n\n      this.wot.draw(true);\n\n      if (this.verticalScrolling) {\n        this.leftOverlay.onScroll();\n      }\n\n      if (this.horizontalScrolling) {\n        this.topOverlay.onScroll();\n      }\n\n      this.verticalScrolling = false;\n      this.horizontalScrolling = false;\n    }\n    /**\n     * Register all necessary event listeners.\n     */\n\n  }, {\n    key: \"registerListeners\",\n    value: function registerListeners() {\n      var _this = this;\n\n      var _this$wot2 = this.wot,\n          rootDocument = _this$wot2.rootDocument,\n          rootWindow = _this$wot2.rootWindow;\n      var topOverlayScrollableElement = this.topOverlay.mainTableScrollableElement;\n      var leftOverlayScrollableElement = this.leftOverlay.mainTableScrollableElement;\n      this.eventManager.addEventListener(rootDocument.documentElement, 'keydown', function (event) {\n        return _this.onKeyDown(event);\n      });\n      this.eventManager.addEventListener(rootDocument.documentElement, 'keyup', function () {\n        return _this.onKeyUp();\n      });\n      this.eventManager.addEventListener(rootDocument, 'visibilitychange', function () {\n        return _this.onKeyUp();\n      });\n      this.eventManager.addEventListener(topOverlayScrollableElement, 'scroll', function (event) {\n        return _this.onTableScroll(event);\n      }, {\n        passive: true\n      });\n\n      if (topOverlayScrollableElement !== leftOverlayScrollableElement) {\n        this.eventManager.addEventListener(leftOverlayScrollableElement, 'scroll', function (event) {\n          return _this.onTableScroll(event);\n        }, {\n          passive: true\n        });\n      }\n\n      var isHighPixelRatio = rootWindow.devicePixelRatio && rootWindow.devicePixelRatio > 1;\n      var isScrollOnWindow = this.scrollableElement === rootWindow;\n      var preventWheel = this.wot.wtSettings.getSetting('preventWheel');\n      var wheelEventOptions = {\n        passive: isScrollOnWindow\n      };\n\n      if (preventWheel || isHighPixelRatio || !isChrome()) {\n        this.eventManager.addEventListener(this.wot.wtTable.wtRootElement, 'wheel', function (event) {\n          return _this.onCloneWheel(event, preventWheel);\n        }, wheelEventOptions);\n      }\n\n      var overlays = [this.topOverlay, this.bottomOverlay, this.leftOverlay, this.topLeftCornerOverlay, this.bottomLeftCornerOverlay];\n      overlays.forEach(function (overlay) {\n        if (overlay && overlay.needFullRender) {\n          var holder = overlay.clone.wtTable.holder;\n\n          _this.eventManager.addEventListener(holder, 'wheel', function (event) {\n            return _this.onCloneWheel(event, preventWheel);\n          }, wheelEventOptions);\n        }\n      });\n      var resizeTimeout;\n      this.eventManager.addEventListener(rootWindow, 'resize', function () {\n        clearTimeout(resizeTimeout);\n        resizeTimeout = setTimeout(function () {\n          _this.wot.getSetting('onWindowResize');\n        }, 200);\n      });\n    }\n    /**\n     * Deregister all previously registered listeners.\n     */\n\n  }, {\n    key: \"deregisterListeners\",\n    value: function deregisterListeners() {\n      this.eventManager.clearEvents(true);\n    }\n    /**\n     * Scroll listener.\n     *\n     * @param {Event} event The mouse event object.\n     */\n\n  }, {\n    key: \"onTableScroll\",\n    value: function onTableScroll(event) {\n      // There was if statement which controlled flow of this function. It avoided the execution of the next lines\n      // on mobile devices. It was changed. Broader description of this case is included within issue #4856.\n      var rootWindow = this.wot.rootWindow;\n      var masterHorizontal = this.leftOverlay.mainTableScrollableElement;\n      var masterVertical = this.topOverlay.mainTableScrollableElement;\n      var target = event.target; // For key press, sync only master -> overlay position because while pressing Walkontable.render is triggered\n      // by hot.refreshBorder\n\n      if (this.keyPressed) {\n        if (masterVertical !== rootWindow && target !== rootWindow && !event.target.contains(masterVertical) || masterHorizontal !== rootWindow && target !== rootWindow && !event.target.contains(masterHorizontal)) {\n          return;\n        }\n      }\n\n      this.syncScrollPositions(event);\n    }\n    /**\n     * Wheel listener for cloned overlays.\n     *\n     * @param {Event} event The mouse event object.\n     * @param {boolean} preventDefault If `true`, the `preventDefault` will be called on event object.\n     */\n\n  }, {\n    key: \"onCloneWheel\",\n    value: function onCloneWheel(event, preventDefault) {\n      var rootWindow = this.wot.rootWindow; // There was if statement which controlled flow of this function. It avoided the execution of the next lines\n      // on mobile devices. It was changed. Broader description of this case is included within issue #4856.\n\n      var masterHorizontal = this.leftOverlay.mainTableScrollableElement;\n      var masterVertical = this.topOverlay.mainTableScrollableElement;\n      var target = event.target; // For key press, sync only master -> overlay position because while pressing Walkontable.render is triggered\n      // by hot.refreshBorder\n\n      var shouldNotWheelVertically = masterVertical !== rootWindow && target !== rootWindow && !target.contains(masterVertical);\n      var shouldNotWheelHorizontally = masterHorizontal !== rootWindow && target !== rootWindow && !target.contains(masterHorizontal);\n\n      if (this.keyPressed && (shouldNotWheelVertically || shouldNotWheelHorizontally)) {\n        return;\n      }\n\n      var isScrollPossible = this.translateMouseWheelToScroll(event);\n\n      if (preventDefault || this.scrollableElement !== rootWindow && isScrollPossible) {\n        event.preventDefault();\n      }\n    }\n    /**\n     * Key down listener.\n     *\n     * @param {Event} event The keyboard event object.\n     */\n\n  }, {\n    key: \"onKeyDown\",\n    value: function onKeyDown(event) {\n      this.keyPressed = isKey(event.keyCode, 'ARROW_UP|ARROW_RIGHT|ARROW_DOWN|ARROW_LEFT');\n    }\n    /**\n     * Key up listener.\n     */\n\n  }, {\n    key: \"onKeyUp\",\n    value: function onKeyUp() {\n      this.keyPressed = false;\n    }\n    /**\n     * Translate wheel event into scroll event and sync scroll overlays position.\n     *\n     * @private\n     * @param {Event} event The mouse event object.\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"translateMouseWheelToScroll\",\n    value: function translateMouseWheelToScroll(event) {\n      var browserLineHeight = this.browserLineHeight;\n      var deltaY = isNaN(event.deltaY) ? -1 * event.wheelDeltaY : event.deltaY;\n      var deltaX = isNaN(event.deltaX) ? -1 * event.wheelDeltaX : event.deltaX;\n\n      if (event.deltaMode === 1) {\n        deltaX += deltaX * browserLineHeight;\n        deltaY += deltaY * browserLineHeight;\n      }\n\n      var isScrollVerticallyPossible = this.scrollVertically(deltaY);\n      var isScrollHorizontallyPossible = this.scrollHorizontally(deltaX);\n      return isScrollVerticallyPossible || isScrollHorizontallyPossible;\n    }\n    /**\n     * Scrolls main scrollable element horizontally.\n     *\n     * @param {number} delta Relative value to scroll.\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"scrollVertically\",\n    value: function scrollVertically(delta) {\n      var previousScroll = this.scrollableElement.scrollTop;\n      this.scrollableElement.scrollTop += delta;\n      return previousScroll !== this.scrollableElement.scrollTop;\n    }\n    /**\n     * Scrolls main scrollable element horizontally.\n     *\n     * @param {number} delta Relative value to scroll.\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"scrollHorizontally\",\n    value: function scrollHorizontally(delta) {\n      var previousScroll = this.scrollableElement.scrollLeft;\n      this.scrollableElement.scrollLeft += delta;\n      return previousScroll !== this.scrollableElement.scrollLeft;\n    }\n    /**\n     * Synchronize scroll position between master table and overlay table.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"syncScrollPositions\",\n    value: function syncScrollPositions() {\n      if (this.destroyed) {\n        return;\n      }\n\n      var rootWindow = this.wot.rootWindow;\n      var topHolder = this.topOverlay.clone.wtTable.holder;\n      var leftHolder = this.leftOverlay.clone.wtTable.holder;\n      var _ref = [this.scrollableElement.scrollLeft, this.scrollableElement.scrollTop],\n          scrollLeft = _ref[0],\n          scrollTop = _ref[1];\n      this.horizontalScrolling = topHolder.scrollLeft !== scrollLeft || this.lastScrollX !== rootWindow.scrollX;\n      this.verticalScrolling = leftHolder.scrollTop !== scrollTop || this.lastScrollY !== rootWindow.scrollY;\n      this.lastScrollX = rootWindow.scrollX;\n      this.lastScrollY = rootWindow.scrollY;\n\n      if (this.horizontalScrolling) {\n        topHolder.scrollLeft = scrollLeft;\n        var bottomHolder = this.bottomOverlay.needFullRender ? this.bottomOverlay.clone.wtTable.holder : null;\n\n        if (bottomHolder) {\n          bottomHolder.scrollLeft = scrollLeft;\n        }\n      }\n\n      if (this.verticalScrolling) {\n        leftHolder.scrollTop = scrollTop;\n      }\n\n      this.refreshAll();\n    }\n    /**\n     * Synchronize overlay scrollbars with the master scrollbar.\n     */\n\n  }, {\n    key: \"syncScrollWithMaster\",\n    value: function syncScrollWithMaster() {\n      var master = this.topOverlay.mainTableScrollableElement;\n      var scrollLeft = master.scrollLeft,\n          scrollTop = master.scrollTop;\n\n      if (this.topOverlay.needFullRender) {\n        this.topOverlay.clone.wtTable.holder.scrollLeft = scrollLeft;\n      }\n\n      if (this.bottomOverlay.needFullRender) {\n        this.bottomOverlay.clone.wtTable.holder.scrollLeft = scrollLeft;\n      }\n\n      if (this.leftOverlay.needFullRender) {\n        this.leftOverlay.clone.wtTable.holder.scrollTop = scrollTop;\n      }\n    }\n    /**\n     * Update the main scrollable elements for all the overlays.\n     */\n\n  }, {\n    key: \"updateMainScrollableElements\",\n    value: function updateMainScrollableElements() {\n      this.deregisterListeners();\n      this.leftOverlay.updateMainScrollableElement();\n      this.topOverlay.updateMainScrollableElement();\n\n      if (this.bottomOverlay.needFullRender) {\n        this.bottomOverlay.updateMainScrollableElement();\n      }\n\n      var _this$wot3 = this.wot,\n          rootWindow = _this$wot3.rootWindow,\n          wtTable = _this$wot3.wtTable;\n\n      if (rootWindow.getComputedStyle(wtTable.wtRootElement.parentNode).getPropertyValue('overflow') === 'hidden') {\n        this.scrollableElement = wtTable.holder;\n      } else {\n        this.scrollableElement = getScrollableElement(wtTable.TABLE);\n      }\n\n      this.registerListeners();\n    }\n    /**\n     *\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.eventManager.destroy();\n      this.topOverlay.destroy();\n\n      if (this.bottomOverlay.clone) {\n        this.bottomOverlay.destroy();\n      }\n\n      this.leftOverlay.destroy();\n\n      if (this.topLeftCornerOverlay) {\n        this.topLeftCornerOverlay.destroy();\n      }\n\n      if (this.bottomLeftCornerOverlay && this.bottomLeftCornerOverlay.clone) {\n        this.bottomLeftCornerOverlay.destroy();\n      }\n\n      this.destroyed = true;\n    }\n    /**\n     * @param {boolean} [fastDraw=false] When `true`, try to refresh only the positions of borders without rerendering\n     *                                   the data. It will only work if Table.draw() does not force\n     *                                   rendering anyway.\n     */\n\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      var fastDraw = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var spreader = this.wot.wtTable.spreader;\n      var width = spreader.clientWidth;\n      var height = spreader.clientHeight;\n\n      if (width !== this.spreaderLastSize.width || height !== this.spreaderLastSize.height) {\n        this.spreaderLastSize.width = width;\n        this.spreaderLastSize.height = height;\n        this.adjustElementsSize();\n      }\n\n      if (this.bottomOverlay.clone) {\n        this.bottomOverlay.refresh(fastDraw);\n      }\n\n      this.leftOverlay.refresh(fastDraw);\n      this.topOverlay.refresh(fastDraw);\n\n      if (this.topLeftCornerOverlay) {\n        this.topLeftCornerOverlay.refresh(fastDraw);\n      }\n\n      if (this.bottomLeftCornerOverlay && this.bottomLeftCornerOverlay.clone) {\n        this.bottomLeftCornerOverlay.refresh(fastDraw);\n      }\n    }\n    /**\n     * Adjust overlays elements size and master table size.\n     *\n     * @param {boolean} [force=false] When `true`, it adjust the DOM nodes sizes for all overlays.\n     */\n\n  }, {\n    key: \"adjustElementsSize\",\n    value: function adjustElementsSize() {\n      var force = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var _this$wot4 = this.wot,\n          wtViewport = _this$wot4.wtViewport,\n          wtTable = _this$wot4.wtTable;\n      var totalColumns = this.wot.getSetting('totalColumns');\n      var totalRows = this.wot.getSetting('totalRows');\n      var headerRowSize = wtViewport.getRowHeaderWidth();\n      var headerColumnSize = wtViewport.getColumnHeaderHeight();\n      var hiderStyle = wtTable.hider.style;\n      hiderStyle.width = \"\".concat(headerRowSize + this.leftOverlay.sumCellSizes(0, totalColumns), \"px\");\n      hiderStyle.height = \"\".concat(headerColumnSize + this.topOverlay.sumCellSizes(0, totalRows) + 1, \"px\");\n\n      if (this.scrollbarSize > 0) {\n        var _wtTable$wtRootElemen = wtTable.wtRootElement,\n            rootElemScrollHeight = _wtTable$wtRootElemen.scrollHeight,\n            rootElemScrollWidth = _wtTable$wtRootElemen.scrollWidth;\n        var _wtTable$holder = wtTable.holder,\n            holderScrollHeight = _wtTable$holder.scrollHeight,\n            holderScrollWidth = _wtTable$holder.scrollWidth;\n        this.hasScrollbarRight = rootElemScrollHeight < holderScrollHeight;\n        this.hasScrollbarBottom = rootElemScrollWidth < holderScrollWidth;\n\n        if (this.hasScrollbarRight && wtTable.hider.scrollWidth + this.scrollbarSize > rootElemScrollWidth) {\n          this.hasScrollbarBottom = true;\n        } else if (this.hasScrollbarBottom && wtTable.hider.scrollHeight + this.scrollbarSize > rootElemScrollHeight) {\n          this.hasScrollbarRight = true;\n        }\n      }\n\n      this.topOverlay.adjustElementsSize(force);\n      this.leftOverlay.adjustElementsSize(force);\n      this.bottomOverlay.adjustElementsSize(force);\n    }\n    /**\n     *\n     */\n\n  }, {\n    key: \"applyToDOM\",\n    value: function applyToDOM() {\n      var wtTable = this.wot.wtTable;\n\n      if (!wtTable.isVisible()) {\n        return;\n      }\n\n      this.topOverlay.applyToDOM();\n\n      if (this.bottomOverlay.clone) {\n        this.bottomOverlay.applyToDOM();\n      }\n\n      this.leftOverlay.applyToDOM();\n    }\n    /**\n     * Get the parent overlay of the provided element.\n     *\n     * @param {HTMLElement} element An element to process.\n     * @returns {object|null}\n     */\n\n  }, {\n    key: \"getParentOverlay\",\n    value: function getParentOverlay(element) {\n      if (!element) {\n        return null;\n      }\n\n      var overlays = [this.topOverlay, this.leftOverlay, this.bottomOverlay, this.topLeftCornerOverlay, this.bottomLeftCornerOverlay];\n      var result = null;\n      arrayEach(overlays, function (elem) {\n        if (!elem) {\n          return;\n        }\n\n        if (elem.clone && elem.clone.wtTable.TABLE.contains(element)) {\n          result = elem.clone;\n        }\n      });\n      return result;\n    }\n    /**\n     * Synchronize the class names between the main overlay table and the tables on the other overlays.\n     *\n     */\n\n  }, {\n    key: \"syncOverlayTableClassNames\",\n    value: function syncOverlayTableClassNames() {\n      var masterTable = this.instance.wtTable.TABLE;\n      var overlays = [this.topOverlay, this.leftOverlay, this.bottomOverlay, this.topLeftCornerOverlay, this.bottomLeftCornerOverlay];\n      arrayEach(overlays, function (elem) {\n        if (!elem) {\n          return;\n        }\n\n        elem.clone.wtTable.TABLE.className = masterTable.className;\n      });\n    }\n  }]);\n\n  return Overlays;\n}();\n\nexport default Overlays;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}