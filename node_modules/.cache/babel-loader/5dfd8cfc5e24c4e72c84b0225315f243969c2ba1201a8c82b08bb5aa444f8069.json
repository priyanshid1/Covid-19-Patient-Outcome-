{"ast":null,"code":"import { isRightClick as isRightClickEvent, isLeftClick as isLeftClickEvent } from \"./../helpers/dom/event.mjs\";\nimport { CellCoords } from \"./../3rdparty/walkontable/src/index.mjs\";\n/**\n * MouseDown handler.\n *\n * @param {object} options The handler options.\n * @param {boolean} options.isShiftKey The flag which indicates if the shift key is pressed.\n * @param {boolean} options.isLeftClick The flag which indicates if the left mouse button is pressed.\n * @param {boolean} options.isRightClick The flag which indicates if the right mouse button is pressed.\n * @param {CellRange} options.coords The CellCoords object with defined visual coordinates.\n * @param {Selection} options.selection The Selection class instance.\n * @param {object} options.controller An object with keys `row`, `column`, `cell` which indicate what\n *                                    operation will be performed in later selection stages.\n */\n\nexport function mouseDown(_ref) {\n  var isShiftKey = _ref.isShiftKey,\n    isLeftClick = _ref.isLeftClick,\n    isRightClick = _ref.isRightClick,\n    coords = _ref.coords,\n    selection = _ref.selection,\n    controller = _ref.controller;\n  var currentSelection = selection.isSelected() ? selection.getSelectedRange().current() : null;\n  var selectedCorner = selection.isSelectedByCorner();\n  var selectedRow = selection.isSelectedByRowHeader();\n  if (isShiftKey && currentSelection) {\n    if (coords.row >= 0 && coords.col >= 0 && !controller.cell) {\n      selection.setRangeEnd(coords);\n    } else if ((selectedCorner || selectedRow) && coords.row >= 0 && coords.col >= 0 && !controller.cell) {\n      selection.setRangeEnd(new CellCoords(coords.row, coords.col));\n    } else if (selectedCorner && coords.row < 0 && !controller.column) {\n      selection.setRangeEnd(new CellCoords(currentSelection.to.row, coords.col));\n    } else if (selectedRow && coords.col < 0 && !controller.row) {\n      selection.setRangeEnd(new CellCoords(coords.row, currentSelection.to.col));\n    } else if ((!selectedCorner && !selectedRow && coords.col < 0 || selectedCorner && coords.col < 0) && !controller.row) {\n      selection.selectRows(Math.max(currentSelection.from.row, 0), coords.row, coords.col);\n    } else if ((!selectedCorner && !selectedRow && coords.row < 0 || selectedRow && coords.row < 0) && !controller.column) {\n      selection.selectColumns(Math.max(currentSelection.from.col, 0), coords.col, coords.row);\n    }\n  } else {\n    var allowRightClickSelection = !selection.inInSelection(coords);\n    var performSelection = isLeftClick || isRightClick && allowRightClickSelection; // clicked row header and when some column was selected\n\n    if (coords.row < 0 && coords.col >= 0 && !controller.column) {\n      if (performSelection) {\n        selection.selectColumns(coords.col, coords.col, coords.row);\n      } // clicked column header and when some row was selected\n    } else if (coords.col < 0 && coords.row >= 0 && !controller.row) {\n      if (performSelection) {\n        selection.selectRows(coords.row, coords.row, coords.col);\n      }\n    } else if (coords.col >= 0 && coords.row >= 0 && !controller.cell) {\n      if (performSelection) {\n        selection.setRangeStart(coords);\n      }\n    } else if (coords.col < 0 && coords.row < 0) {\n      selection.selectAll(true, true);\n    }\n  }\n}\n/**\n * MouseOver handler.\n *\n * @param {object} options The handler options.\n * @param {boolean} options.isLeftClick Indicates that event was fired using the left mouse button.\n * @param {CellRange} options.coords The CellCoords object with defined visual coordinates.\n * @param {Selection} options.selection The Selection class instance.\n * @param {object} options.controller An object with keys `row`, `column`, `cell` which indicate what\n *                                    operation will be performed in later selection stages.\n */\n\nexport function mouseOver(_ref2) {\n  var isLeftClick = _ref2.isLeftClick,\n    coords = _ref2.coords,\n    selection = _ref2.selection,\n    controller = _ref2.controller;\n  if (!isLeftClick) {\n    return;\n  }\n  var selectedRow = selection.isSelectedByRowHeader();\n  var selectedColumn = selection.isSelectedByColumnHeader();\n  var countCols = selection.tableProps.countCols();\n  var countRows = selection.tableProps.countRows();\n  if (selectedColumn && !controller.column) {\n    selection.setRangeEnd(new CellCoords(countRows - 1, coords.col));\n  } else if (selectedRow && !controller.row) {\n    selection.setRangeEnd(new CellCoords(coords.row, countCols - 1));\n  } else if (!controller.cell) {\n    selection.setRangeEnd(coords);\n  }\n}\nvar handlers = new Map([['mousedown', mouseDown], ['mouseover', mouseOver], ['touchstart', mouseDown]]);\n/**\n * Mouse handler for selection functionality.\n *\n * @param {Event} event An native event to handle.\n * @param {object} options The handler options.\n * @param {CellRange} options.coords The CellCoords object with defined visual coordinates.\n * @param {Selection} options.selection The Selection class instance.\n * @param {object} options.controller An object with keys `row`, `column`, `cell` which indicate what\n *                                    operation will be performed in later selection stages.\n */\n\nexport function handleMouseEvent(event, _ref3) {\n  var coords = _ref3.coords,\n    selection = _ref3.selection,\n    controller = _ref3.controller;\n  handlers.get(event.type)({\n    coords: coords,\n    selection: selection,\n    controller: controller,\n    isShiftKey: event.shiftKey,\n    isLeftClick: isLeftClickEvent(event) || event.type === 'touchstart',\n    isRightClick: isRightClickEvent(event)\n  });\n}","map":{"version":3,"names":["isRightClick","isRightClickEvent","isLeftClick","isLeftClickEvent","CellCoords","mouseDown","_ref","isShiftKey","coords","selection","controller","currentSelection","isSelected","getSelectedRange","current","selectedCorner","isSelectedByCorner","selectedRow","isSelectedByRowHeader","row","col","cell","setRangeEnd","column","to","selectRows","Math","max","from","selectColumns","allowRightClickSelection","inInSelection","performSelection","setRangeStart","selectAll","mouseOver","_ref2","selectedColumn","isSelectedByColumnHeader","countCols","tableProps","countRows","handlers","Map","handleMouseEvent","event","_ref3","get","type","shiftKey"],"sources":["/Users/priyadeliwala/Desktop/sales-dashboard/node_modules/handsontable/selection/mouseEventHandler.mjs"],"sourcesContent":["import \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.map.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport { isRightClick as isRightClickEvent, isLeftClick as isLeftClickEvent } from \"./../helpers/dom/event.mjs\";\nimport { CellCoords } from \"./../3rdparty/walkontable/src/index.mjs\";\n/**\n * MouseDown handler.\n *\n * @param {object} options The handler options.\n * @param {boolean} options.isShiftKey The flag which indicates if the shift key is pressed.\n * @param {boolean} options.isLeftClick The flag which indicates if the left mouse button is pressed.\n * @param {boolean} options.isRightClick The flag which indicates if the right mouse button is pressed.\n * @param {CellRange} options.coords The CellCoords object with defined visual coordinates.\n * @param {Selection} options.selection The Selection class instance.\n * @param {object} options.controller An object with keys `row`, `column`, `cell` which indicate what\n *                                    operation will be performed in later selection stages.\n */\n\nexport function mouseDown(_ref) {\n  var isShiftKey = _ref.isShiftKey,\n      isLeftClick = _ref.isLeftClick,\n      isRightClick = _ref.isRightClick,\n      coords = _ref.coords,\n      selection = _ref.selection,\n      controller = _ref.controller;\n  var currentSelection = selection.isSelected() ? selection.getSelectedRange().current() : null;\n  var selectedCorner = selection.isSelectedByCorner();\n  var selectedRow = selection.isSelectedByRowHeader();\n\n  if (isShiftKey && currentSelection) {\n    if (coords.row >= 0 && coords.col >= 0 && !controller.cell) {\n      selection.setRangeEnd(coords);\n    } else if ((selectedCorner || selectedRow) && coords.row >= 0 && coords.col >= 0 && !controller.cell) {\n      selection.setRangeEnd(new CellCoords(coords.row, coords.col));\n    } else if (selectedCorner && coords.row < 0 && !controller.column) {\n      selection.setRangeEnd(new CellCoords(currentSelection.to.row, coords.col));\n    } else if (selectedRow && coords.col < 0 && !controller.row) {\n      selection.setRangeEnd(new CellCoords(coords.row, currentSelection.to.col));\n    } else if ((!selectedCorner && !selectedRow && coords.col < 0 || selectedCorner && coords.col < 0) && !controller.row) {\n      selection.selectRows(Math.max(currentSelection.from.row, 0), coords.row, coords.col);\n    } else if ((!selectedCorner && !selectedRow && coords.row < 0 || selectedRow && coords.row < 0) && !controller.column) {\n      selection.selectColumns(Math.max(currentSelection.from.col, 0), coords.col, coords.row);\n    }\n  } else {\n    var allowRightClickSelection = !selection.inInSelection(coords);\n    var performSelection = isLeftClick || isRightClick && allowRightClickSelection; // clicked row header and when some column was selected\n\n    if (coords.row < 0 && coords.col >= 0 && !controller.column) {\n      if (performSelection) {\n        selection.selectColumns(coords.col, coords.col, coords.row);\n      } // clicked column header and when some row was selected\n\n    } else if (coords.col < 0 && coords.row >= 0 && !controller.row) {\n      if (performSelection) {\n        selection.selectRows(coords.row, coords.row, coords.col);\n      }\n    } else if (coords.col >= 0 && coords.row >= 0 && !controller.cell) {\n      if (performSelection) {\n        selection.setRangeStart(coords);\n      }\n    } else if (coords.col < 0 && coords.row < 0) {\n      selection.selectAll(true, true);\n    }\n  }\n}\n/**\n * MouseOver handler.\n *\n * @param {object} options The handler options.\n * @param {boolean} options.isLeftClick Indicates that event was fired using the left mouse button.\n * @param {CellRange} options.coords The CellCoords object with defined visual coordinates.\n * @param {Selection} options.selection The Selection class instance.\n * @param {object} options.controller An object with keys `row`, `column`, `cell` which indicate what\n *                                    operation will be performed in later selection stages.\n */\n\nexport function mouseOver(_ref2) {\n  var isLeftClick = _ref2.isLeftClick,\n      coords = _ref2.coords,\n      selection = _ref2.selection,\n      controller = _ref2.controller;\n\n  if (!isLeftClick) {\n    return;\n  }\n\n  var selectedRow = selection.isSelectedByRowHeader();\n  var selectedColumn = selection.isSelectedByColumnHeader();\n  var countCols = selection.tableProps.countCols();\n  var countRows = selection.tableProps.countRows();\n\n  if (selectedColumn && !controller.column) {\n    selection.setRangeEnd(new CellCoords(countRows - 1, coords.col));\n  } else if (selectedRow && !controller.row) {\n    selection.setRangeEnd(new CellCoords(coords.row, countCols - 1));\n  } else if (!controller.cell) {\n    selection.setRangeEnd(coords);\n  }\n}\nvar handlers = new Map([['mousedown', mouseDown], ['mouseover', mouseOver], ['touchstart', mouseDown]]);\n/**\n * Mouse handler for selection functionality.\n *\n * @param {Event} event An native event to handle.\n * @param {object} options The handler options.\n * @param {CellRange} options.coords The CellCoords object with defined visual coordinates.\n * @param {Selection} options.selection The Selection class instance.\n * @param {object} options.controller An object with keys `row`, `column`, `cell` which indicate what\n *                                    operation will be performed in later selection stages.\n */\n\nexport function handleMouseEvent(event, _ref3) {\n  var coords = _ref3.coords,\n      selection = _ref3.selection,\n      controller = _ref3.controller;\n  handlers.get(event.type)({\n    coords: coords,\n    selection: selection,\n    controller: controller,\n    isShiftKey: event.shiftKey,\n    isLeftClick: isLeftClickEvent(event) || event.type === 'touchstart',\n    isRightClick: isRightClickEvent(event)\n  });\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}