{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _s, _e;\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n  return _arr;\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n  return object;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nimport { BasePlugin } from \"../base/index.mjs\";\nimport { arrayEach, arrayFilter } from \"../../helpers/array.mjs\";\nimport { cancelAnimationFrame, requestAnimationFrame } from \"../../helpers/feature.mjs\";\nimport { isVisible } from \"../../helpers/dom/element.mjs\";\nimport GhostTable from \"../../utils/ghostTable.mjs\";\nimport { isObject, hasOwnProperty } from \"../../helpers/object.mjs\";\nimport { valueAccordingPercent, rangeEach } from \"../../helpers/number.mjs\";\nimport SamplesGenerator from \"../../utils/samplesGenerator.mjs\";\nimport { isPercentValue } from \"../../helpers/string.mjs\";\nimport { PhysicalIndexToValueMap as IndexToValueMap } from \"../../translations/index.mjs\";\nexport var PLUGIN_KEY = 'autoRowSize';\nexport var PLUGIN_PRIORITY = 40;\nvar ROW_WIDTHS_MAP_NAME = 'autoRowSize';\n/* eslint-disable jsdoc/require-description-complete-sentence */\n\n/**\n * @plugin AutoRowSize\n * @class AutoRowSize\n * @description\n * The `AutoRowSize` plugin allows you to set row heights based on their highest cells.\n *\n * By default, the plugin is declared as `undefined`, which makes it disabled (same as if it was declared as `false`).\n * Enabling this plugin may decrease the overall table performance, as it needs to calculate the heights of all cells to\n * resize the rows accordingly.\n * If you experience problems with the performance, try turning this feature off and declaring the row heights manually.\n *\n * But, to display Handsontable's [scrollbar](https://handsontable.com/docs/8.0.0/demo-scrolling.html)\n * in a proper size, you need to enable the `AutoRowSize` plugin,\n * by setting the [`autoRowSize`](@/api/options.md#autoRowSize) option to `true`.\n *\n * Row height calculations are divided into sync and async part. Each of this parts has their own advantages and\n * disadvantages. Synchronous calculations are faster but they block the browser UI, while the slower asynchronous\n * operations don't block the browser UI.\n *\n * To configure the sync/async distribution, you can pass an absolute value (number of rows) or a percentage value to a config object:\n * ```js\n * // as a number (300 rows in sync, rest async)\n * autoRowSize: {syncLimit: 300},.\n *\n * // as a string (percent)\n * autoRowSize: {syncLimit: '40%'},.\n *\n * // allow sample duplication\n * autoRowSize: {syncLimit: '40%', allowSampleDuplicates: true},\n * ```\n *\n * You can also use the `allowSampleDuplicates` option to allow sampling duplicate values when calculating the row\n * height. __Note__, that this might have a negative impact on performance.\n *\n * To configure this plugin see {@link Options#autoRowSize}.\n *\n * @example\n *\n * ```js\n * const hot = new Handsontable(document.getElementById('example'), {\n *   data: getData(),\n *   autoRowSize: true\n * });\n * // Access to plugin instance:\n * const plugin = hot.getPlugin('autoRowSize');\n *\n * plugin.getRowHeight(4);\n *\n * if (plugin.isEnabled()) {\n *   // code...\n * }\n * ```\n */\n\n/* eslint-enable jsdoc/require-description-complete-sentence */\n\nexport var AutoRowSize = /*#__PURE__*/function (_BasePlugin) {\n  _inherits(AutoRowSize, _BasePlugin);\n  var _super = _createSuper(AutoRowSize);\n  function AutoRowSize(hotInstance) {\n    var _this;\n    _classCallCheck(this, AutoRowSize);\n    _this = _super.call(this, hotInstance);\n    /**\n     * PhysicalIndexToValueMap to keep and track heights for physical row indexes.\n     *\n     * @private\n     * @type {PhysicalIndexToValueMap}\n     */\n\n    _this.rowHeightsMap = void 0;\n    /**\n     * Columns header's height cache.\n     *\n     * @private\n     * @type {number}\n     */\n\n    _this.headerHeight = null;\n    /**\n     * Instance of {@link GhostTable} for rows and columns size calculations.\n     *\n     * @private\n     * @type {GhostTable}\n     */\n\n    _this.ghostTable = new GhostTable(_this.hot);\n    /**\n     * Instance of {@link SamplesGenerator} for generating samples necessary for rows height calculations.\n     *\n     * @private\n     * @type {SamplesGenerator}\n     */\n\n    _this.samplesGenerator = new SamplesGenerator(function (row, col) {\n      var cellValue;\n      if (row >= 0) {\n        cellValue = _this.hot.getDataAtCell(row, col);\n      } else if (row === -1) {\n        cellValue = _this.hot.getColHeader(col);\n      }\n      return {\n        value: cellValue\n      };\n    });\n    /**\n     * `true` if only the first calculation was performed.\n     *\n     * @private\n     * @type {boolean}\n     */\n\n    _this.firstCalculation = true;\n    /**\n     * `true` if the size calculation is in progress.\n     *\n     * @type {boolean}\n     */\n\n    _this.inProgress = false;\n    /**\n     * Number of already measured rows (we already know their sizes).\n     *\n     * @type {number}\n     */\n\n    _this.measuredRows = 0;\n    /**\n     * PhysicalIndexToValueMap to keep and track heights for physical row indexes.\n     *\n     * @private\n     * @type {PhysicalIndexToValueMap}\n     */\n\n    _this.rowHeightsMap = new IndexToValueMap();\n    _this.hot.rowIndexMapper.registerMap(ROW_WIDTHS_MAP_NAME, _this.rowHeightsMap); // Leave the listener active to allow auto-sizing the rows when the plugin is disabled.\n    // This is necesseary for height recalculation for resize handler doubleclick (ManualRowResize).\n\n    _this.addHook('beforeRowResize', function (size, row, isDblClick) {\n      return _this.onBeforeRowResize(size, row, isDblClick);\n    });\n    return _this;\n  }\n  /**\n   * Checks if the plugin is enabled in the handsontable settings. This method is executed in {@link Hooks#beforeInit}\n   * hook and if it returns `true` than the {@link AutoRowSize#enablePlugin} method is called.\n   *\n   * @returns {boolean}\n   */\n\n  _createClass(AutoRowSize, [{\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      var settings = this.hot.getSettings()[PLUGIN_KEY];\n      return settings === true || isObject(settings);\n    }\n    /**\n     * Enables the plugin functionality for this Handsontable instance.\n     */\n  }, {\n    key: \"enablePlugin\",\n    value: function enablePlugin() {\n      var _this2 = this;\n      if (this.enabled) {\n        return;\n      }\n      this.setSamplingOptions();\n      this.addHook('afterLoadData', function () {\n        return _this2.onAfterLoadData.apply(_this2, arguments);\n      });\n      this.addHook('beforeChange', function (changes) {\n        return _this2.onBeforeChange(changes);\n      });\n      this.addHook('beforeColumnResize', function () {\n        return _this2.recalculateAllRowsHeight();\n      });\n      this.addHook('beforeViewRender', function (force) {\n        return _this2.onBeforeViewRender(force);\n      });\n      this.addHook('modifyRowHeight', function (height, row) {\n        return _this2.getRowHeight(row, height);\n      });\n      this.addHook('modifyColumnHeaderHeight', function () {\n        return _this2.getColumnHeaderHeight();\n      });\n      _get(_getPrototypeOf(AutoRowSize.prototype), \"enablePlugin\", this).call(this);\n    }\n    /**\n     * Disables the plugin functionality for this Handsontable instance.\n     */\n  }, {\n    key: \"disablePlugin\",\n    value: function disablePlugin() {\n      var _this3 = this;\n      this.headerHeight = null;\n      _get(_getPrototypeOf(AutoRowSize.prototype), \"disablePlugin\", this).call(this); // Leave the listener active to allow auto-sizing the rows when the plugin is disabled.\n      // This is necesseary for height recalculation for resize handler doubleclick (ManualRowResize).\n\n      this.addHook('beforeRowResize', function (size, row, isDblClick) {\n        return _this3.onBeforeRowResize(size, row, isDblClick);\n      });\n    }\n    /**\n     * Calculate a given rows height.\n     *\n     * @param {number|object} rowRange Row index or an object with `from` and `to` indexes as a range.\n     * @param {number|object} colRange Column index or an object with `from` and `to` indexes as a range.\n     * @param {boolean} [force=false] If `true` the calculation will be processed regardless of whether the width exists in the cache.\n     */\n  }, {\n    key: \"calculateRowsHeight\",\n    value: function calculateRowsHeight() {\n      var _this4 = this;\n      var rowRange = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        from: 0,\n        to: this.hot.countRows() - 1\n      };\n      var colRange = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        from: 0,\n        to: this.hot.countCols() - 1\n      };\n      var force = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      // eslint-disable-line max-len\n      var rowsRange = typeof rowRange === 'number' ? {\n        from: rowRange,\n        to: rowRange\n      } : rowRange;\n      var columnsRange = typeof colRange === 'number' ? {\n        from: colRange,\n        to: colRange\n      } : colRange;\n      if (this.hot.getColHeader(0) !== null) {\n        var samples = this.samplesGenerator.generateRowSamples(-1, columnsRange);\n        this.ghostTable.addColumnHeadersRow(samples.get(-1));\n      }\n      rangeEach(rowsRange.from, rowsRange.to, function (row) {\n        // For rows we must calculate row height even when user had set height value manually.\n        // We can shrink column but cannot shrink rows!\n        if (force || _this4.rowHeightsMap.getValueAtIndex(row) === null) {\n          var _samples = _this4.samplesGenerator.generateRowSamples(row, columnsRange);\n          arrayEach(_samples, function (_ref) {\n            var _ref2 = _slicedToArray(_ref, 2),\n              rowIndex = _ref2[0],\n              sample = _ref2[1];\n            return _this4.ghostTable.addRow(rowIndex, sample);\n          });\n        }\n      });\n      if (this.ghostTable.rows.length) {\n        this.hot.batchExecution(function () {\n          _this4.ghostTable.getHeights(function (row, height) {\n            if (row < 0) {\n              _this4.headerHeight = height;\n            } else {\n              _this4.rowHeightsMap.setValueAtIndex(_this4.hot.toPhysicalRow(row), height);\n            }\n          });\n        }, true);\n        this.measuredRows = rowsRange.to + 1;\n        this.ghostTable.clean();\n      }\n    }\n    /**\n     * Calculate all rows heights. The calculated row will be cached in the {@link AutoRowSize#heights} property.\n     * To retrieve height for specified row use {@link AutoRowSize#getRowHeight} method.\n     *\n     * @param {object|number} colRange Row index or an object with `from` and `to` properties which define row range.\n     */\n  }, {\n    key: \"calculateAllRowsHeight\",\n    value: function calculateAllRowsHeight() {\n      var _this5 = this;\n      var colRange = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        from: 0,\n        to: this.hot.countCols() - 1\n      };\n      var current = 0;\n      var length = this.hot.countRows() - 1;\n      var timer = null;\n      this.inProgress = true;\n      var loop = function loop() {\n        // When hot was destroyed after calculating finished cancel frame\n        if (!_this5.hot) {\n          cancelAnimationFrame(timer);\n          _this5.inProgress = false;\n          return;\n        }\n        _this5.calculateRowsHeight({\n          from: current,\n          to: Math.min(current + AutoRowSize.CALCULATION_STEP, length)\n        }, colRange);\n        current = current + AutoRowSize.CALCULATION_STEP + 1;\n        if (current < length) {\n          timer = requestAnimationFrame(loop);\n        } else {\n          cancelAnimationFrame(timer);\n          _this5.inProgress = false; // @TODO Should call once per render cycle, currently fired separately in different plugins\n\n          _this5.hot.view.adjustElementsSize(true); // tmp\n\n          if (_this5.hot.view.wt.wtOverlays.leftOverlay.needFullRender) {\n            _this5.hot.view.wt.wtOverlays.leftOverlay.clone.draw();\n          }\n        }\n      };\n      var syncLimit = this.getSyncCalculationLimit(); // sync\n\n      if (this.firstCalculation && syncLimit >= 0) {\n        this.calculateRowsHeight({\n          from: 0,\n          to: syncLimit\n        }, colRange);\n        this.firstCalculation = false;\n        current = syncLimit + 1;\n      } // async\n\n      if (current < length) {\n        loop();\n      } else {\n        this.inProgress = false;\n        this.hot.view.adjustElementsSize(false);\n      }\n    }\n    /**\n     * Sets the sampling options.\n     *\n     * @private\n     */\n  }, {\n    key: \"setSamplingOptions\",\n    value: function setSamplingOptions() {\n      var setting = this.hot.getSettings()[PLUGIN_KEY];\n      var samplingRatio = setting && hasOwnProperty(setting, 'samplingRatio') ? setting.samplingRatio : void 0;\n      var allowSampleDuplicates = setting && hasOwnProperty(setting, 'allowSampleDuplicates') ? setting.allowSampleDuplicates : void 0;\n      if (samplingRatio && !isNaN(samplingRatio)) {\n        this.samplesGenerator.setSampleCount(parseInt(samplingRatio, 10));\n      }\n      if (allowSampleDuplicates) {\n        this.samplesGenerator.setAllowDuplicates(allowSampleDuplicates);\n      }\n    }\n    /**\n     * Recalculates all rows height (overwrite cache values).\n     */\n  }, {\n    key: \"recalculateAllRowsHeight\",\n    value: function recalculateAllRowsHeight() {\n      if (isVisible(this.hot.view.wt.wtTable.TABLE)) {\n        this.clearCache();\n        this.calculateAllRowsHeight();\n      }\n    }\n    /**\n     * Gets value which tells how many rows should be calculated synchronously (rest of the rows will be calculated\n     * asynchronously). The limit is calculated based on `syncLimit` set to autoRowSize option (see {@link Options#autoRowSize}).\n     *\n     * @returns {number}\n     */\n  }, {\n    key: \"getSyncCalculationLimit\",\n    value: function getSyncCalculationLimit() {\n      var settings = this.hot.getSettings()[PLUGIN_KEY];\n      /* eslint-disable no-bitwise */\n\n      var limit = AutoRowSize.SYNC_CALCULATION_LIMIT;\n      var rowsLimit = this.hot.countRows() - 1;\n      if (isObject(settings)) {\n        limit = settings.syncLimit;\n        if (isPercentValue(limit)) {\n          limit = valueAccordingPercent(rowsLimit, limit);\n        } else {\n          // Force to Number\n          limit >>= 0;\n        }\n      }\n      return Math.min(limit, rowsLimit);\n    }\n    /**\n     * Gets the calculated row height.\n     *\n     * Mind that this method is different from the [Core](@/api/core.md)'s [`getRowHeight()`](@/api/core.md#getrowheight) method.\n     *\n     * @param {number} row Visual row index.\n     * @param {number} [defaultHeight] Default row height. It will be picked up if no calculated height found.\n     * @returns {number}\n     */\n  }, {\n    key: \"getRowHeight\",\n    value: function getRowHeight(row) {\n      var defaultHeight = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : void 0;\n      var cachedHeight = row < 0 ? this.headerHeight : this.rowHeightsMap.getValueAtIndex(this.hot.toPhysicalRow(row));\n      var height = defaultHeight;\n      if (cachedHeight !== null && cachedHeight > (defaultHeight || 0)) {\n        height = cachedHeight;\n      }\n      return height;\n    }\n    /**\n     * Get the calculated column header height.\n     *\n     * @returns {number|undefined}\n     */\n  }, {\n    key: \"getColumnHeaderHeight\",\n    value: function getColumnHeaderHeight() {\n      return this.headerHeight;\n    }\n    /**\n     * Get the first visible row.\n     *\n     * @returns {number} Returns row index, -1 if table is not rendered or if there are no rows to base the the calculations on.\n     */\n  }, {\n    key: \"getFirstVisibleRow\",\n    value: function getFirstVisibleRow() {\n      var wot = this.hot.view.wt;\n      if (wot.wtViewport.rowsVisibleCalculator) {\n        return wot.wtTable.getFirstVisibleRow();\n      }\n      if (wot.wtViewport.rowsRenderCalculator) {\n        return wot.wtTable.getFirstRenderedRow();\n      }\n      return -1;\n    }\n    /**\n     * Gets the last visible row.\n     *\n     * @returns {number} Returns row index or -1 if table is not rendered.\n     */\n  }, {\n    key: \"getLastVisibleRow\",\n    value: function getLastVisibleRow() {\n      var wot = this.hot.view.wt;\n      if (wot.wtViewport.rowsVisibleCalculator) {\n        return wot.wtTable.getLastVisibleRow();\n      }\n      if (wot.wtViewport.rowsRenderCalculator) {\n        return wot.wtTable.getLastRenderedRow();\n      }\n      return -1;\n    }\n    /**\n     * Clears cached heights.\n     */\n  }, {\n    key: \"clearCache\",\n    value: function clearCache() {\n      this.headerHeight = null;\n      this.rowHeightsMap.init();\n    }\n    /**\n     * Clears cache by range.\n     *\n     * @param {object|number} range Row index or an object with `from` and `to` properties which define row range.\n     */\n  }, {\n    key: \"clearCacheByRange\",\n    value: function clearCacheByRange(range) {\n      var _this6 = this;\n      var _ref3 = typeof range === 'number' ? {\n          from: range,\n          to: range\n        } : range,\n        from = _ref3.from,\n        to = _ref3.to;\n      this.hot.batchExecution(function () {\n        rangeEach(Math.min(from, to), Math.max(from, to), function (row) {\n          _this6.rowHeightsMap.setValueAtIndex(row, null);\n        });\n      }, true);\n    }\n    /**\n     * Checks if all heights were calculated. If not then return `true` (need recalculate).\n     *\n     * @returns {boolean}\n     */\n  }, {\n    key: \"isNeedRecalculate\",\n    value: function isNeedRecalculate() {\n      return !!arrayFilter(this.rowHeightsMap.getValues().slice(0, this.measuredRows), function (item) {\n        return item === null;\n      }).length;\n    }\n    /**\n     * On before view render listener.\n     *\n     * @private\n     */\n  }, {\n    key: \"onBeforeViewRender\",\n    value: function onBeforeViewRender() {\n      var force = this.hot.renderCall;\n      var fixedRowsBottom = this.hot.getSettings().fixedRowsBottom;\n      var firstVisibleRow = this.getFirstVisibleRow();\n      var lastVisibleRow = this.getLastVisibleRow();\n      if (firstVisibleRow === -1 || lastVisibleRow === -1) {\n        return;\n      }\n      this.calculateRowsHeight({\n        from: firstVisibleRow,\n        to: lastVisibleRow\n      }, void 0, force); // Calculate rows height synchronously for bottom overlay\n\n      if (fixedRowsBottom) {\n        var totalRows = this.hot.countRows() - 1;\n        this.calculateRowsHeight({\n          from: totalRows - fixedRowsBottom,\n          to: totalRows\n        });\n      }\n      if (this.isNeedRecalculate() && !this.inProgress) {\n        this.calculateAllRowsHeight();\n      }\n    }\n    /**\n     * On before row move listener.\n     *\n     * @private\n     * @param {number} from Row index where was grabbed.\n     * @param {number} to Destination row index.\n     */\n  }, {\n    key: \"onBeforeRowMove\",\n    value: function onBeforeRowMove(from, to) {\n      this.clearCacheByRange({\n        from: from,\n        to: to\n      });\n      this.calculateAllRowsHeight();\n    }\n    /**\n     * On before row resize listener.\n     *\n     * @private\n     * @param {number} size The size of the current row index.\n     * @param {number} row Current row index.\n     * @param {boolean} isDblClick Indicates if the resize was triggered by doubleclick.\n     * @returns {number}\n     */\n  }, {\n    key: \"onBeforeRowResize\",\n    value: function onBeforeRowResize(size, row, isDblClick) {\n      var newSize = size;\n      if (isDblClick) {\n        this.calculateRowsHeight(row, void 0, true);\n        newSize = this.getRowHeight(row);\n      }\n      return newSize;\n    }\n    /**\n     * On after load data listener.\n     *\n     * @private\n     */\n  }, {\n    key: \"onAfterLoadData\",\n    value: function onAfterLoadData() {\n      var _this7 = this;\n      if (this.hot.view) {\n        this.recalculateAllRowsHeight();\n      } else {\n        // first load - initialization\n        setTimeout(function () {\n          if (_this7.hot) {\n            _this7.recalculateAllRowsHeight();\n          }\n        }, 0);\n      }\n    }\n    /**\n     * On before change listener.\n     *\n     * @private\n     * @param {Array} changes 2D array containing information about each of the edited cells.\n     */\n  }, {\n    key: \"onBeforeChange\",\n    value: function onBeforeChange(changes) {\n      var range = null;\n      if (changes.length === 1) {\n        range = changes[0][0];\n      } else if (changes.length > 1) {\n        range = {\n          from: changes[0][0],\n          to: changes[changes.length - 1][0]\n        };\n      }\n      if (range !== null) {\n        this.clearCacheByRange(range);\n      }\n    }\n    /**\n     * Destroys the plugin instance.\n     */\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.ghostTable.clean();\n      _get(_getPrototypeOf(AutoRowSize.prototype), \"destroy\", this).call(this);\n    }\n  }], [{\n    key: \"PLUGIN_KEY\",\n    get: function get() {\n      return PLUGIN_KEY;\n    }\n  }, {\n    key: \"PLUGIN_PRIORITY\",\n    get: function get() {\n      return PLUGIN_PRIORITY;\n    }\n  }, {\n    key: \"CALCULATION_STEP\",\n    get: function get() {\n      return 50;\n    }\n  }, {\n    key: \"SYNC_CALCULATION_LIMIT\",\n    get: function get() {\n      return 500;\n    }\n  }]);\n  return AutoRowSize;\n}(BasePlugin);","map":{"version":3,"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","Object","toString","call","slice","name","Array","from","test","len","length","arr2","_i","_arr","_n","_d","_s","_e","next","done","push","value","err","isArray","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","_get","Reflect","get","property","receiver","base","_superPropBase","desc","getOwnPropertyDescriptor","arguments","apply","object","hasOwnProperty","_getPrototypeOf","_inherits","subClass","superClass","create","_setPrototypeOf","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","BasePlugin","arrayEach","arrayFilter","cancelAnimationFrame","requestAnimationFrame","isVisible","GhostTable","isObject","valueAccordingPercent","rangeEach","SamplesGenerator","isPercentValue","PhysicalIndexToValueMap","IndexToValueMap","PLUGIN_KEY","PLUGIN_PRIORITY","ROW_WIDTHS_MAP_NAME","AutoRowSize","_BasePlugin","_super","hotInstance","_this","rowHeightsMap","headerHeight","ghostTable","hot","samplesGenerator","row","col","cellValue","getDataAtCell","getColHeader","firstCalculation","inProgress","measuredRows","rowIndexMapper","registerMap","addHook","size","isDblClick","onBeforeRowResize","isEnabled","settings","getSettings","enablePlugin","_this2","enabled","setSamplingOptions","onAfterLoadData","changes","onBeforeChange","recalculateAllRowsHeight","force","onBeforeViewRender","height","getRowHeight","getColumnHeaderHeight","disablePlugin","_this3","calculateRowsHeight","_this4","rowRange","undefined","to","countRows","colRange","countCols","rowsRange","columnsRange","samples","generateRowSamples","addColumnHeadersRow","getValueAtIndex","_samples","_ref","_ref2","rowIndex","sample","addRow","rows","batchExecution","getHeights","setValueAtIndex","toPhysicalRow","clean","calculateAllRowsHeight","_this5","current","timer","loop","Math","min","CALCULATION_STEP","view","adjustElementsSize","wt","wtOverlays","leftOverlay","needFullRender","clone","draw","syncLimit","getSyncCalculationLimit","setting","samplingRatio","allowSampleDuplicates","isNaN","setSampleCount","parseInt","setAllowDuplicates","wtTable","TABLE","clearCache","limit","SYNC_CALCULATION_LIMIT","rowsLimit","defaultHeight","cachedHeight","getFirstVisibleRow","wot","wtViewport","rowsVisibleCalculator","rowsRenderCalculator","getFirstRenderedRow","getLastVisibleRow","getLastRenderedRow","init","clearCacheByRange","range","_this6","_ref3","max","isNeedRecalculate","getValues","item","renderCall","fixedRowsBottom","firstVisibleRow","lastVisibleRow","totalRows","onBeforeRowMove","newSize","_this7","setTimeout","destroy"],"sources":["/Users/priyadeliwala/Desktop/sales-dashboard/node_modules/handsontable/plugins/autoRowSize/autoRowSize.mjs"],"sourcesContent":["function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/web.timers.js\";\nimport \"core-js/modules/es.object.set-prototype-of.js\";\nimport \"core-js/modules/es.object.get-prototype-of.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.reflect.construct.js\";\nimport \"core-js/modules/es.reflect.get.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.symbol.iterator.js\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { BasePlugin } from \"../base/index.mjs\";\nimport { arrayEach, arrayFilter } from \"../../helpers/array.mjs\";\nimport { cancelAnimationFrame, requestAnimationFrame } from \"../../helpers/feature.mjs\";\nimport { isVisible } from \"../../helpers/dom/element.mjs\";\nimport GhostTable from \"../../utils/ghostTable.mjs\";\nimport { isObject, hasOwnProperty } from \"../../helpers/object.mjs\";\nimport { valueAccordingPercent, rangeEach } from \"../../helpers/number.mjs\";\nimport SamplesGenerator from \"../../utils/samplesGenerator.mjs\";\nimport { isPercentValue } from \"../../helpers/string.mjs\";\nimport { PhysicalIndexToValueMap as IndexToValueMap } from \"../../translations/index.mjs\";\nexport var PLUGIN_KEY = 'autoRowSize';\nexport var PLUGIN_PRIORITY = 40;\nvar ROW_WIDTHS_MAP_NAME = 'autoRowSize';\n/* eslint-disable jsdoc/require-description-complete-sentence */\n\n/**\n * @plugin AutoRowSize\n * @class AutoRowSize\n * @description\n * The `AutoRowSize` plugin allows you to set row heights based on their highest cells.\n *\n * By default, the plugin is declared as `undefined`, which makes it disabled (same as if it was declared as `false`).\n * Enabling this plugin may decrease the overall table performance, as it needs to calculate the heights of all cells to\n * resize the rows accordingly.\n * If you experience problems with the performance, try turning this feature off and declaring the row heights manually.\n *\n * But, to display Handsontable's [scrollbar](https://handsontable.com/docs/8.0.0/demo-scrolling.html)\n * in a proper size, you need to enable the `AutoRowSize` plugin,\n * by setting the [`autoRowSize`](@/api/options.md#autoRowSize) option to `true`.\n *\n * Row height calculations are divided into sync and async part. Each of this parts has their own advantages and\n * disadvantages. Synchronous calculations are faster but they block the browser UI, while the slower asynchronous\n * operations don't block the browser UI.\n *\n * To configure the sync/async distribution, you can pass an absolute value (number of rows) or a percentage value to a config object:\n * ```js\n * // as a number (300 rows in sync, rest async)\n * autoRowSize: {syncLimit: 300},.\n *\n * // as a string (percent)\n * autoRowSize: {syncLimit: '40%'},.\n *\n * // allow sample duplication\n * autoRowSize: {syncLimit: '40%', allowSampleDuplicates: true},\n * ```\n *\n * You can also use the `allowSampleDuplicates` option to allow sampling duplicate values when calculating the row\n * height. __Note__, that this might have a negative impact on performance.\n *\n * To configure this plugin see {@link Options#autoRowSize}.\n *\n * @example\n *\n * ```js\n * const hot = new Handsontable(document.getElementById('example'), {\n *   data: getData(),\n *   autoRowSize: true\n * });\n * // Access to plugin instance:\n * const plugin = hot.getPlugin('autoRowSize');\n *\n * plugin.getRowHeight(4);\n *\n * if (plugin.isEnabled()) {\n *   // code...\n * }\n * ```\n */\n\n/* eslint-enable jsdoc/require-description-complete-sentence */\n\nexport var AutoRowSize = /*#__PURE__*/function (_BasePlugin) {\n  _inherits(AutoRowSize, _BasePlugin);\n\n  var _super = _createSuper(AutoRowSize);\n\n  function AutoRowSize(hotInstance) {\n    var _this;\n\n    _classCallCheck(this, AutoRowSize);\n\n    _this = _super.call(this, hotInstance);\n    /**\n     * PhysicalIndexToValueMap to keep and track heights for physical row indexes.\n     *\n     * @private\n     * @type {PhysicalIndexToValueMap}\n     */\n\n    _this.rowHeightsMap = void 0;\n    /**\n     * Columns header's height cache.\n     *\n     * @private\n     * @type {number}\n     */\n\n    _this.headerHeight = null;\n    /**\n     * Instance of {@link GhostTable} for rows and columns size calculations.\n     *\n     * @private\n     * @type {GhostTable}\n     */\n\n    _this.ghostTable = new GhostTable(_this.hot);\n    /**\n     * Instance of {@link SamplesGenerator} for generating samples necessary for rows height calculations.\n     *\n     * @private\n     * @type {SamplesGenerator}\n     */\n\n    _this.samplesGenerator = new SamplesGenerator(function (row, col) {\n      var cellValue;\n\n      if (row >= 0) {\n        cellValue = _this.hot.getDataAtCell(row, col);\n      } else if (row === -1) {\n        cellValue = _this.hot.getColHeader(col);\n      }\n\n      return {\n        value: cellValue\n      };\n    });\n    /**\n     * `true` if only the first calculation was performed.\n     *\n     * @private\n     * @type {boolean}\n     */\n\n    _this.firstCalculation = true;\n    /**\n     * `true` if the size calculation is in progress.\n     *\n     * @type {boolean}\n     */\n\n    _this.inProgress = false;\n    /**\n     * Number of already measured rows (we already know their sizes).\n     *\n     * @type {number}\n     */\n\n    _this.measuredRows = 0;\n    /**\n     * PhysicalIndexToValueMap to keep and track heights for physical row indexes.\n     *\n     * @private\n     * @type {PhysicalIndexToValueMap}\n     */\n\n    _this.rowHeightsMap = new IndexToValueMap();\n\n    _this.hot.rowIndexMapper.registerMap(ROW_WIDTHS_MAP_NAME, _this.rowHeightsMap); // Leave the listener active to allow auto-sizing the rows when the plugin is disabled.\n    // This is necesseary for height recalculation for resize handler doubleclick (ManualRowResize).\n\n\n    _this.addHook('beforeRowResize', function (size, row, isDblClick) {\n      return _this.onBeforeRowResize(size, row, isDblClick);\n    });\n\n    return _this;\n  }\n  /**\n   * Checks if the plugin is enabled in the handsontable settings. This method is executed in {@link Hooks#beforeInit}\n   * hook and if it returns `true` than the {@link AutoRowSize#enablePlugin} method is called.\n   *\n   * @returns {boolean}\n   */\n\n\n  _createClass(AutoRowSize, [{\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      var settings = this.hot.getSettings()[PLUGIN_KEY];\n      return settings === true || isObject(settings);\n    }\n    /**\n     * Enables the plugin functionality for this Handsontable instance.\n     */\n\n  }, {\n    key: \"enablePlugin\",\n    value: function enablePlugin() {\n      var _this2 = this;\n\n      if (this.enabled) {\n        return;\n      }\n\n      this.setSamplingOptions();\n      this.addHook('afterLoadData', function () {\n        return _this2.onAfterLoadData.apply(_this2, arguments);\n      });\n      this.addHook('beforeChange', function (changes) {\n        return _this2.onBeforeChange(changes);\n      });\n      this.addHook('beforeColumnResize', function () {\n        return _this2.recalculateAllRowsHeight();\n      });\n      this.addHook('beforeViewRender', function (force) {\n        return _this2.onBeforeViewRender(force);\n      });\n      this.addHook('modifyRowHeight', function (height, row) {\n        return _this2.getRowHeight(row, height);\n      });\n      this.addHook('modifyColumnHeaderHeight', function () {\n        return _this2.getColumnHeaderHeight();\n      });\n\n      _get(_getPrototypeOf(AutoRowSize.prototype), \"enablePlugin\", this).call(this);\n    }\n    /**\n     * Disables the plugin functionality for this Handsontable instance.\n     */\n\n  }, {\n    key: \"disablePlugin\",\n    value: function disablePlugin() {\n      var _this3 = this;\n\n      this.headerHeight = null;\n\n      _get(_getPrototypeOf(AutoRowSize.prototype), \"disablePlugin\", this).call(this); // Leave the listener active to allow auto-sizing the rows when the plugin is disabled.\n      // This is necesseary for height recalculation for resize handler doubleclick (ManualRowResize).\n\n\n      this.addHook('beforeRowResize', function (size, row, isDblClick) {\n        return _this3.onBeforeRowResize(size, row, isDblClick);\n      });\n    }\n    /**\n     * Calculate a given rows height.\n     *\n     * @param {number|object} rowRange Row index or an object with `from` and `to` indexes as a range.\n     * @param {number|object} colRange Column index or an object with `from` and `to` indexes as a range.\n     * @param {boolean} [force=false] If `true` the calculation will be processed regardless of whether the width exists in the cache.\n     */\n\n  }, {\n    key: \"calculateRowsHeight\",\n    value: function calculateRowsHeight() {\n      var _this4 = this;\n\n      var rowRange = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        from: 0,\n        to: this.hot.countRows() - 1\n      };\n      var colRange = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        from: 0,\n        to: this.hot.countCols() - 1\n      };\n      var force = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      // eslint-disable-line max-len\n      var rowsRange = typeof rowRange === 'number' ? {\n        from: rowRange,\n        to: rowRange\n      } : rowRange;\n      var columnsRange = typeof colRange === 'number' ? {\n        from: colRange,\n        to: colRange\n      } : colRange;\n\n      if (this.hot.getColHeader(0) !== null) {\n        var samples = this.samplesGenerator.generateRowSamples(-1, columnsRange);\n        this.ghostTable.addColumnHeadersRow(samples.get(-1));\n      }\n\n      rangeEach(rowsRange.from, rowsRange.to, function (row) {\n        // For rows we must calculate row height even when user had set height value manually.\n        // We can shrink column but cannot shrink rows!\n        if (force || _this4.rowHeightsMap.getValueAtIndex(row) === null) {\n          var _samples = _this4.samplesGenerator.generateRowSamples(row, columnsRange);\n\n          arrayEach(_samples, function (_ref) {\n            var _ref2 = _slicedToArray(_ref, 2),\n                rowIndex = _ref2[0],\n                sample = _ref2[1];\n\n            return _this4.ghostTable.addRow(rowIndex, sample);\n          });\n        }\n      });\n\n      if (this.ghostTable.rows.length) {\n        this.hot.batchExecution(function () {\n          _this4.ghostTable.getHeights(function (row, height) {\n            if (row < 0) {\n              _this4.headerHeight = height;\n            } else {\n              _this4.rowHeightsMap.setValueAtIndex(_this4.hot.toPhysicalRow(row), height);\n            }\n          });\n        }, true);\n        this.measuredRows = rowsRange.to + 1;\n        this.ghostTable.clean();\n      }\n    }\n    /**\n     * Calculate all rows heights. The calculated row will be cached in the {@link AutoRowSize#heights} property.\n     * To retrieve height for specified row use {@link AutoRowSize#getRowHeight} method.\n     *\n     * @param {object|number} colRange Row index or an object with `from` and `to` properties which define row range.\n     */\n\n  }, {\n    key: \"calculateAllRowsHeight\",\n    value: function calculateAllRowsHeight() {\n      var _this5 = this;\n\n      var colRange = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        from: 0,\n        to: this.hot.countCols() - 1\n      };\n      var current = 0;\n      var length = this.hot.countRows() - 1;\n      var timer = null;\n      this.inProgress = true;\n\n      var loop = function loop() {\n        // When hot was destroyed after calculating finished cancel frame\n        if (!_this5.hot) {\n          cancelAnimationFrame(timer);\n          _this5.inProgress = false;\n          return;\n        }\n\n        _this5.calculateRowsHeight({\n          from: current,\n          to: Math.min(current + AutoRowSize.CALCULATION_STEP, length)\n        }, colRange);\n\n        current = current + AutoRowSize.CALCULATION_STEP + 1;\n\n        if (current < length) {\n          timer = requestAnimationFrame(loop);\n        } else {\n          cancelAnimationFrame(timer);\n          _this5.inProgress = false; // @TODO Should call once per render cycle, currently fired separately in different plugins\n\n          _this5.hot.view.adjustElementsSize(true); // tmp\n\n\n          if (_this5.hot.view.wt.wtOverlays.leftOverlay.needFullRender) {\n            _this5.hot.view.wt.wtOverlays.leftOverlay.clone.draw();\n          }\n        }\n      };\n\n      var syncLimit = this.getSyncCalculationLimit(); // sync\n\n      if (this.firstCalculation && syncLimit >= 0) {\n        this.calculateRowsHeight({\n          from: 0,\n          to: syncLimit\n        }, colRange);\n        this.firstCalculation = false;\n        current = syncLimit + 1;\n      } // async\n\n\n      if (current < length) {\n        loop();\n      } else {\n        this.inProgress = false;\n        this.hot.view.adjustElementsSize(false);\n      }\n    }\n    /**\n     * Sets the sampling options.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"setSamplingOptions\",\n    value: function setSamplingOptions() {\n      var setting = this.hot.getSettings()[PLUGIN_KEY];\n      var samplingRatio = setting && hasOwnProperty(setting, 'samplingRatio') ? setting.samplingRatio : void 0;\n      var allowSampleDuplicates = setting && hasOwnProperty(setting, 'allowSampleDuplicates') ? setting.allowSampleDuplicates : void 0;\n\n      if (samplingRatio && !isNaN(samplingRatio)) {\n        this.samplesGenerator.setSampleCount(parseInt(samplingRatio, 10));\n      }\n\n      if (allowSampleDuplicates) {\n        this.samplesGenerator.setAllowDuplicates(allowSampleDuplicates);\n      }\n    }\n    /**\n     * Recalculates all rows height (overwrite cache values).\n     */\n\n  }, {\n    key: \"recalculateAllRowsHeight\",\n    value: function recalculateAllRowsHeight() {\n      if (isVisible(this.hot.view.wt.wtTable.TABLE)) {\n        this.clearCache();\n        this.calculateAllRowsHeight();\n      }\n    }\n    /**\n     * Gets value which tells how many rows should be calculated synchronously (rest of the rows will be calculated\n     * asynchronously). The limit is calculated based on `syncLimit` set to autoRowSize option (see {@link Options#autoRowSize}).\n     *\n     * @returns {number}\n     */\n\n  }, {\n    key: \"getSyncCalculationLimit\",\n    value: function getSyncCalculationLimit() {\n      var settings = this.hot.getSettings()[PLUGIN_KEY];\n      /* eslint-disable no-bitwise */\n\n      var limit = AutoRowSize.SYNC_CALCULATION_LIMIT;\n      var rowsLimit = this.hot.countRows() - 1;\n\n      if (isObject(settings)) {\n        limit = settings.syncLimit;\n\n        if (isPercentValue(limit)) {\n          limit = valueAccordingPercent(rowsLimit, limit);\n        } else {\n          // Force to Number\n          limit >>= 0;\n        }\n      }\n\n      return Math.min(limit, rowsLimit);\n    }\n    /**\n     * Gets the calculated row height.\n     *\n     * Mind that this method is different from the [Core](@/api/core.md)'s [`getRowHeight()`](@/api/core.md#getrowheight) method.\n     *\n     * @param {number} row Visual row index.\n     * @param {number} [defaultHeight] Default row height. It will be picked up if no calculated height found.\n     * @returns {number}\n     */\n\n  }, {\n    key: \"getRowHeight\",\n    value: function getRowHeight(row) {\n      var defaultHeight = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : void 0;\n      var cachedHeight = row < 0 ? this.headerHeight : this.rowHeightsMap.getValueAtIndex(this.hot.toPhysicalRow(row));\n      var height = defaultHeight;\n\n      if (cachedHeight !== null && cachedHeight > (defaultHeight || 0)) {\n        height = cachedHeight;\n      }\n\n      return height;\n    }\n    /**\n     * Get the calculated column header height.\n     *\n     * @returns {number|undefined}\n     */\n\n  }, {\n    key: \"getColumnHeaderHeight\",\n    value: function getColumnHeaderHeight() {\n      return this.headerHeight;\n    }\n    /**\n     * Get the first visible row.\n     *\n     * @returns {number} Returns row index, -1 if table is not rendered or if there are no rows to base the the calculations on.\n     */\n\n  }, {\n    key: \"getFirstVisibleRow\",\n    value: function getFirstVisibleRow() {\n      var wot = this.hot.view.wt;\n\n      if (wot.wtViewport.rowsVisibleCalculator) {\n        return wot.wtTable.getFirstVisibleRow();\n      }\n\n      if (wot.wtViewport.rowsRenderCalculator) {\n        return wot.wtTable.getFirstRenderedRow();\n      }\n\n      return -1;\n    }\n    /**\n     * Gets the last visible row.\n     *\n     * @returns {number} Returns row index or -1 if table is not rendered.\n     */\n\n  }, {\n    key: \"getLastVisibleRow\",\n    value: function getLastVisibleRow() {\n      var wot = this.hot.view.wt;\n\n      if (wot.wtViewport.rowsVisibleCalculator) {\n        return wot.wtTable.getLastVisibleRow();\n      }\n\n      if (wot.wtViewport.rowsRenderCalculator) {\n        return wot.wtTable.getLastRenderedRow();\n      }\n\n      return -1;\n    }\n    /**\n     * Clears cached heights.\n     */\n\n  }, {\n    key: \"clearCache\",\n    value: function clearCache() {\n      this.headerHeight = null;\n      this.rowHeightsMap.init();\n    }\n    /**\n     * Clears cache by range.\n     *\n     * @param {object|number} range Row index or an object with `from` and `to` properties which define row range.\n     */\n\n  }, {\n    key: \"clearCacheByRange\",\n    value: function clearCacheByRange(range) {\n      var _this6 = this;\n\n      var _ref3 = typeof range === 'number' ? {\n        from: range,\n        to: range\n      } : range,\n          from = _ref3.from,\n          to = _ref3.to;\n\n      this.hot.batchExecution(function () {\n        rangeEach(Math.min(from, to), Math.max(from, to), function (row) {\n          _this6.rowHeightsMap.setValueAtIndex(row, null);\n        });\n      }, true);\n    }\n    /**\n     * Checks if all heights were calculated. If not then return `true` (need recalculate).\n     *\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"isNeedRecalculate\",\n    value: function isNeedRecalculate() {\n      return !!arrayFilter(this.rowHeightsMap.getValues().slice(0, this.measuredRows), function (item) {\n        return item === null;\n      }).length;\n    }\n    /**\n     * On before view render listener.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"onBeforeViewRender\",\n    value: function onBeforeViewRender() {\n      var force = this.hot.renderCall;\n      var fixedRowsBottom = this.hot.getSettings().fixedRowsBottom;\n      var firstVisibleRow = this.getFirstVisibleRow();\n      var lastVisibleRow = this.getLastVisibleRow();\n\n      if (firstVisibleRow === -1 || lastVisibleRow === -1) {\n        return;\n      }\n\n      this.calculateRowsHeight({\n        from: firstVisibleRow,\n        to: lastVisibleRow\n      }, void 0, force); // Calculate rows height synchronously for bottom overlay\n\n      if (fixedRowsBottom) {\n        var totalRows = this.hot.countRows() - 1;\n        this.calculateRowsHeight({\n          from: totalRows - fixedRowsBottom,\n          to: totalRows\n        });\n      }\n\n      if (this.isNeedRecalculate() && !this.inProgress) {\n        this.calculateAllRowsHeight();\n      }\n    }\n    /**\n     * On before row move listener.\n     *\n     * @private\n     * @param {number} from Row index where was grabbed.\n     * @param {number} to Destination row index.\n     */\n\n  }, {\n    key: \"onBeforeRowMove\",\n    value: function onBeforeRowMove(from, to) {\n      this.clearCacheByRange({\n        from: from,\n        to: to\n      });\n      this.calculateAllRowsHeight();\n    }\n    /**\n     * On before row resize listener.\n     *\n     * @private\n     * @param {number} size The size of the current row index.\n     * @param {number} row Current row index.\n     * @param {boolean} isDblClick Indicates if the resize was triggered by doubleclick.\n     * @returns {number}\n     */\n\n  }, {\n    key: \"onBeforeRowResize\",\n    value: function onBeforeRowResize(size, row, isDblClick) {\n      var newSize = size;\n\n      if (isDblClick) {\n        this.calculateRowsHeight(row, void 0, true);\n        newSize = this.getRowHeight(row);\n      }\n\n      return newSize;\n    }\n    /**\n     * On after load data listener.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"onAfterLoadData\",\n    value: function onAfterLoadData() {\n      var _this7 = this;\n\n      if (this.hot.view) {\n        this.recalculateAllRowsHeight();\n      } else {\n        // first load - initialization\n        setTimeout(function () {\n          if (_this7.hot) {\n            _this7.recalculateAllRowsHeight();\n          }\n        }, 0);\n      }\n    }\n    /**\n     * On before change listener.\n     *\n     * @private\n     * @param {Array} changes 2D array containing information about each of the edited cells.\n     */\n\n  }, {\n    key: \"onBeforeChange\",\n    value: function onBeforeChange(changes) {\n      var range = null;\n\n      if (changes.length === 1) {\n        range = changes[0][0];\n      } else if (changes.length > 1) {\n        range = {\n          from: changes[0][0],\n          to: changes[changes.length - 1][0]\n        };\n      }\n\n      if (range !== null) {\n        this.clearCacheByRange(range);\n      }\n    }\n    /**\n     * Destroys the plugin instance.\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.ghostTable.clean();\n\n      _get(_getPrototypeOf(AutoRowSize.prototype), \"destroy\", this).call(this);\n    }\n  }], [{\n    key: \"PLUGIN_KEY\",\n    get: function get() {\n      return PLUGIN_KEY;\n    }\n  }, {\n    key: \"PLUGIN_PRIORITY\",\n    get: function get() {\n      return PLUGIN_PRIORITY;\n    }\n  }, {\n    key: \"CALCULATION_STEP\",\n    get: function get() {\n      return 50;\n    }\n  }, {\n    key: \"SYNC_CALCULATION_LIMIT\",\n    get: function get() {\n      return 500;\n    }\n  }]);\n\n  return AutoRowSize;\n}(BasePlugin);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}